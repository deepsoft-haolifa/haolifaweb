(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["entryMateriallist"],{"26be":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"page-entryMaterial-form abs scroll-y"},[o("div",{staticClass:"form-content"},[o("div",{staticClass:"title b f-18"},[t._v("零件入库")]),o("div",{staticClass:"flex-v-center"},[o("input-box",{staticClass:"flex-item mr-10",attrs:{label:"零件名称",disabled:"disabled"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),o("input-box",{staticClass:"flex-item mr-10",attrs:{label:"图号",disabled:"disabled"},model:{value:t.form.materialGraphNo,callback:function(e){t.$set(t.form,"materialGraphNo",e)},expression:"form.materialGraphNo"}})],1),o("div",{staticClass:"flex-v-center"},[o("input-box",{staticClass:"mr-10",staticStyle:{width:"20%"},attrs:{label:"订单号"},model:{value:t.form.orderNo,callback:function(e){t.$set(t.form,"orderNo",e)},expression:"form.orderNo"}}),o("input-box",{staticClass:"mr-10",staticStyle:{width:"20%"},attrs:{label:"零件购买单价"},model:{value:t.form.price,callback:function(e){t.$set(t.form,"price",e)},expression:"form.price"}}),o("input-box",{staticClass:"mr-10",staticStyle:{width:"40%"},attrs:{labemel:"供应商"},model:{value:t.form.supplier,callback:function(e){t.$set(t.form,"supplier",e)},expression:"form.supplier"}})],1),o("div",{staticClass:"flex-v-center"},[o("select-box",{staticClass:"mr-10",staticStyle:{width:"20%"},attrs:{list:t.roomList,label:"所属库房"},on:{change:t.getRoomId},model:{value:t.form.storeRoomId,callback:function(e){t.$set(t.form,"storeRoomId",e)},expression:"form.storeRoomId"}}),o("select-box",{staticClass:"mr-10",staticStyle:{width:"20%"},attrs:{list:t.rackListnew,label:"所属库位"},on:{change:t.getRackId},model:{value:t.form.storeRoomRackNo,callback:function(e){t.$set(t.form,"storeRoomRackNo",e)},expression:"form.storeRoomRackNo"}}),o("input-box",{staticClass:"mr-10",staticStyle:{width:"20%"},attrs:{label:"入库数量（正数）"},model:{value:t.form.quantity,callback:function(e){t.$set(t.form,"quantity",e)},expression:"form.quantity"}})],1),o("div"),o("div",{staticClass:"flex-v-center",staticStyle:{margin:"20px 0"}},[o("btn",{staticClass:"mr-20",attrs:{big:"",disabled:!t.canSubmit},on:{click:t.submit}},[t._v("提交")]),o("btn",{staticClass:"mr-20",attrs:{big:"",flat:"",bg:""},on:{click:t.cancel}},[t._v("取消")])],1)])])},i=[],r=(o("a481"),o("7514"),o("7f7f"),{name:"page-entryMaterial-form",data:function(){return{typeList:[{text:"原料库",value:1},{text:"成品库",value:2}],form:{materialGraphNo:"",orderNo:"",price:"",storeRoomRackNo:"",supplier:"",storeRoomId:"",storeRoomRackId:"",quantity:""},name:"",roomList:[],rackList:[],rackListnew:[]}},computed:{canSubmit:function(){var t=this.form;return t.materialGraphNo&&t.quantity&&t.supplier}},created:function(){var t=this.$route.query,e=t.graphNo,o=t.name;void 0!==e&&"entryMaterial-list"===this.$route.name&&this.getInfo(e,o),this.getRoomList(),this.getRoomRackList(),this.getRoomId(),this.getRackId()},methods:{getRackId:function(){var t=this,e=this.rackList.find(function(e){return e.value===t.form.storeRoomRackNo});this.form.storeRoomRackId=e?e.id:""},getRoomId:function(){var t=this,e=this.rackList.filter(function(e){return e.roomId===t.form.storeRoomId});this.rackListnew=e},getRoomList:function(){var t=this;this.$http.get("/haolifa/store-room/listInfo?type=0").then(function(e){t.roomList=e.filter(function(t){return!t.isDelete}).map(function(t){return{value:t.roomNo,text:t.name}})})},getRoomRackList:function(){var t=this;this.$http.get("/haolifa/store-room/rack/pageInfo").then(function(e){t.rackList=e.list.filter(function(t){return!t.isDelete}).map(function(t){return{value:t.rackNo,text:t.rackName,roomId:t.storeRoomNo,id:t.id}})})},getInfo:function(t,e){var o=this;this.$http.get("/haolifa/material/getInfo/".concat(t)).then(function(a){for(var i in o.form)void 0!==o.form[i]&&(o.form.materialGraphNo=t),o.name=e}).catch(function(t){o.$toast(t.msg||t.message)})},cancel:function(){var t=this;this.$confirm({title:"您确定要离开此页面吗？",text:"您的表单将不会保存",color:"red",btns:["取消","离开"],yes:function(){t.$router.back()}})},submit:function(){var t=this,e=this.form;this.loading=!0;var o="put";this.$http[o]("/haolifa/store-room/entryOut/entryMaterial",e).then(function(e){t.loading=!1,t.$router.replace("/material")}).catch(function(e){t.loading=!1,t.$toast(e.msg||e.message)})}}}),s=r,n=(o("eac6"),o("2877")),l=Object(n["a"])(s,a,i,!1,null,null,null);l.options.__file="entryMaterial.vue";e["default"]=l.exports},"90e2":function(t,e,o){},eac6:function(t,e,o){"use strict";var a=o("90e2"),i=o.n(a);i.a}}]);
//# sourceMappingURL=entryMateriallist.8f525dfc.js.map