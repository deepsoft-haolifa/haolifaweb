(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["entryProduct"],{"8d08":function(t,o,e){"use strict";var r=e("fb90"),a=e.n(r);a.a},ebfb:function(t,o,e){"use strict";e.r(o);var r=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"page-entryMaterial-form abs scroll-y"},[e("div",{staticClass:"form-content"},[e("div",{staticClass:"title b f-18"},[t._v("成品入库")]),e("div",{staticClass:"flex-v-center"},[e("input-box",{staticClass:"flex-item mr-10",attrs:{label:"成品名称",disabled:"disabled"},model:{value:t.name,callback:function(o){t.name=o},expression:"name"}}),e("input-box",{staticClass:"flex-item mr-10",attrs:{label:"成品号",disabled:"disabled"},model:{value:t.form.productNo,callback:function(o){t.$set(t.form,"productNo",o)},expression:"form.productNo"}})],1),e("div",{staticClass:"flex-v-center"},[e("input-box",{staticClass:"mr-10",staticStyle:{width:"20%"},attrs:{label:"订单号"},model:{value:t.form.orderNo,callback:function(o){t.$set(t.form,"orderNo",o)},expression:"form.orderNo"}}),e("input-box",{staticClass:"mr-10",staticStyle:{width:"20%"},attrs:{label:"生产部门"},model:{value:t.form.productDepartment,callback:function(o){t.$set(t.form,"productDepartment",o)},expression:"form.productDepartment"}})],1),e("div",{staticClass:"flex-v-center"},[e("select-box",{staticClass:"mr-10",staticStyle:{width:"20%"},attrs:{list:t.roomList,label:"所属库房"},on:{change:t.getRoomId},model:{value:t.form.storeRoomId,callback:function(o){t.$set(t.form,"storeRoomId",o)},expression:"form.storeRoomId"}}),e("select-box",{staticClass:"mr-10",staticStyle:{width:"20%"},attrs:{list:t.rackListnew,label:"所属库位"},on:{change:t.getRackId},model:{value:t.form.storeRoomRackNo,callback:function(o){t.$set(t.form,"storeRoomRackNo",o)},expression:"form.storeRoomRackNo"}}),e("input-box",{staticClass:"mr-10",staticStyle:{width:"20%"},attrs:{label:"入库数量（正数）"},model:{value:t.form.quantity,callback:function(o){t.$set(t.form,"quantity",o)},expression:"form.quantity"}})],1),e("div"),e("div",{staticClass:"flex-v-center",staticStyle:{margin:"20px 0"}},[e("btn",{staticClass:"mr-20",attrs:{big:"",disabled:!t.canSubmit},on:{click:t.submit}},[t._v("提交")]),e("btn",{staticClass:"mr-20",attrs:{big:"",flat:"",bg:""},on:{click:t.cancel}},[t._v("取消")])],1)])])},a=[],s=(e("aba3"),e("c154"),e("cf54"),{name:"page-entryMaterial-form",data:function(){return{form:{productNo:"",orderNo:"",productDepartment:"",storeRoomRackNo:"",storeRoomId:"",storeRoomRackId:"",quantity:""},name:"",roomList:[],rackList:[],rackListnew:[]}},computed:{canSubmit:function(){var t=this.form;return t.productDepartment&&t.productNo&&t.quantity}},created:function(){var t=this.$route.query,o=t.productNo,e=t.name;void 0!==o&&"entryProduct"===this.$route.name&&this.getInfo(o,e),this.getRoomList(),this.getRoomRackList(),this.getRoomId(),this.getRackId()},methods:{getRackId:function(){var t=this,o=this.rackList.find(function(o){return o.value===t.form.storeRoomRackNo});this.form.storeRoomRackId=o?o.id:""},getRoomId:function(){var t=this,o=this.rackList.filter(function(o){return o.roomId===t.form.storeRoomId});this.rackListnew=o},getRoomList:function(){var t=this;this.$http.get("/haolifa/store-room/listInfo?type=0").then(function(o){t.roomList=o.filter(function(t){return!t.isDelete}).map(function(t){return{value:t.roomNo,text:t.name}})})},getRoomRackList:function(){var t=this;this.$http.get("/haolifa/store-room/rack/pageInfo").then(function(o){t.rackList=o.list.filter(function(t){return!t.isDelete}).map(function(t){return{value:t.rackNo,text:t.rackName,roomId:t.storeRoomNo,id:t.id}})})},getInfo:function(t,o){var e=this;this.$http.get("/haolifa/product/getInfo/".concat(t)).then(function(r){for(var a in e.form)void 0!==e.form[a]&&(e.form.productNo=t),e.name=o}).catch(function(t){e.$toast(t.msg||t.message)})},cancel:function(){var t=this;this.$confirm({title:"您确定要离开此页面吗？",text:"您的表单将不会保存",color:"red",btns:["取消","离开"],yes:function(){t.$router.back()}})},submit:function(){var t=this,o=this.form;this.loading=!0;var e="put";this.$http[e]("/haolifa/store-room/entryOut/entryProduct",o).then(function(o){t.loading=!1,t.$router.replace("/storeproduct")}).catch(function(o){t.loading=!1,t.$toast(o.msg||o.message)})}}}),i=s,n=(e("8d08"),e("048f")),c=Object(n["a"])(i,r,a,!1,null,null,null);c.options.__file="entryProduct.vue";o["default"]=c.exports},fb90:function(t,o,e){}}]);
//# sourceMappingURL=entryProduct.673e5c3c.js.map