(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user-add"],{"2e63":function(t,e,s){"use strict";var a=s("ca4b"),r=s.n(a);r.a},"9de0":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-user-add"},[s("div",{staticClass:"form-content"},[s("div",{staticClass:"title b f-18 mb-20"},[t._v("新增用户")]),s("input-box",{staticClass:"flex-item",attrs:{label:"姓名"},model:{value:t.form.realName,callback:function(e){t.$set(t.form,"realName",e)},expression:"form.realName"}}),s("div",{staticClass:"flex-v-center mt-10 mb-10"},[s("span",{staticClass:"mr-20"},[t._v("性别: ")]),s("radio-box",{attrs:{label:"0",text:"未知"},model:{value:t.form.sex,callback:function(e){t.$set(t.form,"sex",e)},expression:"form.sex"}}),s("radio-box",{attrs:{label:"1",text:"男"},model:{value:t.form.sex,callback:function(e){t.$set(t.form,"sex",e)},expression:"form.sex"}}),s("radio-box",{attrs:{label:"2",text:"女"},model:{value:t.form.sex,callback:function(e){t.$set(t.form,"sex",e)},expression:"form.sex"}})],1),s("div",{staticClass:"flex-v-center"},[s("input-box",{staticClass:"flex-item mr-10",attrs:{label:"用户名"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}}),t.editPwd?s("input-box",{staticClass:"flex-item",attrs:{label:"密码"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}):s("div",{staticClass:"flex-item"},[s("btn",{on:{click:function(e){t.editPwd=!0}}},[t._v("点击修改密码")])],1)],1),s("div",{staticClass:"flex-v-center"},[s("input-box",{staticClass:"flex-item mr-10",attrs:{label:"籍贯"},model:{value:t.form.nativePlace,callback:function(e){t.$set(t.form,"nativePlace",e)},expression:"form.nativePlace"}}),s("input-box",{staticClass:"flex-item",attrs:{label:"身份证号"},model:{value:t.form.idCard,callback:function(e){t.$set(t.form,"idCard",e)},expression:"form.idCard"}})],1),s("div",{staticClass:"flex-v-center"},[s("input-box",{staticClass:"flex-item mr-10",attrs:{label:"员工编号"},model:{value:t.form.userNo,callback:function(e){t.$set(t.form,"userNo",e)},expression:"form.userNo"}}),s("input-box",{staticClass:"flex-item",attrs:{label:"手机号码"},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),s("date-picker",{staticStyle:{width:"50%"},attrs:{label:"入职时间"},model:{value:t.form.entryTime,callback:function(e){t.$set(t.form,"entryTime",e)},expression:"form.entryTime"}}),s("div",{staticClass:"flex-v-center",staticStyle:{margin:"20px 0"}},[s("btn",{staticClass:"mr-20",attrs:{big:""},on:{click:t.submit}},[t._v("提交")]),s("btn",{staticClass:"mr-20",attrs:{big:"",flat:"",bg:""},on:{click:t.cancel}},[t._v("取消")]),s("btn",{attrs:{big:"",flat:""},on:{click:t.clear}},[t._v("清空")])],1)],1)])},r=[],i=(s("cf54"),{id:"",username:"",password:"",realName:"",userNo:"",sex:0,nativePlace:"",phone:"",idCard:"",entryTime:""}),o=s("23d5"),l=s.n(o),n={name:"page-user-add",data:function(){return{editPwd:!0,form:JSON.parse(JSON.stringify(i))}},created:function(){this.$route.query.id&&"user-edit"===this.$route.name&&(this.editPwd=!1,this.getUser())},methods:{getUser:function(){var t=this,e=this.$route.query.id;this.$http.get("/haolifa/user/"+e).then(function(e){for(var s in t.form)t.form[s]=e[s];t.form.entryTime=l()(e.entryTime).format("YYYY-MM-DD"),t.form.password=""})},clear:function(){this.form=JSON.parse(JSON.stringify(i))},cancel:function(){this.$router.back()},verify:function(){var t=this.form,e=!0;for(var s in t)""===t[s]&&"id"!==s&&"password"!==s&&(this.$toast("请输入 ".concat(s)),e=!1);return this.editPwd&&!t.password&&(e=!1),e},submit:function(){var t=this;if(this.verify()){var e=JSON.parse(JSON.stringify(this.form));this.editPwd||delete e.password;var s=e.id?"put":"post";this.$http[s]("/haolifa/user",e).then(function(e){t.$router.push("/user"),t.$toast("保存成功")}).catch(function(e){t.$toast(e.message||e.msg)})}}}},c=n,f=(s("2e63"),s("048f")),m=Object(f["a"])(c,a,r,!1,null,null,null);m.options.__file="add.vue";e["default"]=m.exports},ca4b:function(t,e,s){}}]);
//# sourceMappingURL=user-add.6dbf88f6.js.map