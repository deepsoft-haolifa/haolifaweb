(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["diliverylist"],{"0407":function(t,s,e){"use strict";var a=e("63d9"),i=e.n(a);i.a},"0757":function(t,s,e){"use strict";var a=e("dafc"),i=e.n(a);i.a},"0e21":function(t,s,e){},"0f1a":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"page-part-list"},[e("div",{staticClass:"flex-v-center tool-bar"}),e("div",{staticClass:"flex-item scroll-y"},[e("data-list",{ref:"list",attrs:{param:t.filter,url:"/haolifa/delivery/noticeList",method:"post"},scopedSlots:t._u([{key:"item",fn:function(s){var a=s.item,i=s.index;return[e("td",{staticClass:"c-a"},[t._v(t._s(i))]),e("td",[t._v(t._s(a.deliveryNo))]),e("td",[e("a",{staticClass:"fixed-length",attrs:{href:a.deliveryUrl,title:a.deliveryUrl}},[t._v(t._s(a.deliveryUrl))])]),e("td",[t._v(t._s(a.contractOrderNo))]),e("td",[t._v(t._s(t.auditResultList[a.auditResult]))]),e("td",[t._v(t._s(a.auditInfo))]),e("td",[t._v(t._s(a.auditTime))]),e("td",[t._v(t._s(a.createTime))]),e("td",[t._v(t._s(a.updateTime))]),e("td",{staticClass:"t-right"},[0==a.auditResult?e("a",{staticClass:"blue",attrs:{href:"javascript:;"},on:{click:function(s){t.edit(a)}}},[t._v("审核")]):t._e()])]}}])},[e("tr",{attrs:{slot:"header"},slot:"header"},[e("th",{staticStyle:{width:"60px"}},[t._v("序号")]),e("th",[t._v("发货通知单号")]),e("th",{staticStyle:{width:"50px"}},[t._v("发货通知单")]),e("th",[t._v("订单号")]),e("th",[t._v("审批结果")]),e("th",[t._v("审批信息")]),e("th",[t._v("审批时间")]),e("th",[t._v("创建时间")]),e("th",[t._v("更新时间")]),e("th",{staticClass:"t-right",staticStyle:{width:"80px"}},[t._v("操作")])])])],1)])},i=[],r=(e("ff66"),e("ea23"),e("dbff"),e("9b68")),l={name:"page-bills-list",components:{DataList:r["a"]},data:function(){return{filter:{},auditResultList:["待审核","审核通过","审核不通过"]}},methods:{edit:function(t){this.$router.push("/finance-bills/edit?id=".concat(t.id))},remove:function(t){var s=this;this.$confirm({title:"删除确认",text:"您确定要删除以下发货通知单吗？<br>".concat(t.deliveryNo),color:"red",btns:["取消","删除"],yes:function(){s.$http.delete("/haolifa/material/delete/".concat(t.id)).then(function(t){s.$toast("删除成功"),s.$refs.list.update()}).catch(function(t){s.$toast(t.msg)})}})}}},n=l,c=(e("6bc2"),e("c46c")),o=Object(c["a"])(n,a,i,!1,null,null,null);o.options.__file="index.vue";s["default"]=o.exports},"0f71":function(t,s,e){"use strict";var a=e("2286"),i=e.n(a);i.a},1399:function(t,s,e){},2286:function(t,s,e){},2294:function(t,s,e){},"281b":function(t,s,e){"use strict";var a=e("64d2"),i=e.n(a);i.a},"285c":function(t,s,e){},"289a":function(t,s,e){var a=e("6dae"),i=e("2de7");e("b560")("keys",function(){return function(t){return i(a(t))}})},"50b4":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"page-material-list"},[e("div",{staticClass:"flex-v-center tool-bar"},[e("div",{staticClass:"flex-v-center search-bar",staticStyle:{"margin-right":"20px"}},[e("i",{staticClass:"icon f-20 c-8"},[t._v("search")]),t._v("\n            状态：\n            "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.status,expression:"filter.status"}],staticClass:"f-14",on:{change:[function(s){var e=Array.prototype.filter.call(s.target.options,function(t){return t.selected}).map(function(t){var s="_value"in t?t._value:t.value;return s});t.$set(t.filter,"status",s.target.multiple?e:e[0])},function(s){t.$refs.list.update(!0)}]}},t._l(t.statusList,function(s){return e("option",{key:s.id,domProps:{value:s.status}},[t._v(t._s(s.name))])}),0),e("i",{staticClass:"icon f-20 c-8"},[t._v("search")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.sprayNo,expression:"filter.sprayNo"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"喷涂加工号"},domProps:{value:t.filter.sprayNo},on:{change:function(s){t.$refs.list.update(!0)},input:function(s){s.target.composing||t.$set(t.filter,"sprayNo",s.target.value)}}}),e("i",{staticClass:"icon",staticStyle:{"margin-left":"-20px","pointer-events":"none"}},[t._v("arrow_drop_down")])])]),e("div",{staticClass:"flex-item scroll-y"},[e("data-list",{ref:"list",attrs:{"page-size":10,param:t.filter,url:"/haolifa/spray/forms",method:"post"},scopedSlots:t._u([{key:"item",fn:function(s){var a=s.item,i=s.index;return[e("td",{staticClass:"c-a"},[t._v(t._s(i))]),e("td",[t._v(t._s(a.sprayNo))]),e("td",[t._v(t._s(a.planner))]),e("td",[t._v(t._s(a.totalNumber))]),e("td",[t._v(t._s(a.qualifiedNumber))]),e("td",[t._v(t._s(t.rowStatusList[a.status].name))]),e("td",[t._v(t._s(a.createTime))]),e("td",{staticClass:"t-right"},[e("a",{staticClass:"blue",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(s){t.sprayInfo(a)}}},[t._v("查看")])])]}}])},[e("tr",{attrs:{slot:"header"},slot:"header"},[e("th",{staticStyle:{width:"60px"}},[t._v("序号")]),e("th",[t._v("喷涂加工单号")]),e("th",[t._v("计划人")]),e("th",[t._v("总数量")]),e("th",[t._v("检验合格数量")]),e("th",[t._v("状态")]),e("th",[t._v("发起时间")]),e("th",{staticClass:"t-right",staticStyle:{width:"80px"}},[t._v("操作")])])])],1),t.layer?e("layer",{attrs:{title:"详情",width:"70%"}},[e("div",{staticClass:"layer-text",staticStyle:{"padding-bottom":"50px"}},[e("div",{staticClass:"form-content page-supplier-info"},[e("table",{staticClass:"f-14"},[e("tr",[e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}})]),e("tr",[e("td",{staticClass:"b",staticStyle:{border:"none"},attrs:{colspan:"10",align:"center"}},[t._v("喷涂加工单")])]),e("tr",[e("th",{attrs:{colspan:"11"}},[t._v("喷涂单号："+t._s(t.spray.sprayNo))])]),e("tr",[e("th",{attrs:{colspan:"5"}},[t._v("计划人："+t._s(t.spray.planner))]),e("td",{attrs:{colspan:"6"}},[t._v("日  期："+t._s(t.spray.createTime))])]),e("tr",[e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("序号")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("零件名称")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("零件图号")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("型号")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("规格")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("材质")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("数量")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("喷涂颜色")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("特殊要求")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("完成时间")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("备注")])]),t._l(t.spray.items,function(s,a){return e("tr",[e("td",{attrs:{colspan:"1"}},[t._v(t._s(a+1))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.materialClassifyName))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.materialGraphNo))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.model))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.specification))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.material))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.number))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.sprayColor))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.specialRequires))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.completeTime))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.remark))])])})],2)]),t.inspectHistory.length?e("div",{staticClass:"mt-15 ml-20 mr-20",staticStyle:{"overflow-x":"auto"}},[e("div",{staticClass:"b f-18 flex-v-center ml-20",staticStyle:{"margin-bottom":"20px"}},[e("div",{staticClass:"flex-item",staticStyle:{"text-align":"center","line-height":"24px"}},[t._v("质检记录")])]),e("div",{staticClass:"flex-item scroll-y page-supplier-info",staticStyle:{"overflow-x":"auto"}},[e("table",{staticClass:"data-table"},[e("tr",{staticStyle:{display:"none"}},[e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"12%"}}),e("td",{staticStyle:{width:"12%"}})]),e("tr",[e("th",[t._v("喷涂单号")]),e("th",[t._v("零件名称")]),e("th",[t._v("零件原图号")]),e("th",[t._v("零件图号")]),e("th",[t._v("检测数量")]),e("th",[t._v("合格数量")]),e("th",[t._v("不合格数量")]),e("th",[t._v("处理意见")]),e("th",[t._v("不合格现象描述")])]),t._l(t.inspectHistory,function(s,a){return e("tr",[e("td",[t._v(t._s(s.sprayNo))]),e("td",[t._v(t._s(s.materialGraphName))]),e("td",[t._v(t._s(s.originalGraphNo))]),e("td",[t._v(t._s(s.materialGraphNo))]),e("td",[t._v(t._s(s.testNumber))]),e("td",[t._v(t._s(s.qualifiedNumber))]),e("td",[t._v(t._s(s.unqualifiedNumber))]),e("td",[t._v(t._s(s.handlingSuggestion))]),e("td",[t._v(t._s(s.remark))])])})],2)])]):t._e()]),e("div",{staticClass:"layer-btns"},[e("btn",{attrs:{flat:"",color:"#008eff"},on:{click:function(s){t.layer=!1}}},[t._v("关闭")])],1)]):t._e()],1)},i=[],r=(e("ff66"),e("ea23"),e("dbff"),e("9b68")),l={name:"spray-list",components:{DataList:r["a"]},data:function(){return{layer:!1,filter:{type:1,status:-1},rowStatusList:[{status:0,name:"待审批"},{status:1,name:"加工中"},{status:2,name:"质检完成"},{status:3,name:"加工完成"},{status:4,name:"暂停加工"}],statusList:[{status:0,name:"待审批"},{status:1,name:"加工中"},{status:2,name:"质检完成"},{status:3,name:"加工完成"},{status:4,name:"暂停加工"},{status:-1,name:"全部"}],inspectHistory:[],spray:{planner:"",sprayNo:"",createTime:"",items:[]}}},methods:{sprayInfo:function(t){var s=this;this.$http.get("/haolifa/spray/form/".concat(t.sprayNo)).then(function(t){s.spray=t}).catch(function(t){s.$toast(t.msg||t.message)}),this.$http.get("/haolifa/spray/inspect/list/".concat(t.sprayNo)).then(function(t){s.inspectHistory=t}).catch(function(t){s.$toast(t.msg||t.message)}),this.layer=!0}}},n=l,c=(e("281b"),e("c46c")),o=Object(c["a"])(n,a,i,!1,null,null,null);o.options.__file="index.vue";s["default"]=o.exports},"603e":function(t,s,e){},"63d9":function(t,s,e){},"644b":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"flex-v-center tool-bar"},[e("div",{staticClass:"flex-v-center search-bar",staticStyle:{"margin-right":"20px"}},[e("i",{staticClass:"icon f-20 c-8"},[t._v("search")]),t._v("\n            状态：\n            "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.status,expression:"filter.status"}],staticClass:"f-14",on:{change:[function(s){var e=Array.prototype.filter.call(s.target.options,function(t){return t.selected}).map(function(t){var s="_value"in t?t._value:t.value;return s});t.$set(t.filter,"status",s.target.multiple?e:e[0])},function(s){t.$refs.list.update(!0)}]}},t._l(t.statusList,function(s){return e("option",{key:s.id,domProps:{value:s.status}},[t._v(t._s(s.name))])}),0),e("i",{staticClass:"icon",staticStyle:{"margin-left":"-20px","pointer-events":"none"}},[t._v("arrow_drop_down")])])]),e("div",{staticClass:"flex-item scroll-y"},[e("data-list",{ref:"list",attrs:{"page-size":10,param:t.filter,url:"/haolifa/entrust/list",method:"post"},scopedSlots:t._u([{key:"item",fn:function(s){var a=s.item,i=s.index;return[e("td",{staticClass:"c-a"},[t._v(t._s(i))]),e("td",[t._v(t._s(a.entrustNo))]),e("td",[t._v(t._s(a.purchaseNo))]),e("td",[t._v(t._s(a.batchNumber))]),e("td",[t._v(t._s(a.materialGraphName))]),e("td",[t._v(t._s(a.materialGraphNo))]),e("td",[t._v(t._s(a.number))]),e("td",[t._v(t._s(a.createTime))]),e("td",[t._v(t._s(t.rowStatusList[a.status-3].name))]),e("td",{staticClass:"t-right"},[e("a",{staticClass:"blue",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(s){t.info(a)}}},[t._v("查看")])])]}}])},[e("tr",{attrs:{slot:"header"},slot:"header"},[e("th",{staticStyle:{width:"60px"}},[t._v("序号")]),e("th",[t._v("机加工单号")]),e("th",[t._v("采购合同号")]),e("th",[t._v("批次号")]),e("th",[t._v("物料名称")]),e("th",[t._v("物料图号")]),e("th",[t._v("数量")]),e("th",[t._v("发起时间")]),e("th",[t._v("状态")]),e("th",{staticClass:"t-right",staticStyle:{width:"80px"}},[t._v("操作")])])])],1),t.inspectHistory.completeLayer?e("layer",{attrs:{title:"质检记录",width:"650px"}},[e("div",{staticClass:"flex"},[e("input-box",{staticClass:"flex-item mr-20 ml-20",attrs:{disabled:"true",label:"采购合同号"},model:{value:t.inspectHistory.purchaseNo,callback:function(s){t.$set(t.inspectHistory,"purchaseNo",s)},expression:"inspectHistory.purchaseNo"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{disabled:"true",label:"批次号"},model:{value:t.inspectHistory.batchNumber,callback:function(s){t.$set(t.inspectHistory,"batchNumber",s)},expression:"inspectHistory.batchNumber"}})],1),e("div",{staticClass:"flex mt-15"},[e("input-box",{staticClass:"mt-15 ml-20",attrs:{disabled:"true",label:"物料图号"},model:{value:t.inspectHistory.materialGraphNo,callback:function(s){t.$set(t.inspectHistory,"materialGraphNo",s)},expression:"inspectHistory.materialGraphNo"}}),e("input-box",{staticClass:"mr-20 mt-15 ml-20",attrs:{disabled:"true",label:"物料名称"},model:{value:t.inspectHistory.materialName,callback:function(s){t.$set(t.inspectHistory,"materialName",s)},expression:"inspectHistory.materialName"}})],1),e("div",{staticClass:"flex mt-15"},[e("input-box",{staticClass:"flex-item mr-20 ml-20 mt-15",attrs:{label:"检测数量"},model:{value:t.inspectHistory.testNumber,callback:function(s){t.$set(t.inspectHistory,"testNumber",s)},expression:"inspectHistory.testNumber"}}),e("input-box",{staticClass:"flex-item mr-20 mt-15",attrs:{label:"不合格数量"},model:{value:t.inspectHistory.unqualifiedNumber,callback:function(s){t.$set(t.inspectHistory,"unqualifiedNumber",s)},expression:"inspectHistory.unqualifiedNumber"}}),e("input-box",{staticClass:"flex-item mr-20 mt-15",attrs:{label:"合格数量"},model:{value:t.inspectHistory.qualifiedNumber,callback:function(s){t.$set(t.inspectHistory,"qualifiedNumber",s)},expression:"inspectHistory.qualifiedNumber"}})],1),e("div",{staticClass:"flex mt-15"},[e("input-box",{staticClass:"flex-item mr-20 ml-20 mt-15",attrs:{label:"处理意见"},model:{value:t.inspectHistory.handlingSuggestion,callback:function(s){t.$set(t.inspectHistory,"handlingSuggestion",s)},expression:"inspectHistory.handlingSuggestion"}}),e("input-box",{staticClass:"flex-item mr-20 mt-15",attrs:{label:"不合格现象描述"},model:{value:t.inspectHistory.remark,callback:function(s){t.$set(t.inspectHistory,"remark",s)},expression:"inspectHistory.remark"}})],1),e("div",{staticClass:"layer-btns"},[e("btn",{attrs:{flat:""},on:{click:function(s){t.inspectHistory.completeLayer=!1}}},[t._v("取消")]),e("btn",{attrs:{flat:"",color:"#008eff"},on:{click:function(s){t.complete()}}},[t._v("保存")])],1)]):t._e(),t.layer?e("layer",{attrs:{title:"详情",width:"70%"}},[e("div",{staticClass:"layer-text",staticStyle:{"padding-bottom":"50px"}},[e("div",{staticClass:"form-content metalwork-info"},[e("table",{staticClass:"f-14"},[e("tr",[e("td",{staticStyle:{width:"20%"}}),e("td",{staticStyle:{width:"20%"}}),e("td",{staticStyle:{width:"20%"}}),e("td",{staticStyle:{width:"20%"}}),e("td",{staticStyle:{width:"20%"}})]),e("tr",[e("td",{staticClass:"b",attrs:{colspan:"5"}},[t._v("机加工单")])]),e("tr",[e("th",{attrs:{colspan:"3"}},[t._v("机加工单号："+t._s(t.entrust.entrustNo))]),e("td",{attrs:{colspan:"2"}},[t._v("发起日期："+t._s(t.entrust.createTime))])]),e("tr",[e("th",{attrs:{colspan:"3"}},[t._v("采购合同号："+t._s(t.entrust.purchaseNo))]),e("td",{attrs:{colspan:"2"}},[t._v("批次号："+t._s(t.entrust.batchNumber))])]),e("tr",[e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("采购合同编号")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("批次号")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("物料名称")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("物料图号")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("数量")])]),e("tr",[e("td",{attrs:{colspan:"1"}},[t._v(t._s(t.entrust.purchaseNo))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(t.entrust.batchNumber))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(t.entrust.materialGraphName))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(t.entrust.materialGraphNo))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(t.entrust.number))])])])]),e("div",{staticClass:"form-content metalwork-info"},[e("table",{staticClass:"data-table"},[e("tr",[e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"12%"}})]),e("tr",[e("td",{staticClass:"b",attrs:{colspan:"9"}},[t._v("质检记录")])]),e("tr",[e("th",[t._v("质检单号")]),e("th",[t._v("类别")]),e("th",[t._v("物料名称")]),e("th",[t._v("物料图号")]),e("th",[t._v("检测数量")]),e("th",[t._v("合格数量")]),e("th",[t._v("不合格数量")]),e("th",[t._v("处理意见")]),e("th",[t._v("不合格现象描述")])]),t._l(t.inspectHistory,function(s,a){return e("tr",{key:a},[e("td",[t._v(t._s(s.inspectNo))]),e("td",[t._v(t._s(1==s.type?"采购零件":"机加工零件"))]),e("td",[t._v(t._s(s.materialGraphName))]),e("td",[t._v(t._s(s.materialGraphNo))]),e("td",[t._v(t._s(s.testNumber))]),e("td",[t._v(t._s(s.qualifiedNumber))]),e("td",[t._v(t._s(s.unqualifiedNumber))]),e("td",[t._v(t._s(s.handlingSuggestion))]),e("td",[t._v(t._s(s.remark))])])})],2)])]),e("div",{staticClass:"layer-btns"},[e("btn",{attrs:{flat:"",color:"#008eff"},on:{click:function(s){t.layer=!1}}},[t._v("关闭")])],1)]):t._e()],1)},i=[],r=e("9b68"),l={name:"metalwork-list",components:{DataList:r["a"]},data:function(){return{inspectHistory:{completeLayer:!1,handlingSuggestion:"",inspectNo:"",materialName:"",materialGraphNo:"",qualifiedNumber:0,remark:"",testNumber:0,unqualifiedNumber:0,batchNumber:"",purchaseNo:"",supplierName:"",supplierNo:""},filter:{type:3,status:6},rowStatusList:[{status:3,name:"加工中"},{status:4,name:"加工完成"}],statusList:[{status:6,name:"全部"},{status:3,name:"加工中"},{status:4,name:"加工完成"}],loading:!1,entrustNo:"",entrust:{},items:[],layer:!1}},methods:{info:function(t){this.layer=!0,this.entrustNo=t.entrustNo,this.getInfo(),this.getInspectHistory()},getInfo:function(){var t=this;this.$http.get("/haolifa/entrust/info/".concat(this.entrustNo)).then(function(s){t.entrust=s,t.entrust.createTime=s.createTime.substring(0,10)}).catch(function(s){t.$toast(s.msg||s.message)})},getInspectHistory:function(){var t=this;this.$http.get("/haolifa/material-inspect/history/list/".concat(this.entrustNo)).then(function(s){t.inspectHistory=s}).catch(function(s){t.$toast(s.msg||s.message)})},complete:function(){var t=this,s={handlingSuggestion:this.inspectHistory.handlingSuggestion,inspectNo:this.inspectHistory.inspectNo,materialGraphName:this.inspectHistory.materialName,materialGraphNo:this.inspectHistory.materialGraphNo,qualifiedNumber:this.inspectHistory.qualifiedNumber,remark:this.inspectHistory.remark,testNumber:this.inspectHistory.testNumber,unqualifiedNumber:this.inspectHistory.unqualifiedNumber,type:2,batchNumber:this.inspectHistory.batchNumber,purchaseNo:this.inspectHistory.purchaseNo,supplierName:this.inspectHistory.supplierName,supplierNo:this.inspectHistory.supplierNo};this.$http.post("/haolifa/material-inspect/history/save",s).then(function(s){t.$toast("添加成功"),t.$refs.list.update(),t.inspectHistory.completeLayer=!1}).catch(function(s){t.$toast(s.msg||s.message)})},addInspectHistory:function(t){this.inspectHistory.batchNumber=t.batchNumber,this.inspectHistory.purchaseNo=t.purchaseNo,this.inspectHistory.supplierName=t.supplierName,this.inspectHistory.supplierNo=t.supplierNo,this.inspectHistory.materialGraphNo=t.materialGraphNo,this.inspectHistory.materialName=t.materialGraphName,this.inspectHistory.inspectNo=t.entrustNo,this.inspectHistory.completeLayer=!0}}},n=l,c=(e("0407"),e("c46c")),o=Object(c["a"])(n,a,i,!1,null,null,null);o.options.__file="index.vue";s["default"]=o.exports},"64d2":function(t,s,e){},"6a32":function(t,s,e){},"6ab1":function(t,s,e){"use strict";var a=e("8caa"),i=e.n(a);i.a},"6bc2":function(t,s,e){"use strict";var a=e("e62f"),i=e.n(a);i.a},"74a7":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"page-material-list"},[e("div",{staticClass:"flex-v-center tool-bar"},[e("div",{staticClass:"flex-v-center search-bar",staticStyle:{"margin-right":"20px"}},[e("i",{staticClass:"icon f-20 c-8"},[t._v("search")]),t._v("\n            状态：\n            "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.status,expression:"filter.status"}],staticClass:"f-14",on:{change:[function(s){var e=Array.prototype.filter.call(s.target.options,function(t){return t.selected}).map(function(t){var s="_value"in t?t._value:t.value;return s});t.$set(t.filter,"status",s.target.multiple?e:e[0])},function(s){t.$refs.list.update(!0)}]}},t._l(t.statusList,function(s){return e("option",{key:s.id,domProps:{value:s.status}},[t._v(t._s(s.name))])}),0),e("i",{staticClass:"icon",staticStyle:{"margin-left":"-20px","pointer-events":"none"}},[t._v("arrow_drop_down")])]),e("div",{staticClass:"flex-item"})]),e("div",{staticClass:"flex-item scroll-y"},[e("data-list",{ref:"list",attrs:{"page-size":10,param:t.filter,url:"/haolifa/entrust/list",method:"post"},scopedSlots:t._u([{key:"item",fn:function(s){var a=s.item,i=s.index;return[e("td",{staticClass:"c-a"},[t._v(t._s(i))]),e("td",[t._v(t._s(a.entrustNo))]),e("td",[t._v(t._s(a.batchNumber))]),e("td",[t._v(t._s(a.purchaseNo))]),e("td",[t._v(t._s("1"==a.workshopType?"内部车间":"2"==a.workshopType?"外部车间":"暂无"))]),e("td",[t._v(t._s("0"==a.workshopType?"暂无":a.supplierName))]),e("td",[t._v(t._s(a.materialGraphName))]),e("td",[t._v(t._s(a.materialGraphNo))]),e("td",[t._v(t._s(a.number))]),e("td",[t._v(t._s(a.createTime))]),e("td",[t._v(t._s(t.statusList[a.status+1].name))])]}}])},[e("tr",{attrs:{slot:"header"},slot:"header"},[e("th",{staticStyle:{width:"60px"}},[t._v("序号")]),e("th",[t._v("机加工单号")]),e("th",[t._v("批次号")]),e("th",[t._v("采购合同号")]),e("th",[t._v("车间类型")]),e("th",[t._v("加工方")]),e("th",[t._v("物料名称")]),e("th",[t._v("物料图号")]),e("th",[t._v("数量")]),e("th",[t._v("发起时间")]),e("th",[t._v("状态")])])])],1)])},i=[],r=(e("ff66"),e("ea23"),e("dbff"),e("9b68")),l={name:"page-machining-list",components:{DataList:r["a"]},data:function(){return{filter:{type:0,status:6},statusList:[{status:6,name:"全部"},{status:0,name:"未提交"},{status:1,name:"待审批"},{status:2,name:"待加工"},{status:3,name:"加工中"},{status:4,name:"处理完成"},{status:5,name:"审批不通过"}]}},methods:{machining:function(t,s){this.initApprove(t,s)},edit:function(t){this.$router.push("/applyBuy-machining/edit?entrustNo=".concat(t.entrustNo))},remove:function(t){var s=this;this.$confirm({title:"删除确认",text:"您确定要删除以下送检单吗？<br><b>".concat(t.entrustNo,"</b>"),color:"red",btns:["取消","删除"],yes:function(){s.$http.get("/haolifa/entrust/delete/".concat(t.entrustNo)).then(function(t){s.$toast("删除成功"),s.$refs.list.update()}).catch(function(t){s.$toast(t.msg||t.message)})}})},initApprove:function(t,s){var e=this;this.$http.get("/haolifa/entrust/updateStatus/".concat(t,"/").concat(s)).then(function(t){e.$refs.list.update()}).catch(function(t){e.$toast(t.msg||t.message)})}}},n=l,c=(e("b4ab"),e("c46c")),o=Object(c["a"])(n,a,i,!1,null,null,null);o.options.__file="index.vue";s["default"]=o.exports},"74fc":function(t,s,e){},8193:function(t,s,e){},8756:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"page-material-list"},[e("div",{staticClass:"flex-v-center tool-bar"},[e("div",{staticClass:"flex-v-center search-bar",staticStyle:{"margin-right":"20px"}},[e("i",{staticClass:"icon f-20 c-8"},[t._v("search")]),t._v("\n            状态：\n            "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.status,expression:"filter.status"}],staticClass:"f-14",on:{change:[function(s){var e=Array.prototype.filter.call(s.target.options,function(t){return t.selected}).map(function(t){var s="_value"in t?t._value:t.value;return s});t.$set(t.filter,"status",s.target.multiple?e:e[0])},function(s){t.$refs.list.update(!0)}]}},t._l(t.statusList,function(s){return e("option",{key:s.id,domProps:{value:s.status}},[t._v(t._s(s.name))])}),0),e("i",{staticClass:"icon f-20 c-8"},[t._v("search")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.sprayNo,expression:"filter.sprayNo"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"喷涂加工号"},domProps:{value:t.filter.sprayNo},on:{change:function(s){t.$refs.list.update(!0)},input:function(s){s.target.composing||t.$set(t.filter,"sprayNo",s.target.value)}}}),e("i",{staticClass:"icon",staticStyle:{"margin-left":"-20px","pointer-events":"none"}},[t._v("arrow_drop_down")])]),e("div",{staticClass:"flex-item"}),e("router-link",{attrs:{to:"/spray/add?sprayNo="}},[e("btn",{staticClass:"b",attrs:{flat:"",color:"#008eff"}},[t._v("新增喷涂委托")])],1)],1),e("div",{staticClass:"flex-item scroll-y"},[e("data-list",{ref:"list",attrs:{"page-size":10,param:t.filter,url:"/haolifa/spray/forms",method:"post"},scopedSlots:t._u([{key:"item",fn:function(s){var a=s.item,i=s.index;return[e("td",{staticClass:"c-a"},[t._v(t._s(i))]),e("td",[t._v(t._s(a.sprayNo))]),e("td",[t._v(t._s(a.planner))]),e("td",[t._v(t._s(a.totalNumber))]),e("td",[t._v(t._s(a.qualifiedNumber))]),e("td",[t._v(t._s(t.rowStatusList[a.status].name))]),e("td",[t._v(t._s(a.createTime))]),e("td",{staticClass:"t-right"},[e("a",{staticClass:"blue",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(s){t.sprayInfo(a)}}},[t._v("查看")]),3==a.status?e("a",{staticClass:"blue",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(s){t.completeInspect(a)}}},[t._v("质检完成")]):t._e(),0!=a.status&&2!=a.status?e("a",{staticClass:"blue",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(s){t.addSprayInspect(a)}}},[t._v("添加质检记录")]):t._e()])]}}])},[e("tr",{attrs:{slot:"header"},slot:"header"},[e("th",{staticStyle:{width:"60px"}},[t._v("序号")]),e("th",[t._v("喷涂加工单号")]),e("th",[t._v("计划人")]),e("th",[t._v("总数量")]),e("th",[t._v("检验合格数量")]),e("th",[t._v("状态")]),e("th",[t._v("发起时间")]),e("th",{staticClass:"t-right",staticStyle:{width:"80px"}},[t._v("操作")])])])],1),t.completeLayer?e("layer",{attrs:{title:"质检记录",width:"650px"}},[e("div",{staticClass:"flex"},[e("input-box",{staticClass:"mr-20 ml-20 mt-15",attrs:{label:"喷涂委托单号"},model:{value:t.inspectHistoryAdd.sprayNo,callback:function(s){t.$set(t.inspectHistoryAdd,"sprayNo",s)},expression:"inspectHistoryAdd.sprayNo"}}),e("input-box",{staticClass:"mr-20 mt-15",attrs:{label:"零件名称"},model:{value:t.inspectHistoryAdd.materialGraphName,callback:function(s){t.$set(t.inspectHistoryAdd,"materialGraphName",s)},expression:"inspectHistoryAdd.materialGraphName"}})],1),e("div",{staticClass:"flex mt-15"},[e("input-box",{staticClass:"mr-20 ml-20 mt-15",attrs:{label:"原图号"},model:{value:t.inspectHistoryAdd.originalGraphNo,callback:function(s){t.$set(t.inspectHistoryAdd,"originalGraphNo",s)},expression:"inspectHistoryAdd.originalGraphNo"}}),e("input-box",{staticClass:"mr-20 ml-20 mt-15",attrs:{label:"加工后图号"},model:{value:t.inspectHistoryAdd.materialGraphNo,callback:function(s){t.$set(t.inspectHistoryAdd,"materialGraphNo",s)},expression:"inspectHistoryAdd.materialGraphNo"}})],1),e("div",{staticClass:"flex mt-15"},[e("input-box",{staticClass:"flex-item mr-20 ml-20 mt-15",attrs:{label:"检测数量"},model:{value:t.inspectHistoryAdd.testNumber,callback:function(s){t.$set(t.inspectHistoryAdd,"testNumber",s)},expression:"inspectHistoryAdd.testNumber"}}),e("input-box",{staticClass:"flex-item mr-20 mt-15",attrs:{label:"不合格数量"},model:{value:t.inspectHistoryAdd.unqualifiedNumber,callback:function(s){t.$set(t.inspectHistoryAdd,"unqualifiedNumber",s)},expression:"inspectHistoryAdd.unqualifiedNumber"}}),e("input-box",{staticClass:"flex-item mr-20 mt-15",attrs:{label:"合格数量"},model:{value:t.inspectHistoryAdd.qualifiedNumber,callback:function(s){t.$set(t.inspectHistoryAdd,"qualifiedNumber",s)},expression:"inspectHistoryAdd.qualifiedNumber"}})],1),e("div",{staticClass:"flex mt-15"},[e("input-box",{staticClass:"flex-item mr-20 ml-20 mt-15",attrs:{label:"处理意见"},model:{value:t.inspectHistoryAdd.handlingSuggestion,callback:function(s){t.$set(t.inspectHistoryAdd,"handlingSuggestion",s)},expression:"inspectHistoryAdd.handlingSuggestion"}}),e("input-box",{staticClass:"flex-item mr-20 mt-15",attrs:{label:"不合格现象描述"},model:{value:t.inspectHistoryAdd.remark,callback:function(s){t.$set(t.inspectHistoryAdd,"remark",s)},expression:"inspectHistoryAdd.remark"}})],1),e("div",{staticClass:"layer-btns"},[e("btn",{attrs:{flat:""},on:{click:function(s){t.completeLayer=!1}}},[t._v("取消")]),e("btn",{attrs:{flat:"",color:"#008eff"},on:{click:function(s){t.complete()}}},[t._v("保存")])],1)]):t._e(),t.layer?e("layer",{attrs:{title:"详情",width:"70%"}},[e("div",{staticClass:"layer-text",staticStyle:{"padding-bottom":"50px"}},[e("div",{staticClass:"form-content page-supplier-info"},[e("table",{staticClass:"f-14"},[e("tr",[e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}})]),e("tr",[e("td",{staticClass:"b",staticStyle:{border:"none"},attrs:{colspan:"11",align:"center"}},[t._v("喷涂加工单")])]),e("tr",[e("th",{attrs:{colspan:"11"}},[t._v("喷涂单号："+t._s(t.spray.sprayNo))])]),e("tr",[e("th",{attrs:{colspan:"5"}},[t._v("计划人："+t._s(t.spray.planner))]),e("td",{attrs:{colspan:"6"}},[t._v("日  期："+t._s(t.spray.createTime))])]),e("tr",{staticStyle:{border:"thin"}},[e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("序号")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("零件名称")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("零件图号")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("型号")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("规格")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("材质")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("数量")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("喷涂颜色")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("特殊要求")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("完成时间")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("备注")])]),t._l(t.spray.items,function(s,a){return e("tr",{staticStyle:{border:"thin"}},[e("td",{attrs:{colspan:"1"}},[t._v(t._s(a+1))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.materialClassifyName))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.materialGraphNo))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.model))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.specification))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.material))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.number))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.sprayColor))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.specialRequires))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.completeTime))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.remark))])])})],2)]),t.inspectHistory.length?e("div",{staticClass:"mt-15 ml-20 mr-20",staticStyle:{"overflow-x":"auto"}},[e("div",{staticClass:"b f-18 flex-v-center ml-20",staticStyle:{"margin-bottom":"20px"}},[e("div",{staticClass:"flex-item",staticStyle:{"text-align":"center","line-height":"24px"}},[t._v("质检记录")])]),e("div",{staticClass:"flex-item scroll-y page-supplier-info",staticStyle:{"overflow-x":"auto"}},[e("table",{staticClass:"data-table"},[e("tr",{staticStyle:{display:"none"}},[e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"12%"}}),e("td",{staticStyle:{width:"12%"}})]),e("tr",[e("th",[t._v("喷涂单号")]),e("th",[t._v("零件名称")]),e("th",[t._v("零件原图号")]),e("th",[t._v("零件图号")]),e("th",[t._v("检测数量")]),e("th",[t._v("合格数量")]),e("th",[t._v("不合格数量")]),e("th",[t._v("处理意见")]),e("th",[t._v("不合格现象描述")])]),t._l(t.inspectHistory,function(s,a){return e("tr",[e("td",[t._v(t._s(s.sprayNo))]),e("td",[t._v(t._s(s.materialGraphName))]),e("td",[t._v(t._s(s.originalGraphNo))]),e("td",[t._v(t._s(s.materialGraphNo))]),e("td",[t._v(t._s(s.testNumber))]),e("td",[t._v(t._s(s.qualifiedNumber))]),e("td",[t._v(t._s(s.unqualifiedNumber))]),e("td",[t._v(t._s(s.handlingSuggestion))]),e("td",[t._v(t._s(s.remark))])])})],2)])]):t._e()]),e("div",{staticClass:"layer-btns"},[e("btn",{attrs:{flat:"",color:"#008eff"},on:{click:function(s){t.layer=!1}}},[t._v("关闭")])],1)]):t._e()],1)},i=[],r=(e("ff66"),e("ea23"),e("dbff"),e("9b68")),l={name:"spray-add-list",components:{DataList:r["a"]},data:function(){return{items:[],completeLayer:!1,layer:!1,filter:{type:1,status:-1},rowStatusList:[{status:0,name:"待审批"},{status:1,name:"加工中"},{status:2,name:"质检完成"},{status:3,name:"加工完成"},{status:4,name:"暂停加工"}],statusList:[{status:0,name:"待审批"},{status:1,name:"加工中"},{status:2,name:"质检完成"},{status:3,name:"加工完成"},{status:4,name:"暂停加工"},{status:-1,name:"全部"}],inspectHistoryAdd:{},spray:{planner:"",sprayNo:"",createTime:"",items:[]}}},methods:{completeInspect:function(t){this.updateStatus(t.sprayNo,2)},complete:function(){var t=this;this.$http.post("/haolifa/spray/inspect",this.inspectHistoryAdd).then(function(s){t.$toast("添加成功"),t.completeLayer=!1,t.$refs.list.update()}).catch(function(s){t.$toast(s.msg||s.message)})},addSprayInspect:function(t){this.inspectHistoryAdd={sprayNo:t.sprayNo,originalGraphNo:t.materialGraphNo,materialGraphNo:"",materialGraphName:"",testNumber:0,qualifiedNumber:0,unqualifiedNumber:0,handlingSuggestion:"",remark:""},this.completeLayer=!0},updateStatus:function(t,s){var e=this;this.$http.put("/haolifa/spray/status/".concat(t,"/").concat(s)).then(function(t){e.$refs.list.update()}).catch(function(t){e.$toast(t.msg||t.message)})},sprayInfo:function(t){var s=this;this.$http.get("/haolifa/spray/form/".concat(t.sprayNo)).then(function(t){s.spray=t}).catch(function(t){s.$toast(t.msg||t.message)}),this.$http.get("/haolifa/spray/inspect/list/".concat(t.sprayNo)).then(function(t){s.inspectHistory=t}).catch(function(t){s.$toast(t.msg||t.message)}),this.layer=!0}}},n=l,c=(e("cb21"),e("c46c")),o=Object(c["a"])(n,a,i,!1,null,null,null);o.options.__file="addList.vue";s["default"]=o.exports},"8bb6":function(t,s,e){"use strict";var a=e("2294"),i=e.n(a);i.a},"8caa":function(t,s,e){},"91ed":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"page-orders-list"},[e("div",{staticClass:"flex-v-center tool-bar"},[e("div",{staticClass:"flex-v-center search-bar",staticStyle:{"margin-right":"20px"}},[e("i",{staticClass:"icon f-20 c-8"},[t._v("search")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.orderNo,expression:"filter.orderNo"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"订单号"},domProps:{value:t.filter.orderNo},on:{change:function(s){t.$refs.list.update(!0)},input:function(s){s.target.composing||t.$set(t.filter,"orderNo",s.target.value)}}}),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.orderStatus,expression:"filter.orderStatus"}],staticClass:"f-14",on:{change:[function(s){var e=Array.prototype.filter.call(s.target.options,function(t){return t.selected}).map(function(t){var s="_value"in t?t._value:t.value;return s});t.$set(t.filter,"orderStatus",s.target.multiple?e:e[0])},function(s){t.$refs.list.update(!0)}]}},[e("option",{attrs:{value:"-1"}},[t._v("全部")]),t._l(t.orderStatusList,function(s){return e("option",{key:s.value,domProps:{value:s.value}},[t._v(t._s(s.text))])})],2),e("i",{staticClass:"icon",staticStyle:{"margin-left":"-20px","pointer-events":"none"}},[t._v("arrow_drop_down")])]),e("div",{staticClass:"flex-item"})]),e("div",{staticClass:"flex-item scroll-y"},[e("data-list",{ref:"list",attrs:{param:t.filter,url:"/haolifa/order-product/pageInfo",method:"post"},scopedSlots:t._u([{key:"item",fn:function(s){var a=s.item,i=s.index;return[e("td",{staticClass:"c-a"},[t._v(t._s(i))]),e("td",[t._v(t._s(a.orderNo))]),e("td",[e("a",{staticClass:"fixed-length",attrs:{href:a.orderContractUrl,title:a.orderContractUrl}},[t._v(t._s(a.orderContractUrl))])]),e("td",[t._v(t._s(a.deliveryDate))]),e("td",[t._v(t._s(t.orderStatusList[a.orderStatus].text))]),e("td",[t._v(t._s(a.createTime))]),e("td",{staticClass:"t-right"},[e("a",{staticClass:"blue",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(s){t.infoShow(a)}}},[t._v("详情")])])]}}])},[e("tr",{attrs:{slot:"header"},slot:"header"},[e("th",{staticStyle:{width:"60px"}},[t._v("序号")]),e("th",[t._v("订单编号")]),e("th",[t._v("订单合同URL")]),e("th",[t._v("发货日期")]),e("th",[t._v("订单状态")]),e("th",[t._v("创建时间")]),e("th",{staticClass:"t-right",staticStyle:{width:"80px"}},[t._v("操作")])])])],1),t.completeLayer?e("layer",{attrs:{title:"质检记录",width:"650px"}},[e("div",{staticClass:"flex"},[e("input-box",{staticClass:"flex-item mr-20 ml-20",attrs:{label:"订单号"},model:{value:t.order.orderNo,callback:function(s){t.$set(t.order,"orderNo",s)},expression:"order.orderNo"}}),e("select-box",{staticClass:"flex-item mr-20",attrs:{list:t.productNoList,label:"产品编号"},model:{value:t.order.productNo,callback:function(s){t.$set(t.order,"productNo",s)},expression:"order.productNo"}})],1),e("div",{staticClass:"flex"},[e("select-box",{staticClass:"flex-item mr-20 ml-20",attrs:{list:t.productModelList,label:"成品型号"},model:{value:t.order.productModel,callback:function(s){t.$set(t.order,"productModel",s)},expression:"order.productModel"}}),e("select-box",{staticClass:"flex-item mr-20",attrs:{list:t.productSpecificationsList,label:"成品规格"},model:{value:t.order.productSpecifications,callback:function(s){t.$set(t.order,"productSpecifications",s)},expression:"order.productSpecifications"}})],1),e("div",{staticClass:"flex"},[e("input-box",{staticClass:"flex-item mr-20 ml-20",attrs:{label:"检测数量"},model:{value:t.order.testingNumber,callback:function(s){t.$set(t.order,"testingNumber",s)},expression:"order.testingNumber"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"合格数量"},model:{value:t.order.qualifiedNumber,callback:function(s){t.$set(t.order,"qualifiedNumber",s)},expression:"order.qualifiedNumber"}})],1),e("div",{staticClass:"flex"},[e("input-box",{staticClass:"flex-item mr-20 ml-20",attrs:{label:"不合格数量"},model:{value:t.order.unqualifiedNumber,callback:function(s){t.$set(t.order,"unqualifiedNumber",s)},expression:"order.unqualifiedNumber"}}),e("select-box",{staticClass:"flex-item mr-20",attrs:{list:t.reasonList,label:"不合格原因"},model:{value:t.order.reason,callback:function(s){t.$set(t.order,"reason",s)},expression:"order.reason"}})],1),e("div",{staticClass:"layer-btns"},[e("btn",{attrs:{flat:""},on:{click:function(s){t.completeLayer=!1}}},[t._v("取消")]),e("btn",{attrs:{flat:"",color:"#008eff"},on:{click:function(s){t.complete()}}},[t._v("保存")])],1)]):t._e(),t.layer?e("layer",{attrs:{title:"详情",width:"50%"}},[e("div",{staticClass:"layer-text",staticStyle:{"padding-bottom":"50px"}},[e("div",{staticClass:"form-content metalwork-info"},[e("table",{staticClass:"f-14 order-info"},[e("tr",[e("td",{staticStyle:{width:"7%"}}),e("td",{staticStyle:{width:"7%"}}),e("td",{staticStyle:{width:"7%"}}),e("td",{staticStyle:{width:"7%"}}),e("td",{staticStyle:{width:"7%"}}),e("td",{staticStyle:{width:"7%"}}),e("td",{staticStyle:{width:"7%"}}),e("td",{staticStyle:{width:"7%"}}),e("td",{staticStyle:{width:"7%"}}),e("td",{staticStyle:{width:"7%"}}),e("td",{staticStyle:{width:"7%"}}),e("td",{staticStyle:{width:"7%"}}),e("td",{staticStyle:{width:"8%"}}),e("td",{staticStyle:{width:"8%"}})]),e("tr",[e("td",{staticClass:"b",attrs:{colspan:"14"}},[t._v("订单编号 : "+t._s(t.info.orderNo))])]),e("tr",[e("td",{staticClass:"b",attrs:{colspan:"14"}},[t._v("发货日期 : "+t._s(t.info.deliveryDate))])]),e("tr",[e("td",{staticClass:"b",attrs:{colspan:"14"}},[t._v("订单状态 : "+t._s(t.orderStatusList[t.info.orderStatus-5].text))])]),e("tr",[e("td",{staticClass:"b",attrs:{colspan:"14"}},[t._v("\n                            订单合同:\n                            "),e("a",{staticStyle:{"margin-right":"15px"},attrs:{href:t.info.orderContractUrl}},[t._v("下载")]),t.info.orderContractUrl.match(".(pdf|jpe?g|png|bmp)$")?e("a",{attrs:{target:"_blank",href:t.info.orderContractUrl}},[t._v("预览")]):t._e(),t.info.orderContractUrl.match(".(pdf|jpe?g|png|bmp)$")?t._e():e("a",{attrs:{target:"_blank",href:"http://view.officeapps.live.com/op/view.aspx?src="+t.info.orderContractUrl}},[t._v("预览")])])]),e("tr",[e("td",{staticClass:"b",attrs:{colspan:"7"}},[t._v("装配车间: "+t._s(t.info.assemblyShop))]),e("td",{staticClass:"b",attrs:{colspan:"7"}},[t._v("装配小组: "+t._s(t.info.assemblyGroup))])]),e("tr",[e("td",{staticClass:"b",attrs:{colspan:"7"}},[t._v("采购反馈时间: "+t._s(t.info.purchaseFeedbackTime))]),e("td",{staticClass:"b",attrs:{colspan:"7"}},[t._v("生产反馈时间: "+t._s(t.info.productionFeedbackTime))])]),e("tr",[e("td",{staticClass:"b",attrs:{colspan:"14"}},[t._v("技术清单:")])]),e("tr",[e("td",{attrs:{colspan:"1",rowspan:"2"}},[t._v("序号")]),e("td",{attrs:{colspan:"1",rowspan:"2"}},[t._v("产品名称")]),e("td",{attrs:{colspan:"1",rowspan:"2"}},[t._v("型号")]),e("td",{attrs:{colspan:"1",rowspan:"2"}},[t._v("规格")]),e("td",{attrs:{colspan:"1",rowspan:"2"}},[t._v("数量")]),e("td",{attrs:{colspan:"1",rowspan:"2"}},[t._v("上法兰标准")]),e("td",{attrs:{colspan:"3",rowspan:"1"}},[t._v("上法兰尺寸")]),e("td",{attrs:{colspan:"3",rowspan:"1"}},[t._v("出轴尺寸")]),e("td",{attrs:{colspan:"1",rowspan:"2"}},[t._v("静扭矩")]),e("td",{attrs:{colspan:"1",rowspan:"2"}},[t._v("执行器型号")])]),e("tr",[e("td",{attrs:{colspan:"1",rowspan:"1"}},[t._v("连接孔")]),e("td",{attrs:{colspan:"1",rowspan:"1"}},[t._v("角度")]),e("td",{attrs:{colspan:"1",rowspan:"1"}},[t._v("中心距")]),e("td",{attrs:{colspan:"1",rowspan:"1"}},[t._v("出轴型式")]),e("td",{attrs:{colspan:"1",rowspan:"1"}},[t._v("出轴长度")]),e("td",{attrs:{colspan:"1",rowspan:"1"}},[t._v("轴图号")])]),t._l(JSON.parse(t.info.technicalRequire),function(s,a){return e("tr",{key:a},[e("td",{attrs:{colspan:"1"}},[t._v(t._s(a))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.name))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.xinhao))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.guige))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.num))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.biaozhun))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.lianjiek))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.jiaodu))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.zhongxinju))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.xinshi))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.length))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.tuhao))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.jinniuju))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.jishuxinhao))])])}),e("tr",[e("td",{staticClass:"b",attrs:{colspan:"14"}},[t._v("订单产品列表")])]),e("tr",[e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("产品编号")]),e("td",{staticClass:"b",attrs:{colspan:"2"}},[t._v("产品名称")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("型号")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("标签属性")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("规格")]),e("td",{staticClass:"b",attrs:{colspan:"2"}},[t._v("颜色")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("产品数量")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("总计价格")]),e("td",{staticClass:"b",attrs:{colspan:"2"}},[t._v("材质说明")]),e("td",{staticClass:"b",attrs:{colspan:"2"}},[t._v("产品备注")])]),t._l(t.info.orderProductAssociates,function(s,a){return e("tr",{key:a},[e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.productNo))]),e("td",{attrs:{colspan:"2"}},[t._v(t._s(s.productName))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.productModel))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.lable))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.specifications))]),e("td",{attrs:{colspan:"2"}},[t._v(t._s(s.productColor))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.productNumber))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.totalPrice))]),e("td",{attrs:{colspan:"2"}},[t._v(t._s(s.materialDescription))]),e("td",{attrs:{colspan:"2"}},[t._v(t._s(s.productRemark))])])})],2)]),t.recordList.length?e("div",{staticClass:"mt-15 ml-20 mr-20",staticStyle:{"overflow-x":"auto"}},[e("div",{staticClass:"b f-18 flex-v-center ml-20",staticStyle:{"margin-bottom":"20px"}},[e("div",{staticClass:"flex-item",staticStyle:{"text-align":"center","line-height":"24px"}},[t._v("质检记录")])]),e("div",{staticClass:"flex-item scroll-y page-supplier-info",staticStyle:{"overflow-x":"auto"}},[e("table",{staticClass:"data-table"},[e("tr",{staticStyle:{display:"none"}},[e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"12%"}})]),e("tr",[e("th",[t._v("产品编号")]),e("th",[t._v("成品型号")]),e("th",[t._v("成品规格")]),e("th",[t._v("检测数量")]),e("th",[t._v("合格数量")]),e("th",[t._v("不合格数量")]),e("th",[t._v("不合格原因")]),e("th",[t._v("状态")]),e("th",[t._v("创建日期")])]),t._l(t.recordList,function(s,a){return e("tr",[e("td",[t._v(t._s(s.productNo))]),e("td",[t._v(t._s(s.productModel))]),e("td",[t._v(t._s(s.productSpecifications))]),e("td",[t._v(t._s(s.testingNumber))]),e("td",[t._v(t._s(s.qualifiedNumber))]),e("td",[t._v(t._s(s.unqualifiedNumber))]),e("td",[t._v(t._s(s.reason))]),e("td",[t._v(t._s(1==s.storageStatus?"待入库":"已入库"))]),e("td",[t._v(t._s(s.createTime))])])})],2)])]):t._e()]),e("div",{staticClass:"layer-btns"},[e("btn",{attrs:{flat:"",color:"#008eff"},on:{click:t.close}},[t._v("关闭")])],1)]):t._e()],1)},i=[],r=(e("ff66"),e("ea23"),e("dbff"),e("9b68")),l={name:"product-addList",components:{DataList:r["a"]},data:function(){return{completeLayer:!1,loading:!1,orderStatusList:[{value:5,text:"待生产"},{value:6,text:"待领料"},{value:7,text:"生产中"},{value:8,text:"生产暂停"},{value:9,text:"生产完成"},{value:10,text:"质检中"},{value:11,text:"已入库"},{value:12,text:"申请发货"},{value:13,text:"发货完成"}],filter:{orderNo:"",orderStatus:5},layer:!1,info:{},productNoList:[],productModelList:[],productSpecificationsList:[],order:{id:"",orderNo:"",productModel:"",productNo:"",productSpecifications:"",qualifiedNumber:"",reason:"",testingNumber:"",unqualifiedNumber:""},reasonList:[],recordList:[]}},created:function(){this.getReasonList()},methods:{getOrderStatusList:function(){var t=this;this.$http.get("/haolifa/order-product/order-status-list").then(function(s){t.orderStatusList=s.map(function(t){return{value:t.code,text:t.desc}})})},getReasonList:function(){var t=this;this.$http.get("/haolifa/pro-inspect/reasonList").then(function(s){t.reasonList=s.map(function(t){return{text:t,value:t}})}).catch(function(s){t.$toast(s.msg||s.message)})},progress:function(t){var s=this;this.completeLayer=!0,this.reset(),this.order.orderNo=t.orderNo,this.$http.get("/haolifa/order-product/details?orderNo=".concat(t.orderNo)).then(function(t){s.productNoList=t.orderProductAssociates.map(function(t){return{text:t.productNo,value:t.productNo}}),s.productModelList=t.orderProductAssociates.map(function(t){return{text:t.productModel,value:t.productModel}}),s.productSpecificationsList=t.orderProductAssociates.map(function(t){return{text:t.specifications,value:t.specifications}})}).catch(function(t){s.$toast(t.msg||t.message)})},infoShow:function(t){this.layer=!0,this.getInfo(t.orderNo)},getInfo:function(t){var s=this;this.$http.get("/haolifa/order-product/details?orderNo=".concat(t)).then(function(t){s.info=t}).catch(function(t){s.$toast(t.msg||t.message)});var e={inspectNo:"",orderNo:t,pageNum:1,pageSize:100,storageStatus:0};this.$http.post("/haolifa/pro-inspect/pageInfo",e).then(function(t){s.recordList=t.list}).catch(function(t){s.$toast(t.msg||t.message)})},close:function(){this.layer=!1},complete:function(){var t=this;this.$http.post("/haolifa/pro-inspect/save",this.order).then(function(s){t.$toast("添加成功"),t.completeLayer=!1}).catch(function(s){t.$toast(s.msg||s.message)})},reset:function(){this.order={id:"",orderNo:"",productModel:"",productNo:"",productSpecifications:"",qualifiedNumber:"",reason:"",testingNumber:"",unqualifiedNumber:""}}}},n=l,c=(e("db0f"),e("c46c")),o=Object(c["a"])(n,a,i,!1,null,null,null);o.options.__file="index.vue";s["default"]=o.exports},9453:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"page-material-list"},[e("div",{staticClass:"flex-v-center tool-bar"},[e("div",{staticClass:"flex-v-center search-bar",staticStyle:{"margin-right":"20px"}},[e("i",{staticClass:"icon f-20 c-8"},[t._v("search")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.status,expression:"filter.status"}],staticClass:"f-14",on:{change:[function(s){var e=Array.prototype.filter.call(s.target.options,function(t){return t.selected}).map(function(t){var s="_value"in t?t._value:t.value;return s});t.$set(t.filter,"status",s.target.multiple?e:e[0])},function(s){t.$refs.list.update(!0)}]}},t._l(t.allStatus,function(s){return e("option",{key:s.id,domProps:{value:s.value}},[t._v(t._s(s.text))])}),0)])]),e("div",{staticClass:"flex-item scroll-y"},[e("data-list",{ref:"list",attrs:{"page-size":10,param:t.filter,url:"/haolifa/applyBuy/list",method:"get"},scopedSlots:t._u([{key:"item",fn:function(s){var a=s.item,i=s.index;return[e("td",{staticClass:"c-a"},[t._v(t._s(i))]),e("td",[t._v(t._s(a.productOrderNo))]),e("td",[t._v(t._s(a.materialName))]),e("td",[t._v(t._s(a.materialGraphNo))]),e("td",[t._v(t._s(a.purchaseNumber))]),e("td",[t._v(t._s(a.createTime))]),e("td",[t._v(t._s(a.arrivalTime))]),e("td",[t._v(t._s(t.allStatus[a.status].text))]),e("td",{staticClass:"t-right"},[2==a.status?e("a",{staticClass:"blue",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(s){t.dealApplyBuy(a.id)}}},[t._v("处理完成")]):t._e()])]}}])},[e("tr",{attrs:{slot:"header"},slot:"header"},[e("th",{staticStyle:{width:"60px"}},[t._v("序号")]),e("th",[t._v("订单号")]),e("th",[t._v("物料名称")]),e("th",[t._v("物料图号")]),e("th",[t._v("数量")]),e("th",[t._v("发起时间")]),e("th",[t._v("到货时间")]),e("th",[t._v("状态")]),e("th",{staticClass:"t-right",staticStyle:{width:"80px"}},[t._v("操作")])])])],1)])},i=[],r=e("9b68"),l={name:"page-order-list",components:{DataList:r["a"]},data:function(){return{filter:{type:0,status:-1},allStatus:[{value:-1,text:"全部"},{value:1,text:"待审批"},{value:2,text:"待采购"},{value:3,text:"已处理"},{value:4,text:"审批不通过"}]}},methods:{dealApplyBuy:function(t){var s=this;this.$http.post("/haolifa/applyBuy/updateStatus/".concat(t)).then(function(t){s.$toast("处理成功"),s.$refs.list.update()}).catch(function(t){s.$toast("处理失败")})}}},n=l,c=(e("6ab1"),e("c46c")),o=Object(c["a"])(n,a,i,!1,null,null,null);o.options.__file="index.vue";s["default"]=o.exports},"94a3":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:" abs scroll-y"},[e("div",{staticClass:"form-content metalwork-info"},[e("div",{staticClass:"b f-18 flex-v-center",staticStyle:{"margin-bottom":"20px"}},[e("icon-btn",{staticClass:"mr-15",on:{click:function(s){t.$router.back()}}},[t._v("arrow_back")]),e("div",{staticClass:"flex-item"},[t._v("详情")])],1),e("table",{staticClass:"f-14"},[t._m(0),t._m(1),e("tr",[e("th",{attrs:{colspan:"3"}},[t._v("机加工单号："+t._s(t.entrust.entrustNo))]),e("td",{attrs:{colspan:"2"}},[t._v("发起日期："+t._s(t.entrust.createTime))])]),e("tr",[e("th",{attrs:{colspan:"3"}},[t._v("采购合同号："+t._s(t.entrust.purchaseNo))]),e("td",{attrs:{colspan:"2"}},[t._v("批次号："+t._s(t.entrust.batchNumber))])]),t._m(2),e("tr",[e("td",{attrs:{colspan:"1"}},[t._v(t._s(t.entrust.purchaseNo))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(t.entrust.batchNumber))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(t.entrust.materialGraphName))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(t.entrust.materialGraphNo))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(t.entrust.number))])])])]),t.inspectHistory.length?e("div",{staticClass:"mt-15 ml-20 mr-20 form-content"},[t._m(3),e("div",{staticClass:"flex-item scroll-y ml-20"},[e("table",{staticClass:"data-table"},[t._m(4),t._l(t.inspectHistory,function(s,a){return e("tr",[e("td",[t._v(t._s(s.inspectNo))]),e("td",[t._v(t._s(1==s.type?"采购零件":"机加工零件"))]),e("td",[t._v(t._s(s.materialGraphName))]),e("td",[t._v(t._s(s.materialGraphNo))]),e("td",[t._v(t._s(s.testNumber))]),e("td",[t._v(t._s(s.qualifiedNumber))]),e("td",[t._v(t._s(s.unqualifiedNumber))]),e("td",[t._v(t._s(s.handlingSuggestion))]),e("td",[t._v(t._s(s.remark))])])})],2)])]):t._e()])},i=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("tr",[e("td",{staticStyle:{width:"20%"}}),e("td",{staticStyle:{width:"20%"}}),e("td",{staticStyle:{width:"20%"}}),e("td",{staticStyle:{width:"20%"}}),e("td",{staticStyle:{width:"20%"}})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("tr",[e("td",{staticClass:"b",attrs:{colspan:"5"}},[t._v("机加工单")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("tr",[e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("采购合同编号")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("批次号")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("物料名称")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("物料图号")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("数量")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"b f-18 flex-v-center ml-20",staticStyle:{"margin-bottom":"20px"}},[e("div",{staticClass:"flex-item"},[t._v("质检记录")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("tr",[e("th",[t._v("质检单号")]),e("th",[t._v("类别")]),e("th",[t._v("物料名称")]),e("th",[t._v("物料图号")]),e("th",[t._v("检测数量")]),e("th",[t._v("合格数量")]),e("th",[t._v("不合格数量")]),e("th",[t._v("处理意见")]),e("th",[t._v("不合格现象描述")])])}],r={name:"metalwork-info",data:function(){return{loading:!1,entrustNo:"",entrust:{},items:[],inspectHistory:[]}},created:function(){this.entrustNo=this.$route.query.inspectNo,this.getInfo(),this.getInspectHistory()},methods:{getInfo:function(){var t=this;this.$http.get("/haolifa/entrust/info/".concat(this.entrustNo)).then(function(s){t.entrust=s,t.entrust.createTime=s.createTime.substring(0,10)}).catch(function(s){t.$toast(s.msg||s.message)})},getInspectHistory:function(){var t=this;this.$http.get("/haolifa/material-inspect/history/list/".concat(this.entrustNo)).then(function(s){t.inspectHistory=s}).catch(function(s){t.$toast(s.msg||s.message)})}}},l=r,n=(e("bafd"),e("c46c")),c=Object(n["a"])(l,a,i,!1,null,null,null);c.options.__file="info.vue";s["default"]=c.exports},"9b68":function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"data-list relative f-12"},[e("transition",{attrs:{name:"slide-y"}},[t.list.length?e("table",{staticClass:"data-table"},[t._t("header",[e("tr",[e("th",[t._v("表头1")]),e("th",[t._v("表头2")])])]),t._l(t.list,function(s,a){return e("tr",{key:s.id},[t._t("item",[e("td",[t._v("数据1")]),e("td",[t._v("数据2")])],{item:s,index:(t.pageNum-1)*t.pageSize+a+1})],2)})],2):t._e()]),e("div",{staticClass:"flex-v-center",staticStyle:{"margin-top":"10px"}},[t.list.length?e("pagination",{staticClass:"mr-20",attrs:{page:t.pageNum,size:t.pageSize,total:t.total},on:{change:t.getList}}):t._e(),t.total?e("span",{staticClass:"f-12 c-6"},[t._v("共 "+t._s(t.total)+" 条数据")]):t._e()],1),t.list.length||t.loading?t._e():e("div",{staticStyle:{"margin-top":"100px"}},[e("no-data")],1)],1)},i=[],r=e("f360"),l=e.n(r),n=(e("7378"),e("e862")),c=e.n(n);function o(t){return"?"+c()(t).map(function(s){return encodeURIComponent(s)+"="+encodeURIComponent(t[s])}).join("&")}var p={name:"data-list",props:{method:{type:String,default:"get"},url:{type:String,default:""},pageSize:{type:Number,default:20},param:{type:Object,default:function(){}},pageNumStr:{type:String,default:"pageNum"}},data:function(){return{pageNum:1,total:0,loading:!1,list:[]}},watch:{url:function(){this.update()},mehtod:function(){this.update()},pageSize:function(){this.update()},param:function(){this.update()}},created:function(){this.pageNum=this.$route.query.page||1,this.getList(this.pageNum)},methods:{getList:function(t){var s=this,e=this.method,a=this.url,i=this.pageSize,r=this.param;if(a){this.loading=!0;var n={pageSize:i};n[this.pageNumStr]=t;var c=l()(n,r),p="get"===e?a+o(c):a;this.$http[e](p,c).then(function(t){s.list=t.list||[],s.pageNum=t.pageNum;var e=s.$route.query;e.page=t.pageNum,s.$router.push({path:s.$route.path,query:e}),s.total=t.total,s.loading=!1}).catch(function(t){s.loading=!1,s.$toast(t.message||t.msg||t)})}},update:function(t){this.getList(t?1:this.pageNum)}}},d=p,u=(e("c8ea"),e("c46c")),m=Object(u["a"])(d,a,i,!1,null,null,null);m.options.__file="index.vue";s["a"]=m.exports},b316:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"material-list"},[e("div",{staticClass:"flex-v-center tool-bar"},[e("div",{staticClass:"flex-v-center search-bar",staticStyle:{"margin-right":"20px"}},[e("i",{staticClass:"icon f-20 c-8"},[t._v("search")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.inspectNo,expression:"filter.inspectNo"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"送检单号"},domProps:{value:t.filter.inspectNo},on:{change:function(s){t.$refs.list.update(!0)},input:function(s){s.target.composing||t.$set(t.filter,"inspectNo",s.target.value)}}}),e("i",{staticClass:"icon f-20 c-8"},[t._v("search")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.purchaseOrderNo,expression:"filter.purchaseOrderNo"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"采购合同号"},domProps:{value:t.filter.purchaseOrderNo},on:{change:function(s){t.$refs.list.update(!0)},input:function(s){s.target.composing||t.$set(t.filter,"purchaseOrderNo",s.target.value)}}})])]),e("div",{staticClass:"flex-item scroll-y"},[e("data-list",{ref:"list",staticClass:"f-14",attrs:{"page-size":10,param:t.filter,url:"/haolifa/material-inspect/purchase-list/1",method:"get"},scopedSlots:t._u([{key:"item",fn:function(s){var a=s.item,i=s.index;return[e("td",{staticClass:"c-a"},[t._v(t._s(i))]),e("td",[t._v(t._s(a.inspectNo))]),e("td",[t._v(t._s(a.purchaseNo))]),e("td",[t._v(t._s(a.batchNumber))]),e("td",[t._v(t._s(a.arrivalTime))]),e("td",[t._v(t._s(a.supplierName))]),e("td",[t._v(t._s(a.createTime))]),e("td",[t._v(t._s(t.statusList[a.status].name))]),e("td",{staticClass:"t-right"},[e("a",{staticClass:"blue",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(s){t.info(a)}}},[t._v("查看")])])]}}])},[e("tr",{attrs:{slot:"header"},slot:"header"},[e("th",{staticStyle:{width:"60px"}},[t._v("序号")]),e("th",[t._v("报检单号")]),e("th",[t._v("采购合同号")]),e("th",[t._v("批次号")]),e("th",[t._v("到货日期")]),e("th",[t._v("供应商名称")]),e("th",[t._v("发起时间")]),e("th",[t._v("状态")]),e("th",{staticClass:"t-right",staticStyle:{width:"80px"}},[t._v("操作")])])])],1),t.inspectHistory.completeLayer?e("layer",{attrs:{title:"质检记录",width:"650px"}},[e("div",{staticClass:"flex"},[e("input-box",{staticClass:"flex-item mr-20 ml-20",attrs:{label:"采购合同号"},model:{value:t.inspectHistory.purchaseNo,callback:function(s){t.$set(t.inspectHistory,"purchaseNo",s)},expression:"inspectHistory.purchaseNo"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"批次号"},model:{value:t.inspectHistory.batchNumber,callback:function(s){t.$set(t.inspectHistory,"batchNumber",s)},expression:"inspectHistory.batchNumber"}})],1),e("div",{staticClass:"flex mt-15"},[e("input-box",{staticClass:"mr-20 ml-20 mt-15",attrs:{label:"送检单号"},model:{value:t.inspectHistory.inspectNo,callback:function(s){t.$set(t.inspectHistory,"inspectNo",s)},expression:"inspectHistory.inspectNo"}}),e("select-box",{staticClass:"mt-15",attrs:{list:t.inspectHistory.selectMaterialNo,label:"物料图号"},on:{change:function(s){t.changeMaterialNo()}},model:{value:t.inspectHistory.materialGraphNo,callback:function(s){t.$set(t.inspectHistory,"materialGraphNo",s)},expression:"inspectHistory.materialGraphNo"}}),e("input-box",{staticClass:"mr-20 mt-15",attrs:{label:"物料名称"},model:{value:t.inspectHistory.materialName,callback:function(s){t.$set(t.inspectHistory,"materialName",s)},expression:"inspectHistory.materialName"}})],1),e("div",{staticClass:"flex mt-15"},[e("input-box",{staticClass:"flex-item mr-20 ml-20 mt-15",attrs:{label:"检测数量"},model:{value:t.inspectHistory.testNumber,callback:function(s){t.$set(t.inspectHistory,"testNumber",s)},expression:"inspectHistory.testNumber"}}),e("input-box",{staticClass:"flex-item mr-20 mt-15",attrs:{label:"不合格数量"},model:{value:t.inspectHistory.unqualifiedNumber,callback:function(s){t.$set(t.inspectHistory,"unqualifiedNumber",s)},expression:"inspectHistory.unqualifiedNumber"}}),e("input-box",{staticClass:"flex-item mr-20 mt-15",attrs:{label:"合格数量"},model:{value:t.inspectHistory.qualifiedNumber,callback:function(s){t.$set(t.inspectHistory,"qualifiedNumber",s)},expression:"inspectHistory.qualifiedNumber"}})],1),e("div",{staticClass:"flex mt-15"},[e("input-box",{staticClass:"flex-item mr-20 ml-20 mt-15",attrs:{label:"处理意见"},model:{value:t.inspectHistory.handlingSuggestion,callback:function(s){t.$set(t.inspectHistory,"handlingSuggestion",s)},expression:"inspectHistory.handlingSuggestion"}}),e("input-box",{staticClass:"flex-item mr-20 mt-15",attrs:{label:"不合格现象描述"},model:{value:t.inspectHistory.remark,callback:function(s){t.$set(t.inspectHistory,"remark",s)},expression:"inspectHistory.remark"}})],1),e("div",{staticClass:"layer-btns"},[e("btn",{attrs:{flat:""},on:{click:function(s){t.inspectHistory.completeLayer=!1}}},[t._v("取消")]),e("btn",{attrs:{flat:"",color:"#008eff"},on:{click:function(s){t.complete()}}},[t._v("保存")])],1)]):t._e(),t.layer?e("layer",{attrs:{title:"详情",width:"70%"}},[e("div",{staticClass:"layer-text",staticStyle:{"padding-bottom":"50px"}},[e("div",{staticClass:"form-content page-supplier-info"},[e("table",{staticClass:"f-14"},[e("tr",[e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}})]),e("tr",[e("td",{staticClass:"b",attrs:{colspan:"11"}},[t._v("零件送检单")])]),e("tr",[e("th",{attrs:{colspan:"5"}},[t._v("送检单号："+t._s(t.inspect.inspectNo))]),e("td",{attrs:{colspan:"6"}},[t._v("发起日期："+t._s(t.inspect.createTime))])]),e("tr",[e("th",{attrs:{colspan:"5"}},[t._v("采购合同号："+t._s(t.inspect.purchaseNo))]),e("td",{attrs:{colspan:"6"}},[t._v("批次号："+t._s(t.inspect.batchNumber))])]),e("tr",[e("th",{attrs:{colspan:"5"}},[t._v("供应商："+t._s(t.inspect.supplierName))]),e("td",{attrs:{colspan:"6"}},[t._v("到货日期："+t._s(t.inspect.arrivalTime))])]),e("tr",[e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("序号")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("合同编号")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("物料名称")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("物料图号")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("规格")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("材质与标准要求")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("单位")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("采购数")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("送货数")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("不合格数量")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("备注")])]),t._l(t.items,function(s,a){return e("tr",[e("td",{attrs:{colspan:"1"}},[t._v(t._s(a+1))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.purchaseNo))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.materialName))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.materialGraphNo))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.specification))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.requirements))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.unit))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.purchaseNumber))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.deliveryNumber))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.unqualifiedNumber))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.remark))])])})],2)]),t.resFileList.length?e("div",{staticClass:"mt-15 ml-20 mr-20",staticStyle:{"overflow-x":"auto"}},[e("div",{staticClass:"b f-18 flex-v-center ml-20",staticStyle:{"margin-bottom":"20px"}},[e("div",{staticClass:"flex-item",staticStyle:{"text-align":"left","line-height":"24px"}},[t._v("质量保证书")])]),e("div",{staticStyle:{"margin-left":"20px","margin-top":"5px"}},[e("table",{staticClass:"data-table"},[e("tr",{attrs:{slot:"header"},slot:"header"},[e("th",{staticStyle:{width:"60px"}},[t._v("序号")]),e("th",[t._v("文件名称")]),e("th",[t._v("下载地址")])]),t._l(t.resFileList,function(s,a){return e("tr",{key:a},[e("td",[t._v(t._s(a))]),e("td",[t._v(t._s(s.fileName))]),e("td",[e("a",{staticClass:"fixed-length",attrs:{href:s.fileUrl,title:s.fileUrl}},[t._v(t._s(s.fileUrl))])])])})],2)])]):t._e(),t.inspectHistory.length?e("div",{staticClass:"mt-15 ml-20 mr-20",staticStyle:{"overflow-x":"auto"}},[e("div",{staticClass:"b f-18 flex-v-center ml-20",staticStyle:{"margin-bottom":"20px"}},[e("div",{staticClass:"flex-item",staticStyle:{"text-align":"center","line-height":"24px"}},[t._v("质检记录")])]),e("div",{staticClass:"flex-item scroll-y page-supplier-info",staticStyle:{"overflow-x":"auto"}},[e("table",{staticClass:"data-table"},[e("tr",{staticStyle:{display:"none"}},[e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"12%"}})]),e("tr",[e("th",[t._v("质检单号")]),e("th",[t._v("类别")]),e("th",[t._v("物料名称")]),e("th",[t._v("物料图号")]),e("th",[t._v("检测数量")]),e("th",[t._v("合格数量")]),e("th",[t._v("不合格数量")]),e("th",[t._v("处理意见")]),e("th",[t._v("不合格现象描述")])]),t._l(t.inspectHistory,function(s,a){return e("tr",[e("td",[t._v(t._s(s.inspectNo))]),e("td",[t._v(t._s(1==s.type?"采购零件":"机加工零件"))]),e("td",[t._v(t._s(s.materialGraphName))]),e("td",[t._v(t._s(s.materialGraphNo))]),e("td",[t._v(t._s(s.testNumber))]),e("td",[t._v(t._s(s.qualifiedNumber))]),e("td",[t._v(t._s(s.unqualifiedNumber))]),e("td",[t._v(t._s(s.handlingSuggestion))]),e("td",[t._v(t._s(s.remark))])])})],2)])]):t._e()]),e("div",{staticClass:"layer-btns"},[e("btn",{attrs:{flat:"",color:"#008eff"},on:{click:function(s){t.layer=!1}}},[t._v("关闭")])],1)]):t._e()],1)},i=[],r=(e("3f87"),e("ff66"),e("ea23"),e("dbff"),e("9b68")),l={name:"material-list",components:{DataList:r["a"]},data:function(){return{inspectHistory:{completeLayer:!1,selectMaterialNo:[],selectMaterialName:[],handlingSuggestion:"",inspectNo:"",materialName:"",materialGraphNo:"",qualifiedNumber:0,remark:"",testNumber:0,unqualifiedNumber:0,batchNumber:"",purchaseNo:"",supplierName:"",supplierNo:""},filter:{type:0,status:0},statusList:[{status:0,name:"全部"},{status:1,name:"未提交"},{status:2,name:"质检中"},{status:3,name:"质检完成"},{status:4,name:"入库中"},{status:5,name:"入库完成"}],layer:!1,inspect:{id:0,inspectNo:""},items:[],resFileList:[]}},methods:{changeMaterialNo:function(){var t=this;this.inspectHistory.selectMaterialNo.forEach(function(s){console.log("当前值",s),console.log("change值",t.inspectHistory.materialGraphNo),s.value==t.inspectHistory.materialGraphNo&&(t.inspectHistory.materialName=s.materialName)})},complete:function(){var t=this,s={handlingSuggestion:this.inspectHistory.handlingSuggestion,inspectNo:this.inspectHistory.inspectNo,materialGraphName:this.inspectHistory.materialName,materialGraphNo:this.inspectHistory.materialGraphNo,qualifiedNumber:this.inspectHistory.qualifiedNumber,remark:this.inspectHistory.remark,testNumber:this.inspectHistory.testNumber,unqualifiedNumber:this.inspectHistory.unqualifiedNumber,type:1,batchNumber:this.inspectHistory.batchNumber,purchaseNo:this.inspectHistory.purchaseNo,supplierName:this.inspectHistory.supplierName,supplierNo:this.inspectHistory.supplierNo};this.$http.post("/haolifa/material-inspect/history/save",s).then(function(s){t.$toast("添加成功"),t.$refs.list.update(),t.inspectHistory.completeLayer=!1}).catch(function(s){t.$toast(s.msg||s.message)})},commit:function(t){var s=this;this.$http.post("/haolifa/material-inspect/updateStatus/".concat(t,"?status=3")).then(function(t){s.$refs.list.update()}).catch(function(t){s.$toast(t.msg||t.message)})},info:function(t){this.layer=!0,this.inspect.id=t.id,this.inspect.inspectNo=t.inspectNo,this.resFileList=[],this.getInfo(),this.getInspectHistory()},addInspectHistory:function(t){var s=this;this.inspectHistory.batchNumber=t.batchNumber,this.inspectHistory.purchaseNo=t.purchaseNo,this.inspectHistory.inspectNo=t.inspectNo,this.inspectHistory.supplierName=t.supplierName,this.inspectHistory.supplierNo=t.supplierNo;var e=t.id;this.$http.get("/haolifa/material-inspect/info/".concat(e)).then(function(t){s.inspectHistory.completeLayer=!0;var e=t.items;s.inspectHistory.selectMaterialNo=e.map(function(t){return{value:t.materialGraphNo,text:t.materialGraphNo,materialName:t.materialName}}),s.inspectHistory.materialGraphNo=s.inspectHistory.selectMaterialNo[0].value,s.inspectHistory.materialName=s.inspectHistory.selectMaterialNo[0].materialName}).catch(function(t){s.$toast(t.msg||t.message)})},getInfo:function(){var t=this;this.$http.get("/haolifa/material-inspect/info/".concat(this.inspect.id)).then(function(s){t.inspect=s.inspect,t.items=s.items,t.inspect.createTime=s.inspect.createTime.substring(0,10),t.inspect.arrivalTime=s.inspect.arrivalTime.substring(0,10),t.inspect.updateTime=s.inspect.updateTime.substring(0,10),""!=s.inspect.blueprints&&null!=s.inspect.blueprints&&(t.resFileList=JSON.parse(s.inspect.blueprints))}).catch(function(s){t.$toast(s.msg||s.message)})},getInspectHistory:function(){var t=this;this.$http.get("/haolifa/material-inspect/history/list/".concat(this.inspect.inspectNo)).then(function(s){t.inspectHistory=s,console.log(t.inspectHistory)}).catch(function(s){t.$toast(s.msg||s.message)})}}},n=l,c=(e("8bb6"),e("c46c")),o=Object(c["a"])(n,a,i,!1,null,null,null);o.options.__file="index.vue";s["default"]=o.exports},b4ab:function(t,s,e){"use strict";var a=e("74fc"),i=e.n(a);i.a},b560:function(t,s,e){var a=e("3427"),i=e("7f8a"),r=e("f988");t.exports=function(t,s){var e=(i.Object||{})[t]||Object[t],l={};l[t]=s(e),a(a.S+a.F*r(function(){e(1)}),"Object",l)}},bafd:function(t,s,e){"use strict";var a=e("603e"),i=e.n(a);i.a},c2ba:function(t,s,e){"use strict";var a=e("0e21"),i=e.n(a);i.a},c8ea:function(t,s,e){"use strict";var a=e("6a32"),i=e.n(a);i.a},ca51:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"flex-v-center tool-bar"},[e("div",{staticClass:"flex-v-center search-bar",staticStyle:{"margin-right":"20px"}},[e("i",{staticClass:"icon f-20 c-8"},[t._v("search")]),t._v("\n            状态：\n            "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.status,expression:"filter.status"}],staticClass:"f-14",on:{change:[function(s){var e=Array.prototype.filter.call(s.target.options,function(t){return t.selected}).map(function(t){var s="_value"in t?t._value:t.value;return s});t.$set(t.filter,"status",s.target.multiple?e:e[0])},function(s){t.$refs.list.update(!0)}]}},t._l(t.statusList,function(s){return e("option",{key:s.id,domProps:{value:s.status}},[t._v(t._s(s.name))])}),0),e("i",{staticClass:"icon",staticStyle:{"margin-left":"-20px","pointer-events":"none"}},[t._v("arrow_drop_down")])])]),e("div",{staticClass:"flex-item scroll-y"},[e("data-list",{ref:"list",attrs:{"page-size":10,param:t.filter,url:"/haolifa/entrust/list",method:"post"},scopedSlots:t._u([{key:"item",fn:function(s){var a=s.item,i=s.index;return[e("td",{staticClass:"c-a"},[t._v(t._s(i))]),e("td",[t._v(t._s(a.entrustNo))]),e("td",[t._v(t._s(a.purchaseNo))]),e("td",[t._v(t._s(a.batchNumber))]),e("td",[t._v(t._s(a.materialGraphName))]),e("td",[t._v(t._s(a.materialGraphNo))]),e("td",[t._v(t._s(a.number))]),e("td",[t._v(t._s(a.createTime))]),e("td",[t._v(t._s(t.rowStatusList[a.status-3].name))]),e("td",{staticClass:"t-right"},[e("a",{staticClass:"blue",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(s){t.addInspectHistory(a)}}},[t._v("添加质检记录")]),e("a",{staticClass:"blue",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(s){t.info(a)}}},[t._v("查看")])])]}}])},[e("tr",{attrs:{slot:"header"},slot:"header"},[e("th",{staticStyle:{width:"60px"}},[t._v("序号")]),e("th",[t._v("机加工单号")]),e("th",[t._v("采购合同号")]),e("th",[t._v("批次号")]),e("th",[t._v("物料名称")]),e("th",[t._v("物料图号")]),e("th",[t._v("数量")]),e("th",[t._v("发起时间")]),e("th",[t._v("状态")]),e("th",{staticClass:"t-right",staticStyle:{width:"80px"}},[t._v("操作")])])])],1),t.inspectHistory.completeLayer?e("layer",{attrs:{title:"质检记录",width:"650px"}},[e("div",{staticClass:"flex"},[e("input-box",{staticClass:"flex-item mr-20 ml-20",attrs:{disabled:"true",label:"采购合同号"},model:{value:t.inspectHistory.purchaseNo,callback:function(s){t.$set(t.inspectHistory,"purchaseNo",s)},expression:"inspectHistory.purchaseNo"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{disabled:"true",label:"批次号"},model:{value:t.inspectHistory.batchNumber,callback:function(s){t.$set(t.inspectHistory,"batchNumber",s)},expression:"inspectHistory.batchNumber"}})],1),e("div",{staticClass:"flex mt-15"},[e("input-box",{staticClass:"mt-15 ml-20",attrs:{disabled:"true",label:"物料图号"},model:{value:t.inspectHistory.materialGraphNo,callback:function(s){t.$set(t.inspectHistory,"materialGraphNo",s)},expression:"inspectHistory.materialGraphNo"}}),e("input-box",{staticClass:"mr-20 mt-15 ml-20",attrs:{disabled:"true",label:"物料名称"},model:{value:t.inspectHistory.materialName,callback:function(s){t.$set(t.inspectHistory,"materialName",s)},expression:"inspectHistory.materialName"}})],1),e("div",{staticClass:"flex mt-15"},[e("input-box",{staticClass:"flex-item mr-20 ml-20 mt-15",attrs:{label:"检测数量"},model:{value:t.inspectHistory.testNumber,callback:function(s){t.$set(t.inspectHistory,"testNumber",s)},expression:"inspectHistory.testNumber"}}),e("input-box",{staticClass:"flex-item mr-20 mt-15",attrs:{label:"不合格数量"},model:{value:t.inspectHistory.unqualifiedNumber,callback:function(s){t.$set(t.inspectHistory,"unqualifiedNumber",s)},expression:"inspectHistory.unqualifiedNumber"}}),e("input-box",{staticClass:"flex-item mr-20 mt-15",attrs:{label:"合格数量"},model:{value:t.inspectHistory.qualifiedNumber,callback:function(s){t.$set(t.inspectHistory,"qualifiedNumber",s)},expression:"inspectHistory.qualifiedNumber"}})],1),e("div",{staticClass:"flex mt-15"},[e("input-box",{staticClass:"flex-item mr-20 ml-20 mt-15",attrs:{label:"处理意见"},model:{value:t.inspectHistory.handlingSuggestion,callback:function(s){t.$set(t.inspectHistory,"handlingSuggestion",s)},expression:"inspectHistory.handlingSuggestion"}}),e("input-box",{staticClass:"flex-item mr-20 mt-15",attrs:{label:"不合格现象描述"},model:{value:t.inspectHistory.remark,callback:function(s){t.$set(t.inspectHistory,"remark",s)},expression:"inspectHistory.remark"}})],1),e("div",{staticClass:"layer-btns"},[e("btn",{attrs:{flat:""},on:{click:function(s){t.inspectHistory.completeLayer=!1}}},[t._v("取消")]),e("btn",{attrs:{flat:"",color:"#008eff"},on:{click:function(s){t.complete()}}},[t._v("保存")])],1)]):t._e(),t.layer?e("layer",{attrs:{title:"详情",width:"70%"}},[e("div",{staticClass:"layer-text",staticStyle:{"padding-bottom":"50px"}},[e("div",{staticClass:"form-content metalwork-info"},[e("table",{staticClass:"f-14"},[e("tr",[e("td",{staticStyle:{width:"20%"}}),e("td",{staticStyle:{width:"20%"}}),e("td",{staticStyle:{width:"20%"}}),e("td",{staticStyle:{width:"20%"}}),e("td",{staticStyle:{width:"20%"}})]),e("tr",[e("td",{staticClass:"b",attrs:{colspan:"5"}},[t._v("机加工单")])]),e("tr",[e("th",{attrs:{colspan:"3"}},[t._v("机加工单号："+t._s(t.entrust.entrustNo))]),e("td",{attrs:{colspan:"2"}},[t._v("发起日期："+t._s(t.entrust.createTime))])]),e("tr",[e("th",{attrs:{colspan:"3"}},[t._v("采购合同号："+t._s(t.entrust.purchaseNo))]),e("td",{attrs:{colspan:"2"}},[t._v("批次号："+t._s(t.entrust.batchNumber))])]),e("tr",[e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("采购合同编号")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("批次号")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("物料名称")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("物料图号")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("数量")])]),e("tr",[e("td",{attrs:{colspan:"1"}},[t._v(t._s(t.entrust.purchaseNo))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(t.entrust.batchNumber))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(t.entrust.materialGraphName))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(t.entrust.materialGraphNo))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(t.entrust.number))])])])]),e("div",{staticClass:"form-content metalwork-info"},[e("table",{staticClass:"data-table"},[e("tr",[e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"12%"}})]),e("tr",[e("td",{staticClass:"b",attrs:{colspan:"9"}},[t._v("质检记录")])]),e("tr",[e("th",[t._v("质检单号")]),e("th",[t._v("类别")]),e("th",[t._v("物料名称")]),e("th",[t._v("物料图号")]),e("th",[t._v("检测数量")]),e("th",[t._v("合格数量")]),e("th",[t._v("不合格数量")]),e("th",[t._v("处理意见")]),e("th",[t._v("不合格现象描述")])]),t._l(t.inspectHistory,function(s,a){return e("tr",{key:a},[e("td",[t._v(t._s(s.inspectNo))]),e("td",[t._v(t._s(1==s.type?"采购零件":"机加工零件"))]),e("td",[t._v(t._s(s.materialGraphName))]),e("td",[t._v(t._s(s.materialGraphNo))]),e("td",[t._v(t._s(s.testNumber))]),e("td",[t._v(t._s(s.qualifiedNumber))]),e("td",[t._v(t._s(s.unqualifiedNumber))]),e("td",[t._v(t._s(s.handlingSuggestion))]),e("td",[t._v(t._s(s.remark))])])})],2)])]),e("div",{staticClass:"layer-btns"},[e("btn",{attrs:{flat:"",color:"#008eff"},on:{click:function(s){t.layer=!1}}},[t._v("关闭")])],1)]):t._e()],1)},i=[],r=e("9b68"),l={name:"metalwork-list",components:{DataList:r["a"]},data:function(){return{inspectHistory:{completeLayer:!1,handlingSuggestion:"",inspectNo:"",materialName:"",materialGraphNo:"",qualifiedNumber:0,remark:"",testNumber:0,unqualifiedNumber:0,batchNumber:"",purchaseNo:"",supplierName:"",supplierNo:""},filter:{type:3,status:6},rowStatusList:[{status:3,name:"加工中"},{status:4,name:"加工完成"}],statusList:[{status:6,name:"全部"},{status:3,name:"加工中"},{status:4,name:"加工完成"}],loading:!1,entrustNo:"",entrust:{},items:[],layer:!1}},methods:{info:function(t){this.layer=!0,this.entrustNo=t.entrustNo,this.getInfo(),this.getInspectHistory()},getInfo:function(){var t=this;this.$http.get("/haolifa/entrust/info/".concat(this.entrustNo)).then(function(s){t.entrust=s,t.entrust.createTime=s.createTime.substring(0,10)}).catch(function(s){t.$toast(s.msg||s.message)})},getInspectHistory:function(){var t=this;this.$http.get("/haolifa/material-inspect/history/list/".concat(this.entrustNo)).then(function(s){t.inspectHistory=s}).catch(function(s){t.$toast(s.msg||s.message)})},complete:function(){var t=this,s={handlingSuggestion:this.inspectHistory.handlingSuggestion,inspectNo:this.inspectHistory.inspectNo,materialGraphName:this.inspectHistory.materialName,materialGraphNo:this.inspectHistory.materialGraphNo,qualifiedNumber:this.inspectHistory.qualifiedNumber,remark:this.inspectHistory.remark,testNumber:this.inspectHistory.testNumber,unqualifiedNumber:this.inspectHistory.unqualifiedNumber,type:2,batchNumber:this.inspectHistory.batchNumber,purchaseNo:this.inspectHistory.purchaseNo,supplierName:this.inspectHistory.supplierName,supplierNo:this.inspectHistory.supplierNo};this.$http.post("/haolifa/material-inspect/history/save",s).then(function(s){t.$toast("添加成功"),t.$refs.list.update(),t.inspectHistory.completeLayer=!1}).catch(function(s){t.$toast(s.msg||s.message)})},addInspectHistory:function(t){this.inspectHistory.batchNumber=t.batchNumber,this.inspectHistory.purchaseNo=t.purchaseNo,this.inspectHistory.supplierName=t.supplierName,this.inspectHistory.supplierNo=t.supplierNo,this.inspectHistory.materialGraphNo=t.materialGraphNo,this.inspectHistory.materialName=t.materialGraphName,this.inspectHistory.inspectNo=t.entrustNo,this.inspectHistory.completeLayer=!0}}},n=l,c=(e("0757"),e("c46c")),o=Object(c["a"])(n,a,i,!1,null,null,null);o.options.__file="addList.vue";s["default"]=o.exports},cb21:function(t,s,e){"use strict";var a=e("285c"),i=e.n(a);i.a},cff6:function(t,s,e){"use strict";var a=e("1399"),i=e.n(a);i.a},d8a1:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"page-material-list"},[e("div",{staticClass:"flex-v-center tool-bar"},[e("div",{staticClass:"flex-v-center search-bar",staticStyle:{"margin-right":"20px"}},[e("i",{staticClass:"icon f-20 c-8"},[t._v("search")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.inspectNo,expression:"filter.inspectNo"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"送检单号"},domProps:{value:t.filter.inspectNo},on:{change:function(s){t.$refs.list.update(!0)},input:function(s){s.target.composing||t.$set(t.filter,"inspectNo",s.target.value)}}}),e("i",{staticClass:"icon f-20 c-8"},[t._v("search")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.purchaseOrderNo,expression:"filter.purchaseOrderNo"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"采购合同号"},domProps:{value:t.filter.purchaseOrderNo},on:{change:function(s){t.$refs.list.update(!0)},input:function(s){s.target.composing||t.$set(t.filter,"purchaseOrderNo",s.target.value)}}})]),e("div",{staticClass:"flex-item"})]),e("div",{staticClass:"flex-item scroll-y"},[e("data-list",{ref:"list",staticClass:"f-14",attrs:{"page-size":10,param:t.filter,url:"/haolifa/material-inspect/purchase-list/0",method:"get"},scopedSlots:t._u([{key:"item",fn:function(s){var a=s.item,i=s.index;return[e("td",{staticClass:"c-a"},[t._v(t._s(i))]),e("td",[t._v(t._s(a.inspectNo))]),e("td",[t._v(t._s(a.purchaseNo))]),e("td",[t._v(t._s(a.batchNumber))]),e("td",[t._v(t._s(a.arrivalTime))]),e("td",[t._v(t._s(a.supplierName))]),e("td",[t._v(t._s(a.createTime))]),e("td",[t._v(t._s(t.statusList[a.status].name))]),e("td",{staticClass:"t-right"},[e("a",{staticClass:"blue",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(s){t.info(a)}}},[t._v("查看")])])]}}])},[e("tr",{attrs:{slot:"header"},slot:"header"},[e("th",{staticStyle:{width:"60px"}},[t._v("序号")]),e("th",[t._v("报检单号")]),e("th",[t._v("采购合同号")]),e("th",[t._v("批次号")]),e("th",[t._v("到货日期")]),e("th",[t._v("供应商名称")]),e("th",[t._v("发起时间")]),e("th",[t._v("状态")]),e("th",{staticClass:"t-right",staticStyle:{width:"80px"}},[t._v("操作")])])])],1),t.layer?e("layer",{attrs:{title:"详情",width:"70%"}},[e("div",{staticClass:"layer-text",staticStyle:{"padding-bottom":"50px"}},[e("div",{staticClass:"form-content page-supplier-info"},[e("table",{staticClass:"f-14"},[e("tr",[e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}})]),e("tr",[e("td",{staticClass:"b",attrs:{colspan:"11"}},[t._v("零件送检单")])]),e("tr",[e("th",{attrs:{colspan:"5"}},[t._v("送检单号："+t._s(t.inspect.inspectNo))]),e("td",{attrs:{colspan:"6"}},[t._v("发起日期："+t._s(t.inspect.createTime))])]),e("tr",[e("th",{attrs:{colspan:"5"}},[t._v("采购合同号："+t._s(t.inspect.purchaseNo))]),e("td",{attrs:{colspan:"6"}},[t._v("批次号："+t._s(t.inspect.batchNumber))])]),e("tr",[e("th",{attrs:{colspan:"5"}},[t._v("供应商："+t._s(t.inspect.supplierName))]),e("td",{attrs:{colspan:"6"}},[t._v("到货日期："+t._s(t.inspect.arrivalTime))])]),e("tr",[e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("序号")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("合同编号")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("物料名称")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("物料图号")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("规格")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("材质与标准要求")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("单位")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("采购数")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("送货数")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("不合格数量")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("备注")])]),t._l(t.items,function(s,a){return e("tr",[e("td",{attrs:{colspan:"1"}},[t._v(t._s(a+1))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.purchaseNo))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.materialName))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.materialGraphNo))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.specification))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.requirements))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.unit))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.purchaseNumber))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.deliveryNumber))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.unqualifiedNumber))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.remark))])])})],2)]),t.resFileList.length?e("div",{staticClass:"mt-15 ml-20 mr-20",staticStyle:{"overflow-x":"auto"}},[e("div",{staticClass:"b f-18 flex-v-center ml-20",staticStyle:{"margin-bottom":"20px"}},[e("div",{staticClass:"flex-item",staticStyle:{"text-align":"left","line-height":"24px"}},[t._v("质量保证书")])]),e("div",{staticStyle:{"margin-left":"20px","margin-top":"5px"}},[e("table",{staticClass:"data-table"},[e("tr",{attrs:{slot:"header"},slot:"header"},[e("th",{staticStyle:{width:"60px"}},[t._v("序号")]),e("th",[t._v("文件名称")]),e("th",[t._v("下载地址")])]),t._l(t.resFileList,function(s,a){return e("tr",{key:a},[e("td",[t._v(t._s(a))]),e("td",[t._v(t._s(s.fileName))]),e("td",[e("a",{staticClass:"fixed-length",attrs:{href:s.fileUrl,title:s.fileUrl}},[t._v(t._s(s.fileUrl))])])])})],2)])]):t._e(),t.inspectHistory.length?e("div",{staticClass:"mt-15 ml-20 mr-20",staticStyle:{"overflow-x":"auto"}},[e("div",{staticClass:"b f-18 flex-v-center ml-20",staticStyle:{"margin-bottom":"20px"}},[e("div",{staticClass:"flex-item",staticStyle:{"text-align":"center","line-height":"24px"}},[t._v("质检记录")])]),e("div",{staticClass:"flex-item scroll-y page-supplier-info",staticStyle:{"overflow-x":"auto"}},[e("table",{staticClass:"data-table"},[e("tr",{staticStyle:{display:"none"}},[e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"12%"}})]),e("tr",[e("th",[t._v("质检单号")]),e("th",[t._v("类别")]),e("th",[t._v("物料名称")]),e("th",[t._v("物料图号")]),e("th",[t._v("检测数量")]),e("th",[t._v("合格数量")]),e("th",[t._v("不合格数量")]),e("th",[t._v("处理意见")]),e("th",[t._v("不合格现象描述")])]),t._l(t.inspectHistory,function(s,a){return e("tr",[e("td",[t._v(t._s(s.inspectNo))]),e("td",[t._v(t._s(1==s.type?"采购零件":"机加工零件"))]),e("td",[t._v(t._s(s.materialGraphName))]),e("td",[t._v(t._s(s.materialGraphNo))]),e("td",[t._v(t._s(s.testNumber))]),e("td",[t._v(t._s(s.qualifiedNumber))]),e("td",[t._v(t._s(s.unqualifiedNumber))]),e("td",[t._v(t._s(s.handlingSuggestion))]),e("td",[t._v(t._s(s.remark))])])})],2)])]):t._e()]),e("div",{staticClass:"layer-btns"},[e("btn",{attrs:{flat:"",color:"#008eff"},on:{click:function(s){t.layer=!1}}},[t._v("关闭")])],1)]):t._e()],1)},i=[],r=(e("ff66"),e("ea23"),e("dbff"),e("9b68")),l={name:"page-material-list",components:{DataList:r["a"]},data:function(){return{filter:{type:0,status:0,inspectNo:"",purchaseOrderNo:""},statusList:[{status:0,name:"全部"},{status:1,name:"未提交"},{status:2,name:"质检中"},{status:3,name:"质检完成"},{status:4,name:"入库中"},{status:5,name:"入库完成"}],layer:!1,inspect:{id:0,inspectNo:""},items:[],inspectHistory:[],resFileList:[]}},methods:{edit:function(t){this.$router.push("/applyBuy-material/edit?id=".concat(t.id))},remove:function(t){var s=this;this.$confirm({title:"删除确认",text:"您确定要删除以下送检单吗？<br><b>".concat(t.inspectNo,"</b>"),color:"red",btns:["取消","删除"],yes:function(){s.$http.get("/haolifa/material-inspect/delete/".concat(t.id)).then(function(t){s.$toast("删除成功"),s.$refs.list.update()}).catch(function(t){s.$toast(t.msg||t.message)})}})},getInfo:function(){var t=this;this.$http.get("/haolifa/material-inspect/info/".concat(this.inspect.id)).then(function(s){t.inspect=s.inspect,t.items=s.items,t.inspect.createTime=s.inspect.createTime.substring(0,10),t.inspect.arrivalTime=s.inspect.arrivalTime.substring(0,10),t.inspect.updateTime=s.inspect.updateTime.substring(0,10),""!=s.inspect.blueprints&&null!=s.inspect.blueprints&&(t.resFileList=JSON.parse(s.inspect.blueprints))}).catch(function(s){t.$toast(s.msg||s.message)})},getInspectHistory:function(){var t=this;this.$http.get("/haolifa/material-inspect/history/list/".concat(this.inspect.inspectNo)).then(function(s){t.inspectHistory=s}).catch(function(s){t.$toast(s.msg||s.message)})},commit:function(t){var s=this;this.$http.post("/haolifa/material-inspect/updateStatus/".concat(t,"?status=2")).then(function(t){s.$refs.list.update()}).catch(function(t){s.$toast(t.msg||t.message)})},info:function(t){this.layer=!0,this.inspect.id=t.id,this.inspect.inspectNo=t.inspectNo,this.resFileList=[],this.getInfo(),this.getInspectHistory()},close:function(){this.close=!1}}},n=l,c=(e("c2ba"),e("c46c")),o=Object(c["a"])(n,a,i,!1,null,null,null);o.options.__file="index.vue";s["default"]=o.exports},dafc:function(t,s,e){},db0f:function(t,s,e){"use strict";var a=e("8193"),i=e.n(a);i.a},e62f:function(t,s,e){},e862:function(t,s,e){t.exports=e("f521")},ef9e:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"material-list"},[e("div",{staticClass:"flex-v-center tool-bar"},[e("div",{staticClass:"flex-v-center search-bar",staticStyle:{"margin-right":"20px"}},[e("i",{staticClass:"icon f-20 c-8"},[t._v("search")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.inspectNo,expression:"filter.inspectNo"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"送检单号"},domProps:{value:t.filter.inspectNo},on:{change:function(s){t.$refs.list.update(!0)},input:function(s){s.target.composing||t.$set(t.filter,"inspectNo",s.target.value)}}}),e("i",{staticClass:"icon f-20 c-8"},[t._v("search")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.purchaseOrderNo,expression:"filter.purchaseOrderNo"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"采购合同号"},domProps:{value:t.filter.purchaseOrderNo},on:{change:function(s){t.$refs.list.update(!0)},input:function(s){s.target.composing||t.$set(t.filter,"purchaseOrderNo",s.target.value)}}})])]),e("div",{staticClass:"flex-item scroll-y"},[e("data-list",{ref:"list",staticClass:"f-14",attrs:{"page-size":10,param:t.filter,url:"/haolifa/material-inspect/purchase-list/1",method:"get"},scopedSlots:t._u([{key:"item",fn:function(s){var a=s.item,i=s.index;return[e("td",{staticClass:"c-a"},[t._v(t._s(i))]),e("td",[t._v(t._s(a.inspectNo))]),e("td",[t._v(t._s(a.purchaseNo))]),e("td",[t._v(t._s(a.batchNumber))]),e("td",[t._v(t._s(a.arrivalTime))]),e("td",[t._v(t._s(a.supplierName))]),e("td",[t._v(t._s(a.createTime))]),e("td",[t._v(t._s(t.statusList[a.status].name))]),e("td",{staticClass:"t-right"},[e("a",{staticClass:"blue",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(s){t.infoDeatail(a)}}},[t._v("查看")]),2==a.status?e("a",{staticClass:"blue",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(s){t.addInspectHistory(a)}}},[t._v("添加质检记录")]):t._e(),2==a.status?e("a",{staticClass:"blue",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(s){t.commit(a.id)}}},[t._v("质检完成")]):t._e()])]}}])},[e("tr",{attrs:{slot:"header"},slot:"header"},[e("th",{staticStyle:{width:"60px"}},[t._v("序号")]),e("th",[t._v("报检单号")]),e("th",[t._v("采购合同号")]),e("th",[t._v("批次号")]),e("th",[t._v("到货日期")]),e("th",[t._v("供应商名称")]),e("th",[t._v("发起时间")]),e("th",[t._v("状态")]),e("th",{staticClass:"t-right",staticStyle:{width:"80px"}},[t._v("操作")])])])],1),t.completeLayer?e("layer",{attrs:{title:"质检记录",width:"650px"}},[e("div",{staticClass:"flex"},[e("input-box",{staticClass:"flex-item mr-20 ml-20",attrs:{label:"采购合同号"},model:{value:t.inspectHistory.purchaseNo,callback:function(s){t.$set(t.inspectHistory,"purchaseNo",s)},expression:"inspectHistory.purchaseNo"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"批次号"},model:{value:t.inspectHistory.batchNumber,callback:function(s){t.$set(t.inspectHistory,"batchNumber",s)},expression:"inspectHistory.batchNumber"}})],1),e("div",{staticClass:"flex mt-15"},[e("input-box",{staticClass:"mr-20 ml-20 mt-15",attrs:{label:"送检单号"},model:{value:t.inspectHistory.inspectNo,callback:function(s){t.$set(t.inspectHistory,"inspectNo",s)},expression:"inspectHistory.inspectNo"}}),e("select-box",{staticClass:"mt-15",attrs:{list:t.inspectHistory.selectMaterialNo,label:"物料图号"},on:{change:function(s){t.changeMaterialNo()}},model:{value:t.inspectHistory.materialGraphNo,callback:function(s){t.$set(t.inspectHistory,"materialGraphNo",s)},expression:"inspectHistory.materialGraphNo"}}),e("input-box",{staticClass:"mr-20 mt-15",attrs:{label:"物料名称"},model:{value:t.inspectHistory.materialName,callback:function(s){t.$set(t.inspectHistory,"materialName",s)},expression:"inspectHistory.materialName"}})],1),e("div",{staticClass:"flex mt-15"},[e("input-box",{staticClass:"flex-item mr-20 ml-20 mt-15",attrs:{label:"检测数量"},model:{value:t.inspectHistory.testNumber,callback:function(s){t.$set(t.inspectHistory,"testNumber",s)},expression:"inspectHistory.testNumber"}}),e("input-box",{staticClass:"flex-item mr-20 mt-15",attrs:{label:"不合格数量"},model:{value:t.inspectHistory.unqualifiedNumber,callback:function(s){t.$set(t.inspectHistory,"unqualifiedNumber",s)},expression:"inspectHistory.unqualifiedNumber"}}),e("input-box",{staticClass:"flex-item mr-20 mt-15",attrs:{label:"合格数量"},model:{value:t.inspectHistory.qualifiedNumber,callback:function(s){t.$set(t.inspectHistory,"qualifiedNumber",s)},expression:"inspectHistory.qualifiedNumber"}})],1),e("div",{staticClass:"flex mt-15"},[e("input-box",{staticClass:"flex-item mr-20 ml-20 mt-15",attrs:{label:"处理意见"},model:{value:t.inspectHistory.handlingSuggestion,callback:function(s){t.$set(t.inspectHistory,"handlingSuggestion",s)},expression:"inspectHistory.handlingSuggestion"}}),e("input-box",{staticClass:"flex-item mr-20 mt-15",attrs:{label:"不合格现象描述"},model:{value:t.inspectHistory.remark,callback:function(s){t.$set(t.inspectHistory,"remark",s)},expression:"inspectHistory.remark"}})],1),e("div",{staticClass:"layer-btns"},[e("btn",{attrs:{flat:""},on:{click:function(s){t.completeLayer=!1}}},[t._v("取消")]),e("btn",{attrs:{flat:"",color:"#008eff"},on:{click:function(s){t.complete()}}},[t._v("保存")])],1)]):t._e(),t.layer?e("layer",{attrs:{title:"详情",width:"70%"}},[e("div",{staticClass:"layer-text",staticStyle:{"padding-bottom":"50px"}},[e("div",{staticClass:"form-content page-supplier-info"},[e("table",{staticClass:"f-14"},[e("tr",[e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}}),e("td",{staticStyle:{width:"10%"}})]),e("tr",[e("td",{staticClass:"b",attrs:{colspan:"11"}},[t._v("零件送检单")])]),e("tr",[e("th",{attrs:{colspan:"5"}},[t._v("送检单号："+t._s(t.inspect.inspectNo))]),e("td",{attrs:{colspan:"6"}},[t._v("发起日期："+t._s(t.inspect.createTime))])]),e("tr",[e("th",{attrs:{colspan:"5"}},[t._v("采购合同号："+t._s(t.inspect.purchaseNo))]),e("td",{attrs:{colspan:"6"}},[t._v("批次号："+t._s(t.inspect.batchNumber))])]),e("tr",[e("th",{attrs:{colspan:"5"}},[t._v("供应商："+t._s(t.inspect.supplierName))]),e("td",{attrs:{colspan:"6"}},[t._v("到货日期："+t._s(t.inspect.arrivalTime))])]),e("tr",[e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("序号")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("合同编号")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("物料名称")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("物料图号")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("规格")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("材质与标准要求")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("单位")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("采购数")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("送货数")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("不合格数量")]),e("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("备注")])]),t._l(t.items,function(s,a){return e("tr",[e("td",{attrs:{colspan:"1"}},[t._v(t._s(a+1))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.purchaseNo))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.materialName))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.materialGraphNo))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.specification))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.requirements))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.unit))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.purchaseNumber))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.deliveryNumber))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.unqualifiedNumber))]),e("td",{attrs:{colspan:"1"}},[t._v(t._s(s.remark))])])})],2)]),t.resFileList.length?e("div",{staticClass:"mt-15 ml-20 mr-20",staticStyle:{"overflow-x":"auto"}},[e("div",{staticClass:"b f-18 flex-v-center ml-20",staticStyle:{"margin-bottom":"20px"}},[e("div",{staticClass:"flex-item",staticStyle:{"text-align":"left","line-height":"24px"}},[t._v("质量保证书")])]),e("div",{staticStyle:{"margin-left":"20px","margin-top":"5px"}},[e("table",{staticClass:"data-table"},[e("tr",{attrs:{slot:"header"},slot:"header"},[e("th",{staticStyle:{width:"60px"}},[t._v("序号")]),e("th",[t._v("文件名称")]),e("th",[t._v("下载地址")])]),t._l(t.resFileList,function(s,a){return e("tr",{key:a},[e("td",[t._v(t._s(a))]),e("td",[t._v(t._s(s.fileName))]),e("td",[e("a",{staticClass:"fixed-length",attrs:{href:s.fileUrl,title:s.fileUrl}},[t._v(t._s(s.fileUrl))])])])})],2)])]):t._e(),t.inspectHistory.length?e("div",{staticClass:"mt-15 ml-20 mr-20",staticStyle:{"overflow-x":"auto"}},[e("div",{staticClass:"b f-18 flex-v-center ml-20",staticStyle:{"margin-bottom":"20px"}},[e("div",{staticClass:"flex-item",staticStyle:{"text-align":"center","line-height":"24px"}},[t._v("质检记录")])]),e("div",{staticClass:"flex-item scroll-y page-supplier-info",staticStyle:{"overflow-x":"auto"}},[e("table",{staticClass:"data-table"},[e("tr",{staticStyle:{display:"none"}},[e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"11%"}}),e("td",{staticStyle:{width:"12%"}})]),e("tr",[e("th",[t._v("质检单号")]),e("th",[t._v("类别")]),e("th",[t._v("物料名称")]),e("th",[t._v("物料图号")]),e("th",[t._v("检测数量")]),e("th",[t._v("合格数量")]),e("th",[t._v("不合格数量")]),e("th",[t._v("处理意见")]),e("th",[t._v("不合格现象描述")])]),t._l(t.inspectHistory,function(s,a){return e("tr",[e("td",[t._v(t._s(s.inspectNo))]),e("td",[t._v(t._s(1==s.type?"采购零件":"机加工零件"))]),e("td",[t._v(t._s(s.materialGraphName))]),e("td",[t._v(t._s(s.materialGraphNo))]),e("td",[t._v(t._s(s.testNumber))]),e("td",[t._v(t._s(s.qualifiedNumber))]),e("td",[t._v(t._s(s.unqualifiedNumber))]),e("td",[t._v(t._s(s.handlingSuggestion))]),e("td",[t._v(t._s(s.remark))])])})],2)])]):t._e()]),e("div",{staticClass:"layer-btns"},[e("btn",{attrs:{flat:"",color:"#008eff"},on:{click:function(s){t.layer=!1}}},[t._v("关闭")])],1)]):t._e()],1)},i=[],r=(e("3f87"),e("ff66"),e("ea23"),e("dbff"),e("9b68")),l={name:"material-list",components:{DataList:r["a"]},data:function(){return{completeLayer:!1,inspectHistory:{selectMaterialNo:[],selectMaterialName:[],handlingSuggestion:"",inspectNo:"",materialName:"",materialGraphNo:"",qualifiedNumber:0,remark:"",testNumber:0,unqualifiedNumber:0,batchNumber:"",purchaseNo:"",supplierName:"",supplierNo:""},filter:{type:0,status:0},statusList:[{status:0,name:"全部"},{status:1,name:"未提交"},{status:2,name:"质检中"},{status:3,name:"质检完成"},{status:4,name:"入库中"},{status:5,name:"入库完成"}],layer:!1,inspect:{id:0,inspectNo:""},items:[],resFileList:[]}},methods:{changeMaterialNo:function(){var t=this;this.inspectHistory.selectMaterialNo.forEach(function(s){console.log("change值",t.inspectHistory.materialGraphNo),s.value==t.inspectHistory.materialGraphNo&&(t.inspectHistory.materialName=s.materialName)})},complete:function(){var t=this,s={handlingSuggestion:this.inspectHistory.handlingSuggestion,inspectNo:this.inspectHistory.inspectNo,materialGraphName:this.inspectHistory.materialName,materialGraphNo:this.inspectHistory.materialGraphNo,qualifiedNumber:this.inspectHistory.qualifiedNumber,remark:this.inspectHistory.remark,testNumber:this.inspectHistory.testNumber,unqualifiedNumber:this.inspectHistory.unqualifiedNumber,type:1,batchNumber:this.inspectHistory.batchNumber,purchaseNo:this.inspectHistory.purchaseNo,supplierName:this.inspectHistory.supplierName,supplierNo:this.inspectHistory.supplierNo};this.$http.post("/haolifa/material-inspect/history/save",s).then(function(s){t.$toast("添加成功"),t.$refs.list.update(),t.completeLayer=!1}).catch(function(s){t.$toast(s.msg||s.message)})},commit:function(t){var s=this;this.$http.post("/haolifa/material-inspect/updateStatus/".concat(t,"?status=3")).then(function(t){s.$refs.list.update()}).catch(function(t){s.$toast(t.msg||t.message)})},infoDeatail:function(t){this.layer=!0,this.inspect.id=t.id,this.inspect.inspectNo=t.inspectNo,this.resFileList=[],this.getInfo(),this.getInspectHistory()},addInspectHistory:function(t){var s=this;this.completeLayer=!0,this.inspectHistory.batchNumber=t.batchNumber,this.inspectHistory.purchaseNo=t.purchaseNo,this.inspectHistory.inspectNo=t.inspectNo,this.inspectHistory.supplierName=t.supplierName,this.inspectHistory.supplierNo=t.supplierNo;var e=t.id;this.$http.get("/haolifa/material-inspect/info/".concat(e)).then(function(t){var e=t.items;s.inspectHistory.selectMaterialNo=e.map(function(t){return{value:t.materialGraphNo,text:t.materialGraphNo,materialName:t.materialName}}),s.inspectHistory.materialGraphNo=s.inspectHistory.selectMaterialNo[0].value,s.inspectHistory.materialName=s.inspectHistory.selectMaterialNo[0].materialName}).catch(function(t){s.$toast(t.msg||t.message)})},getInfo:function(){var t=this;this.$http.get("/haolifa/material-inspect/info/".concat(this.inspect.id)).then(function(s){t.inspect=s.inspect,t.items=s.items,t.inspect.createTime=s.inspect.createTime.substring(0,10),t.inspect.arrivalTime=s.inspect.arrivalTime.substring(0,10),t.inspect.updateTime=s.inspect.updateTime.substring(0,10),""!=s.inspect.blueprints&&null!=s.inspect.blueprints&&(t.resFileList=JSON.parse(s.inspect.blueprints))}).catch(function(s){t.$toast(s.msg||s.message)})},getInspectHistory:function(){var t=this;this.$http.get("/haolifa/material-inspect/history/list/".concat(this.inspect.inspectNo)).then(function(s){t.inspectHistory=s,console.log(t.inspectHistory)}).catch(function(s){t.$toast(s.msg||s.message)})}}},n=l,c=(e("0f71"),e("c46c")),o=Object(c["a"])(n,a,i,!1,null,null,null);o.options.__file="addList.vue";s["default"]=o.exports},f521:function(t,s,e){e("289a"),t.exports=e("7f8a").Object.keys},f896:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"page-invoice-list"},[e("div",{staticClass:"flex-v-center tool-bar"},[e("div",{staticClass:"flex-v-center search-bar",staticStyle:{"margin-right":"20px"}},[e("i",{staticClass:"icon f-20 c-8"},[t._v("search")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.orderNo,expression:"filter.orderNo"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"生产订单号"},domProps:{value:t.filter.orderNo},on:{change:function(s){t.$refs.list.update(!0)},input:function(s){s.target.composing||t.$set(t.filter,"orderNo",s.target.value)}}}),t._v("\n            发票状态：\n            "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.status,expression:"filter.status"}],staticClass:"f-14",on:{change:[function(s){var e=Array.prototype.filter.call(s.target.options,function(t){return t.selected}).map(function(t){var s="_value"in t?t._value:t.value;return s});t.$set(t.filter,"status",s.target.multiple?e:e[0])},function(s){t.$refs.list.update(!0)}]}},t._l(t.statusList,function(s){return e("option",{key:s.id,domProps:{value:s.status}},[t._v(t._s(s.name))])}),0),e("i",{staticClass:"icon",staticStyle:{"margin-left":"-20px","pointer-events":"none"}},[t._v("arrow_drop_down")])]),e("div",{staticClass:"flex-item"})]),e("div",{staticClass:"flex-item scroll-y"},[e("data-list",{ref:"list",attrs:{"page-size":10,param:t.filter,url:"/haolifa/invoice/list/0",method:"post"},scopedSlots:t._u([{key:"item",fn:function(s){var a=s.item,i=s.index;return[e("td",{staticClass:"c-a"},[t._v(t._s(i))]),e("td",[t._v(t._s(a.orderNo))]),e("td",[t._v(t._s(a.totalAmount))]),e("td",[t._v(t._s(t.statusList[a.status].name))]),e("td",[t._v(t._s(a.remark))]),e("td",[t._v(t._s(a.createTime))]),e("td",[t._v(t._s(a.updateTime))])]}}])},[e("tr",{attrs:{slot:"header"},slot:"header"},[e("th",{staticStyle:{width:"60px"}},[t._v("序号")]),e("th",[t._v("合同编号")]),e("th",[t._v("金额")]),e("th",[t._v("状态")]),e("th",[t._v("备注")]),e("th",[t._v("创建时间")]),e("th",[t._v("更新时间")])])])],1)])},i=[],r=(e("ff66"),e("ea23"),e("dbff"),e("9b68")),l={name:"invoice-list",components:{DataList:r["a"]},data:function(){return{statusList:[{status:0,name:"全部"},{status:1,name:"待开票"},{status:2,name:"已开票"}],filter:{type:1,status:0,orderNo:""}}},methods:{edit:function(t){this.$router.push("/jgzx-invoice/edit?id=".concat(t.id))},remove:function(t){var s=this;this.$confirm({title:"删除确认",text:"您确定要删除以下发票吗？<br><b>".concat(t.invoiceNo,"</b>"),color:"red",btns:["取消","删除"],yes:function(){s.$http.get("/haolifa/invoice/delete/".concat(t.id)).then(function(t){s.$toast("删除成功"),s.$refs.list.update()}).catch(function(t){s.$toast(t.msg||t.message)})}})}}},n=l,c=(e("cff6"),e("c46c")),o=Object(c["a"])(n,a,i,!1,null,null,null);o.options.__file="index.vue";s["default"]=o.exports}}]);
//# sourceMappingURL=diliverylist.0918f108.js.map