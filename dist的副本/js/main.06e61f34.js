(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["main"],{"154b":function(t,e,a){},"4c94":function(t,e,a){},"5d0e":function(t,e,a){t.exports=a.p+"img/logo_full_white.ac61e00c.png"},c033:function(t,e,a){"use strict";var n=a("e211"),i=a.n(n);i.a},c131:function(t,e,a){},ceba:function(t,e,a){"use strict";var n=a("4c94"),i=a.n(n);i.a},e211:function(t,e,a){},eace:function(t,e,a){"use strict";var n=a("c131"),i=a.n(n);i.a},ed6f:function(t,e,a){"use strict";var n=a("154b"),i=a.n(n);i.a},ffbd:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-main bg-f abs flex-col"},[n("div",{staticClass:"top-bar bg-blue flex-v-center"},[n("router-link",{staticClass:"flex-v-center logo",attrs:{to:"/"}},[n("img",{attrs:{src:a("5d0e"),alt:"LOGO"}}),n("span",{staticClass:"f-20 c-f b"},[t._v("好利信息化智能制造管控系统")])]),n("span",{staticClass:"f-16 c-f",staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.$route.meta.title))]),n("div",{staticClass:"flex-item"}),n("account")],1),n("div",{staticClass:"flex-item flex",staticStyle:{width:"100%",overflow:"hidden"}},[t.leftOpen?n("div",{staticClass:"left scroll-y",staticStyle:{background:"#f8f8f8"}},[n("main-left")],1):t._e(),n("div",{staticClass:"flex-item relative",staticStyle:{width:"0"}},[n("transition",{attrs:{name:"slide-y"}},[n("router-view",{staticClass:"abs"})],1)],1)])])},i=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"account flex-v-center c-4"},[t.logined?a("notification"):t._e(),a("div",{staticClass:"relative",attrs:{tabindex:"1"}},[t.logined?a("avatar",{staticClass:"account-avatar-sm",attrs:{size:"36",src:t.account.avatar},on:{click:function(e){t.accountShow=!t.accountShow}}}):a("btn",{on:{click:t.toLogin}},[t._v("登录")]),t.accountShow&&t.logined?a("bubble",{staticClass:"account-bubble",attrs:{pos:"bottom",align:"end"},on:{close:function(e){t.accountShow=!1}}},[a("div",{staticClass:"account-ctn t-center"},[a("avatar",{staticClass:"account-avatar-big",attrs:{size:"80",src:t.account.avatar}}),a("div",{staticClass:"f-18 account-name"},[t._v(t._s(t.account.realName))]),a("div",{staticClass:"f-12 c-8 account-info"},[t._v(t._s(t.roles))]),a("div",{staticClass:"f-12 c-8 account-info"},[t._v(t._s(t.account.username))]),a("btn",{attrs:{flat:""},on:{click:function(e){t.pwdFlag=!0}}},[t._v("修改密码")]),a("btn",{attrs:{flat:"",loading:t.loading},on:{click:t.logOut}},[t._v("退出登录")])],1)]):t._e()],1),t.pwdFlag?a("layer",{attrs:{title:"修改密码",width:"60%"}},[a("div",{staticClass:"layer-text",staticStyle:{"padding-bottom":"50px"}},[a("input-box",{staticClass:"flex-item mr-20",attrs:{type:"password",hint:"必填",label:"新密码"},model:{value:t.newPassword,callback:function(e){t.newPassword=e},expression:"newPassword"}}),a("input-box",{staticClass:"flex-item mr-20",attrs:{type:"password",hint:"必填",label:"确认新密码"},model:{value:t.cNewPassword,callback:function(e){t.cNewPassword=e},expression:"cNewPassword"}})],1),a("div",{staticClass:"layer-btns"},[a("btn",{attrs:{flat:"",color:"#008eff"},on:{click:t.editPwd}},[t._v("确定")]),a("btn",{attrs:{flat:"",color:"#008eff"},on:{click:function(e){t.pwdFlag=!1,t.newPassword=t.cNewPassword=""}}},[t._v("关闭")])],1)]):t._e()],1)},s=[],r=(a("8383"),a("eee6"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"relative notifications-icon"},[a("icon-btn",{staticClass:"c-f",on:{click:function(e){t.notifShow=!t.notifShow}}},[t._v("notifications")]),t.notifShow?a("bubble",{staticClass:"notifications-bubble",attrs:{pos:"bottom",align:"end"},on:{close:function(e){t.notifShow=!1}}},[a("div",{staticClass:"notification"},[a("div",{staticClass:"no-data"},[a("i",{staticClass:"icon"},[t._v("notifications")]),a("p",[t._v("无通知")])])])]):t._e()],1)}),c=[],d={name:"notification",data:function(){return{notifShow:!1}}},o=d,u=(a("ceba"),a("c46c")),m=Object(u["a"])(o,r,c,!1,null,null,null);m.options.__file="index.vue";var p=m.exports,f=a("a18c"),g={name:"account",components:{Notification:p},data:function(){return{accountShow:!1,loading:!1,pwdFlag:!1,newPassword:"",cNewPassword:""}},computed:{account:function(){return this.$store.state.account},logined:function(){return this.account.username},roles:function(){return this.account.roles.map(function(t){return t.roleName}).toString()}},methods:{logOut:function(){var t=this;this.loading=!0,this.$http.post("/haolifa/logout").then(function(e){t.clearUserInfo()}).catch(function(e){t.clearUserInfo(),t.$toast(e.msg||e)})},clearUserInfo:function(){this.loading=!1,this.$store.commit("LOGOUT"),Object(f["b"])([]),this.$route.meta.open||this.toLogin()},toLogin:function(){this.$router.replace("/login")},editPwd:function(){var t=this;this.newPassword&&this.cNewPassword&&this.newPassword===this.cNewPassword?this.$http.put("/haolifa/user/changePwd?newPassword=".concat(this.newPassword)).then(function(e){t.$toast("修改成功"),t.pwdFlag=!1}).catch(function(e){t.$toast(e.msg)}):this.$toast("请正确填写密码和确认密码")}}},h=g,v=(a("ed6f"),Object(u["a"])(h,l,s,!1,null,null,null));v.options.__file="index.vue";var b=v.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-left c-6 f-14"},t._l(t.list,function(e,n){return a("div",{key:e.name,staticClass:"nav-group"},[a("div",{staticClass:"flex-v-center nav-item nav-toggle a",on:{click:function(t){e.open=!e.open}}},[a("i",{staticClass:"icon"},[t._v(t._s(t.iconList[n]))]),a("span",{staticClass:"flex-item b"},[t._v(t._s(e.name))]),a("i",{staticClass:"icon"},[t._v("arrow_drop_"+t._s(e.open?"up":"down"))])]),e.open?a("div",{staticClass:"openMenu"},t._l(e.children,function(e){return t.menus.includes(e.id)?a("router-link",{key:e.id,staticClass:"nav-item flex-v-center c-6",class:{on:t.$route.meta.id===e.id},attrs:{title:e.name,to:e.url}},[t._v(t._s(e.name))]):t._e()}),1):t._e()])}),0)},j=[],x=(a("3f87"),a("56cc"),a("e0ba"),{name:"main-left",data:function(){return{list:[],iconList:["settings","assessment","account_balance","extension","supervisor_account","","euro_symbol","volume_up"]}},computed:{menus:function(){return this.$store.state.account.menus}},created:function(){var t=this,e=this.menus,a=[{name:"系统管理",id:"parent-xtgl",children:[{name:"角色管理",url:"/role",id:"jsgl"},{name:"人员管理",url:"/user",id:"rygl"},{name:"部门管理",url:"/department",id:"bmgl"},{name:"菜单管理",url:"/department",id:"cdgl"}]},{name:"流程管理",id:"parent-lcgl",children:[{name:"流程管理",url:"/process-manager",id:"lcgl"},{name:"节点管理",url:"/node",id:"jdgl"}]},{name:"订单管理",id:"parent-ddgl",children:[{name:"订单列表",url:"/order",id:"ddlb"},{name:"新增订单",url:"/order/addList",id:"xzdd"},{name:"订单生成",url:"/order/create",id:"ddsc"}]},{name:"库房管理",id:"parent-kfgl",children:[{name:"库存预警",url:"/earlywarning",id:"kcyj"},{name:"库房管理",url:"/room",id:"kfgl"},{name:"库位管理",url:"/rack",id:"kwgl"},{name:"零件管理",url:"/material",id:"ljgl"},{name:"库存查询",url:"/materialquery",id:"kccx"},{name:"成品管理",url:"/storeproduct",id:"cpgl"},{name:"零件待入库",url:"/material-room",id:"ljdrk"},{name:"喷涂待入库",url:"/spray-room",id:"ptdrk"},{name:"成品待入库",url:"/product-room",id:"cpdrk"},{name:"订单领料表",url:"/ordermaterial",id:"ddllb"},{name:"更换料表",url:"/orderupdate",id:"dhlb"},{name:"核替换料表",url:"/nuclear-material/list",id:"kghl"}]},{name:"配套管理",id:"parent-ptgl",children:[{name:"零件设置",url:"/part",id:"ljsz"},{name:"成品设置",url:"/product",id:"cpsz"},{name:"零件分类设置",url:"/parttype",id:"ljflsz"}]},{name:"供应商管理",id:"parent-gysgl",children:[{name:"供应商管理",url:"/supplier/list",id:"gysgl"},{name:"新增供应商",url:"/supplier/addList",id:"xzgys"},{name:"供应商产品",url:"/supplierproduct",id:"gyscp"},{name:"新增供应商产品",url:"/supplierproduct/addList",id:"xzgyscp"},{name:"供应商设备",url:"/supplierequipment",id:"gyssb"}]},{name:"采购管理",id:"parent-cggl",children:[{name:"零件报检单",url:"/applyBuy-material",id:"ljbjd"},{name:"创建送检单",url:"/applyBuy-material/addList",id:"cjsjd"},{name:"加工委托单",url:"/applyBuy-machining",id:"jjgbjd"},{name:"创建加工委托单",url:"/applyBuy-machining/addList",id:"cjjjgd"},{name:"生产待采购列表",url:"/applyBuy-order",id:"scdcglb"},{name:"采购列表",url:"/purchsemanage-purchase/list",id:"cglb"},{name:"新增采购合同",url:"/purchsemanage-purchase/addList",id:"xzcght"},{name:"机加工单列表",url:"/purchsemanage-entrust/list",id:"jjglb"},{name:"新增机加工单",url:"/purchsemanage-entrust/addList",id:"xzjjgdd"}]},{name:"质检管理",id:"parent-zjgl",children:[{name:"零件质检列表",url:"/inspect-material",id:"ljzjlb"},{name:"新增零件质检记录",url:"/inspect-material/addList",id:"xzljzjjl"},{name:"成品质检列表",url:"/inspect-product",id:"cpzjlb"},{name:"新增成品质检记录",url:"/inspect-product/addList",id:"xzcpzjjl"},{name:"加工质检列表",url:"/inspect-metalwork",id:"jgzjlb"},{name:"新增加工质检记录",url:"/inspect-metalwork/addList",id:"xzjgzjjl"},{name:"压力测试列表",url:"/stresstest",id:"ylcslb"},{name:"新增压力测试列表",url:"/stresstest/addList",id:"xzylcs"},{name:"喷涂质检列表",url:"/spray/inspect-form/list",id:"ptzjlb"},{name:"新增喷涂质检",url:"/spray/inspect-form/addList",id:"xzptzj"}]},{name:"发货管理",id:"parent-fhgl",children:[{name:"发货单列表",url:"/delivery-bills",id:"fhdgl"},{name:"新增发货通知单",url:"/delivery-bills/addList",id:"xzfhtzd"},{name:"发货记录列表",url:"/delivery-record",id:"fhjlgl"},{name:"新增发货记录",url:"/delivery-record/addList",id:"xzfhjl"}]},{name:"财务管理",id:"parent-cwgl",children:[{name:"资产管理",url:"/assets",id:"zcgl"},{name:"费用管理",url:"/cost",id:"fygl"},{name:"合同管理",url:"/contract",id:"htgl"},{name:"发票管理",url:"/invoice",id:"fpgl"},{name:"发货申请列表",url:"/finance-bills",id:"fhsqlb"},{name:"成品价格管理",url:"/finishedPrice",id:"cpjggl"},{name:"新增成品价格",url:"/finishedPrice/addList",id:"xzcpjg"},{name:"零件价格管理",url:"/partPrice",id:"ljjggl"},{name:"新增零件价格",url:"/partPrice/addList",id:"xzljjg"}]},{name:"公告管理",id:"parent-gggl",children:[{name:"新闻管理",url:"/news",id:"xwgl"},{name:"通知管理",url:"/notification",id:"tzgl"}]},{name:"站内信管理",id:"parent-znxgl",children:[{name:"站内信列表",url:"/message",id:"znxlb"},{name:"新增站内信",url:"/message/add",id:"xzznx"}]},{name:"经管任务",id:"parent-jgzx",children:[{name:"发票管理",url:"/jgzx-invoice",id:"kfpgl"},{name:"新增发票管理",url:"/jgzx-invoice/addList",id:"xzfp"}]},{name:"计划管理",id:"parent-scdd",children:[{name:"零件加工管理",url:"/workcar",id:"jhjjglb"},{name:"生产订单列表",url:"/jhgl-scddlb-list",id:"jhgl-scddlb"},{name:"新增喷涂加工",url:"/spray/add-list",id:"xzptjg"},{name:"喷涂加工列表",url:"/spraylist",id:"ptjglb"}]},{name:"生产过程管理",id:"parent-cjzr",children:[{name:"零件加工管理",url:"/partmanufacturing",id:"cjjjglb"},{name:"更换料申请",url:"/replacement",id:"cjzr-ghllb"},{name:"新增更换料",url:"/replacement/addList",id:"xzghllj"},{name:"生产订单列表",url:"/cjzr-scddlb",id:"cjzr-scddlb"},{name:"喷涂加工列表",url:"/spray/produce-list",id:"cjzr-scptjg"}]},{name:"技术管理",id:"parent-jsgl",children:[{name:"更换料列表",url:"/replacementlist",id:"jsgl-ghllb"},{name:"文件/图纸管理",url:"/fileupload",id:"wjtzgl"},{name:"新增文件/图纸管理",url:"/fileupload/addList",id:"xzwjtz"}]},{name:"任务管理",id:"parent-rwgl",children:[{name:"任务列表",url:"/taskfinishlist",id:"rwlb"}]}];a.forEach(function(t){t.children=t.children.filter(function(t){return e.includes(t.id)})}),this.list=a.filter(function(t){return t.children.length});var n=this.$route.meta.id;this.list.forEach(function(e){var a=!1;e.children&&e.children.forEach(function(t){t.id===n&&(a=!0)}),t.$set(e,"open",a)})},methods:{getList:function(){var t=this;this.$http.get("/haolifa/menu").then(function(e){e.forEach(function(t){t.open=!1}),t.list=e})}}}),_=x,y=(a("c033"),Object(u["a"])(_,w,j,!1,null,null,null));y.options.__file="index.vue";var z=y.exports,C={name:"page-main",components:{Account:b,MainLeft:z},data:function(){return{leftOpen:!0}}},k=C,L=(a("eace"),Object(u["a"])(k,n,i,!1,null,null,null));L.options.__file="index.vue";e["default"]=L.exports}}]);
//# sourceMappingURL=main.06e61f34.js.map