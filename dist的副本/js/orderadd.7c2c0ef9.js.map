{"version":3,"sources":["webpack:///./src/utils/fileToBase64.js","webpack:///./src/pages/Order/list/add.vue?10db","webpack:///./src/pages/message/add.vue?9d99","webpack:///src/pages/message/add.vue","webpack:///./src/pages/message/add.vue?fe33","webpack:///./src/pages/message/add.vue","webpack:///./src/pages/Order/list/add.vue?7e5c","webpack:///src/pages/Order/list/add.vue","webpack:///./src/pages/Order/list/add.vue?fabe","webpack:///./src/pages/Order/list/add.vue","webpack:///./src/pages/message/add.vue?bb7b"],"names":["__webpack_exports__","file","_Users_zhanganping_Desktop_haolifaweb_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_0___default","a","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","_node_modules_mini_css_extract_plugin_0_5_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_5_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_1_2_5_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_5_0_vue_loader_lib_index_js_vue_loader_options_add_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_0_5_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_5_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_1_2_5_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_5_0_vue_loader_lib_index_js_vue_loader_options_add_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","hint","list","userList","label","model","value","form","callback","$$v","$set","expression","multi-line","big","on","click","$event","submit","flat","reset","staticStyle","padding","size","margin-top","_s","loadingMsg","_e","staticRenderFns","addvue_type_script_lang_js_","name","data","loading","users","title","content","mounted","getUserList","methods","_this","$http","post","then","res","$toast","catch","e","message","msg","_this2","get","map","item","id","username","text","realName","message_addvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","margin","width","btnText","fileList","onchange","uploadFile","onremove","removeFile","orderContractUrl","formId","$route","query","addItem","orderProductAssociates","push","$forceUpdate","fileToBase64","source","base64Str","base64Source","fileName","$router","promise_default","_this3","list_addvue_type_script_lang_js_"],"mappings":"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","file":"js/orderadd.7c2c0ef9.js","sourcesContent":["export default function (file) {\r\n  return new Promise((resolve, reject) => {\r\n    var reader = new FileReader()\r\n    reader.readAsDataURL(file)\r\n    reader.onload = function () {\r\n      resolve(reader.result)\r\n    }\r\n    reader.onerror = function (error) {\r\n      reject(error)\r\n    }\r\n  })\r\n}\r\n","import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.5.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/_vue-loader@15.5.0@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.5.0@vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.5.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/_vue-loader@15.5.0@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.5.0@vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"apply-buy-add\"},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"title b f-18 mb-10\"},[_vm._v(\"新增站内信\")]),_c('div',{staticClass:\"flex-v-center\"},[_c('select-box',{staticClass:\"flex-item mr-10\",attrs:{\"hint\":\"必填\",\"list\":_vm.userList,\"label\":\"收件人\"},model:{value:(_vm.form.users),callback:function ($$v) {_vm.$set(_vm.form, \"users\", $$v)},expression:\"form.users\"}})],1),_c('div',{staticClass:\"flex-v-center\"},[_c('input-box',{staticClass:\"flex-item mr-10\",attrs:{\"hint\":\"必填\",\"label\":\"标题\"},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_c('div',{staticClass:\"flex-v-center\"},[_c('input-box',{staticClass:\"flex-item mr-10\",attrs:{\"hint\":\"必填\",\"multi-line\":\"\",\"label\":\"内容\"},model:{value:(_vm.form.content),callback:function ($$v) {_vm.$set(_vm.form, \"content\", $$v)},expression:\"form.content\"}})],1),_c('div',{staticClass:\"flex\"},[_c('btn',{staticClass:\"mr-20\",attrs:{\"big\":\"\"},on:{\"click\":function($event){_vm.submit()}}},[_vm._v(\"提交\")]),_c('btn',{attrs:{\"big\":\"\",\"flat\":\"\"},on:{\"click\":_vm.reset}},[_vm._v(\"重置\")])],1)]),(_vm.loading)?_c('layer',[_c('div',{staticClass:\"abs t-center\",staticStyle:{\"padding\":\"20px\"}},[_c('loading',{attrs:{\"size\":\"30\"}}),_c('div',{staticStyle:{\"margin-top\":\"10px\"}},[_vm._v(_vm._s(_vm.loadingMsg))])],1)]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"apply-buy-add\">\n        <div class=\"content\">\n            <div class=\"title b f-18 mb-10\">新增站内信</div>\n            <div class=\"flex-v-center\">\n                <select-box v-model=\"form.users\" hint=\"必填\" :list=\"userList\" class=\"flex-item mr-10\" label=\"收件人\"></select-box>\n            </div>\n            <div class=\"flex-v-center\">\n                <input-box v-model=\"form.title\" hint=\"必填\" class=\"flex-item mr-10\" label=\"标题\"></input-box>\n            </div>\n            <div class=\"flex-v-center\">\n                <input-box v-model=\"form.content\" hint=\"必填\" multi-line class=\"flex-item mr-10\" label=\"内容\"></input-box>\n            </div>\n            <div class=\"flex\">\n                <btn big class=\"mr-20\" @click=\"submit()\">提交</btn>\n                <btn big flat @click=\"reset\">重置</btn>\n            </div>\n        </div>\n        <layer v-if=\"loading\">\n            <div class=\"abs t-center\" style=\"padding: 20px;\">\n                <loading size=\"30\"/>\n                <div style=\"margin-top: 10px;\">{{loadingMsg}}</div>\n            </div>\n        </layer>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"order-create\",\n    data() {\n        return {\n            loading: false,\n            form: {\n                users: \"\",\n                title: \"\",\n                content: \"\"\n            },\n            userList: []\n        };\n    },\n    mounted() {\n        this.getUserList();\n    },\n    methods: {\n        submit() {\n            if (!this.form.users || !this.form.title || !this.form.content) {\n                this.$toast(\"请输入必填项\");\n                return;\n            }\n            this.$http\n                .post(\"/haolifa/hlmail/sendMail\", this.form)\n                .then(res => {\n                    this.$toast(\"新增成功\");\n                    this.reset();\n                })\n                .catch(e => {\n                    this.$toast(e.message || e.msg);\n                });\n        },\n        getUserList() {\n            this.$http.get(\"/haolifa/user?pageNum=1&pageSize=100\").then(res => {\n                this.userList = res.list.map(item => {\n                    return {\n                        value: item.id + \"-\" + item.username,\n                        text: item.realName\n                    };\n                });\n            });\n        },\n        reset() {\n            this.form = {\n                users: \"\",\n                title: \"\",\n                content: \"\"\n            };\n        }\n    }\n};\n</script>\n\n<style lang='less'>\n.apply-buy-add {\n    padding: 20px;\n    .card {\n        padding: 10px;\n        margin: 20px 0;\n        background: #f5f5f5;\n    }\n    .content {\n        max-width: 1000px;\n        margin: 0 auto;\n    }\n    select {\n        background: none;\n        border: none;\n        outline: none;\n        padding: 5px 20px 5px 10px;\n        appearance: none;\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@1.2.0@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!../../../node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.5.0@vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@1.2.0@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!../../../node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.5.0@vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./add.vue?vue&type=template&id=611fbc26&\"\nimport script from \"./add.vue?vue&type=script&lang=js&\"\nexport * from \"./add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./add.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.5.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"add.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"apply-buy-add\"},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"title b f-18 mb-10\"},[_vm._v(_vm._s(_vm.form.id ? '编辑' : '新增')+\"订单\")]),_c('div',{staticClass:\"flex\",staticStyle:{\"margin\":\"50px 0\"}},[_c('upload-box',{staticStyle:{\"width\":\"100%\"},attrs:{\"btnText\":\"上传订单合同\",\"fileList\":_vm.fileList,\"onchange\":_vm.uploadFile,\"onremove\":_vm.removeFile}})],1)]),(_vm.loading)?_c('layer',[_c('div',{staticClass:\"abs t-center\",staticStyle:{\"padding\":\"20px\"}},[_c('loading',{attrs:{\"size\":\"30\"}}),_c('div',{staticStyle:{\"margin-top\":\"10px\"}},[_vm._v(_vm._s(_vm.loadingMsg))])],1)]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"apply-buy-add\">\r\n        <div class=\"content\">\r\n            <div class=\"title b f-18 mb-10\">{{form.id ? '编辑' : '新增'}}订单</div>\r\n            <!-- <div class='flex'>\r\n        <input-box v-model='form.orderContractNo' class='flex-item' label='成品合同订单号(上传订单合同附件上面)'></input-box>\r\n            </div>-->\r\n            <div class=\"flex\" style=\"margin:50px 0;\">\r\n                <upload-box btnText=\"上传订单合同\" :fileList=\"fileList\" :onchange=\"uploadFile\" :onremove=\"removeFile\" style=\"width: 100%\"></upload-box>\r\n            </div>\r\n\r\n            <!-- <div class='b' style='margin: 20px 0 10px;'>供货明细</div>\r\n      <div class='card flex' style='margin-top: 0;' v-for='(item, i) in form.orderProductAssociates' :key='i' >\r\n        <div class='flex-item'>\r\n          <div class='flex'>\r\n            <input-box v-model='item.productNo' class='flex-item mr-10' label='序号'></input-box>\r\n            <input-box v-model='item.productName' class='flex-item mr-10' label='名称'></input-box>\r\n            <input-box v-model='item.label' class='mr-10' label='产品型号'></input-box>\r\n            <input-box v-model='item.productModel' class='flex-item mr-10' label='规格'></input-box>\r\n          </div>\r\n          <div class='flex'>\r\n            <input-box v-model='item.productColor' class='flex-item mr-10' label='颜色'></input-box>\r\n            <input-box v-model='item.productNumber' type='number' class='mr-10' label='数量'></input-box>\r\n            <input-box v-model='item.price' class='flex-item mr-10' label='单价'></input-box>\r\n            <input-box v-model='item.totalPrice' class='flex-item mr-10' label='合计'></input-box>\r\n          </div>\r\n          <div class=\"flex\">\r\n            <input-box v-model='item.materialDescription' class='flex-item mr-20' label='材质说明'></input-box>\r\n            <input-box v-model='item.specification' class='flex-item mr-20' label='特殊要求'></input-box>\r\n          </div>\r\n          <div class='flex'>\r\n            <input-box v-model='item.productRemark' class='flex-item' label='备注'></input-box>\r\n          </div>\r\n        </div>\r\n        <div v-if='form.orderProductAssociates.length > 1'>\r\n          <icon-btn small @click='form.orderProductAssociates.splice(i, 1)'>close</icon-btn>\r\n        </div>\r\n      </div>\r\n      <div class='card a flex-center' @click='addItem()'>\r\n        <div class='flex-v-center'>\r\n          <i class='icon mr-10'>add</i>\r\n          <span>添加供货项</span>\r\n        </div>\r\n            </div>-->\r\n            <!-- <div class=\"flex\">\r\n                <btn big class=\"mr-20\" @click=\"submit()\">提交</btn>\r\n                <btn big flat @click=\"$router.back()\">取消</btn>\r\n            </div>-->\r\n        </div>\r\n        <layer v-if=\"loading\">\r\n            <div class=\"abs t-center\" style=\"padding: 20px;\">\r\n                <loading size=\"30\"/>\r\n                <div style=\"margin-top: 10px;\">{{loadingMsg}}</div>\r\n            </div>\r\n        </layer>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport fileToBase64 from \"../../../utils/fileToBase64\";\r\nexport default {\r\n    name: \"order-orderAdd\",\r\n    data() {\r\n        return {\r\n            loading: false,\r\n            fileList: [],\r\n            form: {\r\n                orderContractUrl: \"\"\r\n                // orderProductAssociates: []\r\n            }\r\n        };\r\n    },\r\n    mounted() {\r\n        let { formId } = this.$route.query;\r\n        this.form.id = formId;\r\n        if (formId) {\r\n        }\r\n    },\r\n    methods: {\r\n        addItem() {\r\n            // if (!this.form.orderProductAssociates) {\r\n            //   this.form.orderProductAssociates = [];\r\n            // }\r\n            // this.form.orderProductAssociates.push({\r\n            //   id: '',\r\n            //   productName: '',\r\n            //   productNumber: 0,\r\n            //   productNo: '',\r\n            //   productColor: '',\r\n            //   productRemark: '',\r\n            //   productModel: '',\r\n            //   specification: '',\r\n            //   unit: '',\r\n            //   unitPrice: 0,\r\n            //   unitWeight: 0\r\n            // });\r\n            this.form.orderProductAssociates.push({});\r\n            this.$forceUpdate();\r\n        },\r\n        uploadFile(file, fileList) {\r\n            this.loading = true;\r\n            this.loadingMsg = \"正在上传\";\r\n            fileToBase64(file.source).then(base64Str => {\r\n                this.$http\r\n                    .post(\"/haolifa/order-product/uploadContract\", {\r\n                        base64Source: base64Str,\r\n                        fileName: file.name\r\n                    })\r\n                    .then(res => {\r\n                        this.$toast(!this.form.id ? \"上传成功\" : \"更新成功\");\r\n                        this.loading = false;\r\n                        this.$router.push(\"/order\");\r\n                        this.orderContractUrl = res;\r\n                    })\r\n                    .catch(e => {\r\n                        this.$toast(e.msg || e.message);\r\n                        this.loading = false;\r\n                    });\r\n            });\r\n        },\r\n        removeFile() {\r\n            return new Promise((resolve, reject) => {\r\n                this.form.orderContractUrl = \"\";\r\n                resolve();\r\n            });\r\n        },\r\n        submit() {\r\n            if (!this.form.orderContractUrl) {\r\n                this.$toast(`请上传订单`);\r\n                return;\r\n            }\r\n            // const requireItem = {\r\n            //   productNo: '产品序号',\r\n            //   productName: '产品名称',\r\n            //   productModel: '产品规格',\r\n            //   productNumber: '产品数量',\r\n            //   price: '产品单价',\r\n            //   totalPrice: '产品总价'\r\n            // }\r\n            // if(this.form.orderProductAssociates.length < 1){\r\n            //   this.$toast(`请至少添加一个供货项`);\r\n            //   return;\r\n            // }\r\n            // for (var i = 0, len = this.form.orderProductAssociates.length; i < len; i++) {\r\n            //   const item = this.form.orderProductAssociates[i];\r\n            //   for (let key in requireItem) {\r\n            //     if (!item[key]) {\r\n            //       this.$toast(`请填写第 ${i + 1} 项 ${requireItem[key]}`);\r\n            //       return;\r\n            //     }\r\n            //   }\r\n            // }\r\n            this.$http\r\n                .post(\r\n                    !this.form.id\r\n                        ? \"/haolifa/order-product/save\"\r\n                        : \"/haolifa/purchase-order/update\",\r\n                    this.form\r\n                )\r\n                .then(res => {\r\n                    this.$toast(!this.form.id ? \"创建成功\" : \"更新成功\");\r\n                    this.$router.push(\"/order\");\r\n                })\r\n                .catch(e => {\r\n                    this.$toast(e.message || e.msg);\r\n                });\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang='less'>\r\n.apply-buy-add {\r\n    padding: 20px;\r\n    .card {\r\n        padding: 10px;\r\n        margin: 20px 0;\r\n        background: #f5f5f5;\r\n    }\r\n    .content {\r\n        max-width: 1000px;\r\n        margin: 0 auto;\r\n    }\r\n    select {\r\n        background: none;\r\n        border: none;\r\n        outline: none;\r\n        padding: 5px 20px 5px 10px;\r\n        appearance: none;\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@1.2.0@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.5.0@vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@1.2.0@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.5.0@vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./add.vue?vue&type=template&id=48886abc&\"\nimport script from \"./add.vue?vue&type=script&lang=js&\"\nexport * from \"./add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./add.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.5.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"add.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.5.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.5.0@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.5.0@vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.5.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.5.0@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.5.0@vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}