(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["productioninfo"],{"417c":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"page-supplier-info abs scroll-y"},[e("div",{staticClass:"form-content"},[e("div",{staticClass:"b f-18 flex-v-center",staticStyle:{"margin-bottom":"20px"}},[e("icon-btn",{staticClass:"mr-15",on:{click:function(a){t.$router.back()}}},[t._v("arrow_back")]),e("div",{staticClass:"flex-item"},[t._v("收款记录")]),e("div",{staticClass:"flex-item ml-20"},[e("a",{staticClass:"a",staticStyle:{color:"#008eff"},attrs:{flat:"",href:"javascript:;"},on:{click:function(a){t.addPay()}}},[t._v("新增收款记录")])])],1),e("table",{staticClass:"f-14"},[t._m(0),t._m(1),t._l(t.payList,function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.orderNo))]),e("td",[t._v(t._s(a.amount.toLocaleString()))]),e("td",[t._v(t._s(a.payTime))]),e("td",[t._v(t._s(a.createUserId))]),e("td",[t._v(t._s(a.createTime))]),e("td",[t._v(t._s(a.updateTime))])])})],2),e("div",{directives:[{name:"show",rawName:"v-show",value:t.addFlag,expression:"addFlag"}]},[e("div",{staticClass:"b",staticStyle:{margin:"20px 0 10px"}},[t._v("收款记录添加")]),e("div",{staticClass:"card flex",staticStyle:{"margin-top":"0"}},[e("div",{staticClass:"flex-item"},[e("div",{staticClass:"flex"},[e("input-box",{staticClass:"flex-item mr-10",attrs:{disabled:"",hint:"必填",label:"合同订单号"},model:{value:t.order.orderNo,callback:function(a){t.$set(t.order,"orderNo",a)},expression:"order.orderNo"}}),e("input-box",{staticClass:"flex-item mr-10",attrs:{type:"number",hint:"必填",label:"总金额"},model:{value:t.order.amount,callback:function(a){t.$set(t.order,"amount",a)},expression:"order.amount"}}),e("date-picker",{staticClass:"mr-10",staticStyle:{"margin-right":"20px"},attrs:{hint:"必填",label:"收款日期"},model:{value:t.order.payTime,callback:function(a){t.$set(t.order,"payTime",a)},expression:"order.payTime"}}),e("button",{staticClass:"btn btn-sm",on:{click:function(a){t.save()}}},[t._v("保存")])],1)])])])])])},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticStyle:{width:"16%"}}),e("td",{staticStyle:{width:"16%"}}),e("td",{staticStyle:{width:"16%"}}),e("td",{staticStyle:{width:"16%"}}),e("td",{staticStyle:{width:"16%"}}),e("td",{staticStyle:{width:"20%"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("th",[t._v("订单号")]),e("th",[t._v("总金额(￥)")]),e("th",[t._v("打款日期")]),e("th",[t._v("录入人")]),e("th",[t._v("创建日期")]),e("th",[t._v("更新日期")])])}],r={name:"purchsemanage-prodinfo",data:function(){return{loading:!1,info:{},itemList:[],orderUrl:"",detailFlag:!0,addFlag:!1,payList:{},order:{amount:"",orderNo:"",payTime:""}}},created:function(){this.payClick()},methods:{payClick:function(){var t=this,a=this.$route.query.orderNo;this.order.orderNo=a,this.detailFlag=!1,this.payFlag=!0,this.$http.get("/haolifa/payment/list/".concat(a)).then(function(a){t.payList=a}).catch(function(a){t.$toast(a.msg)})},addPay:function(){this.detailFlag=!1,this.addFlag=!0},save:function(){var t=this;this.order.orderNo?this.order.amount?this.order.payTime?this.$http.post("/haolifa/payment/save",this.order).then(function(a){t.$toast("提交成功"),t.order.amount="",t.order.payTime="",t.addFlag=!1,t.payClick(t.order.orderNo)}).catch(function(a){t.$toast(a.message||a.msg)}):this.$toast("请选择收款日期"):this.$toast("请填写总金额"):this.$toast("请填写合同订单号")}}},o=r,n=(e("d184"),e("c46c")),c=Object(n["a"])(o,i,s,!1,null,null,null);c.options.__file="prodInfo.vue";a["default"]=c.exports},a4ff:function(t,a,e){},d184:function(t,a,e){"use strict";var i=e("a4ff"),s=e.n(i);s.a}}]);
//# sourceMappingURL=productioninfo.2ef2477a.js.map