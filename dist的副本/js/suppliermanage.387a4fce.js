(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["suppliermanage"],{"0324":function(t,s,a){"use strict";var e=a("c17f"),r=a.n(e);r.a},"0c13":function(t,s,a){"use strict";var e=a("916a"),r=a.n(e);r.a},"0d14":function(t,s,a){"use strict";var e=a("7441"),r=a.n(e);r.a},"12b1":function(t,s,a){"use strict";var e=a("8aaf"),r=a.n(e);r.a},"147b":function(t,s,a){},"289a":function(t,s,a){var e=a("6dae"),r=a("2de7");a("b560")("keys",function(){return function(t){return r(e(t))}})},3907:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"purchaseadd flex-col"},[a("div",{staticClass:"flex-v-center tool-bar"},[a("div",{staticClass:"flex-v-center search-bar",staticStyle:{"margin-right":"20px"}},[a("i",{staticClass:"icon f-20 c-8"},[t._v("search")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.orderNo,expression:"filter.orderNo"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"机加工合同号"},domProps:{value:t.filter.orderNo},on:{change:function(s){t.$refs.list.update(!0)},input:function(s){s.target.composing||t.$set(t.filter,"orderNo",s.target.value)}}}),a("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.status,expression:"filter.status"}],staticClass:"f-14",on:{change:[function(s){var a=Array.prototype.filter.call(s.target.options,function(t){return t.selected}).map(function(t){var s="_value"in t?t._value:t.value;return s});t.$set(t.filter,"status",s.target.multiple?a:a[0])},function(s){t.$refs.list.update(!0)}]}},[a("option",{attrs:{value:"0"}},[t._v("合同状态")]),t._l(t.statusList,function(s){return a("option",{key:s.id,domProps:{value:s.status}},[t._v(t._s(s.name))])})],2),a("i",{staticClass:"icon",staticStyle:{"margin-left":"-20px","pointer-events":"none"}},[t._v("arrow_drop_down")])]),a("div",{staticClass:"flex-item"}),a("router-link",{attrs:{to:"/purchsemanage-entrust/add"}},[a("btn",{staticClass:"b",attrs:{flat:"",color:"#008eff"}},[t._v("新增机加工订单")])],1)],1),a("div",{staticClass:"flex-item scroll-y"},[a("data-list",{ref:"list",attrs:{method:"get","page-size":10,param:t.filter,url:"/haolifa/purchase-order/list/1"},scopedSlots:t._u([{key:"item",fn:function(s){var e=s.item,r=s.index;return[a("td",[t._v(t._s(r))]),a("td",[t._v(t._s(e.purchaseOrderNo))]),a("td",[t._v(t._s(e.supplierName))]),a("td",[t._v(t._s(e.deliveryTime))]),a("td",[t._v(t._s(t.statusList[e.status-1].name))]),a("td",[t._v(t._s(e.createUserId))]),a("td",[t._v(t._s(e.createTime))]),a("td",{staticClass:"t-right"},[a("a",{staticClass:"blue",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(s){t.getInfo(e.id)}}},[t._v("查看")]),1==e.status?a("a",{staticClass:"blue",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(s){t.approve(e.purchaseOrderNo)}}},[t._v("发起审批")]):t._e(),3==e.status?a("a",{staticClass:"blue",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(s){t.createInspect(e.id)}}},[t._v("生成报检单")]):t._e(),1==e.status?a("a",{staticClass:"blue",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(s){t.updatePurchase(e.id)}}},[t._v("编辑")]):t._e(),2==e.status?a("a",{staticClass:"blue",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(s){t.approveProgress(e)}}},[t._v("审批进度")]):t._e(),1==e.status||4==e.status?a("a",{staticClass:"blue",attrs:{href:"javascript:;"},on:{click:function(s){t.deletePurchase(e.purchaseOrderNo)}}},[t._v("删除")]):t._e(),3==e.status?a("a",{staticClass:"blue",attrs:{href:"javascript:;"},on:{click:function(s){t.completePurchase(e.purchaseOrderNo)}}},[t._v("采购完成")]):t._e()])]}}])},[a("tr",{attrs:{slot:"header"},slot:"header"},[a("th",{staticStyle:{width:"60px"}},[t._v("序号")]),a("th",[t._v("机加工合同号")]),a("th",[t._v("供方单位")]),a("th",[t._v("加工完成日期")]),a("th",[t._v("订单状态")]),a("th",[t._v("创建人")]),a("th",[t._v("创建日期")]),a("th",{staticClass:"t-right",staticStyle:{width:"80px"}},[t._v("操作")])])])],1),t.completeLayer?a("layer",{attrs:{title:"订单折损",width:"450px"}},[a("div",{staticClass:"flex"},[a("input-box",{staticClass:"flex-item mr-20",attrs:{label:"折损金额"},model:{value:t.wreck.wreckAmount,callback:function(s){t.$set(t.wreck,"wreckAmount",s)},expression:"wreck.wreckAmount"}}),a("input-box",{staticClass:"flex-item mr-20",attrs:{label:"折损原因"},model:{value:t.wreck.wreckReason,callback:function(s){t.$set(t.wreck,"wreckReason",s)},expression:"wreck.wreckReason"}})],1),a("div",{staticClass:"layer-btns"},[a("btn",{attrs:{flat:""},on:{click:function(s){t.completeLayer=!1}}},[t._v("取消")]),a("btn",{attrs:{flat:"",color:"#008eff"},on:{click:function(s){t.complete()}}},[t._v("保存")])],1)]):t._e(),t.layer?a("layer",{attrs:{title:"详情",width:"70%"}},[a("div",{staticClass:"layer-text",staticStyle:{"padding-bottom":"50px"}},[a("div",{staticClass:"form-content metalwork-info"},[a("table",{staticClass:"f-14"},[a("tr",[a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}})]),a("tr",[a("td",{staticClass:"b",attrs:{colspan:"6"}},[t._v("机加工订单")]),a("td",{staticClass:"b",attrs:{colspan:"6"}},[a("a",{staticClass:"a",staticStyle:{color:"#008eff"},attrs:{flat:"",href:t.orderUrl}},[t._v("合同下载")])])]),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("订单号："+t._s(t.info.purchaseOrderNo))]),a("td",{attrs:{colspan:"6"}},[t._v("下单日期："+t._s(t.info.createTime))])]),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("供方："+t._s(t.info.supplierName))]),a("td",{attrs:{colspan:"6"}},[t._v("需方："+t._s(t.info.demander))])]),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("联系人："+t._s(t.info.supplierLinkman))]),a("td",{attrs:{colspan:"6"}},[t._v("联系人："+t._s(t.info.demanderLinkman))])]),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("联系电话："+t._s(t.info.suppilerPhone))]),a("td",{attrs:{colspan:"6"}},[t._v("联系电话："+t._s(t.info.demanderPhone))])]),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("供方地址："+t._s(t.info.suppilerAddr))]),a("td",{attrs:{colspan:"6"}},[t._v("需方地址："+t._s(t.info.demanderAddr))])]),a("tr",[a("td",{attrs:{colspan:"12"}},[t._v("兹向贵公司订购以下货品（如下表所列），请于24小时内签字回传！")])]),a("tr",[a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("序号")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("产品名称")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("图号")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("规格")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("材质")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("单位")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("数量")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("单重")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("总重")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("单价")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("金额")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("备注")])]),t._l(t.itemList,function(s,e){return a("tr",{key:s.id},[a("td",{attrs:{colspan:"1"}},[t._v(t._s(e))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.materialName))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.materialGraphNo))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.specification))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.material))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.unit))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.number))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.unitWeight))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.totalWeight))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.unitPrice))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.totalAmount))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.remark))])])}),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("总计")]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(t.info.orderNumber))]),a("td",{attrs:{colspan:"1"}}),a("td",{attrs:{colspan:"1"}},[t._v(t._s(t.info.totalWeight))]),a("td",{attrs:{colspan:"1"}}),a("td",{attrs:{colspan:"1"}},[t._v(t._s(t.info.totalAmount))]),a("td",{attrs:{colspan:"1"}})]),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("人民币大写")]),a("td",{attrs:{colspan:"6"}})]),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("1、交货日期")]),t._v("\n                            "+t._s(t.info.deliveryTime)+"   供方须严格按交期交货，如需调整日期，须及时知会本公司并经本公司批准，否则延误交货须扣除该批货款10%。\n                        ")])]),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("2、品质")]),t._v("供方所供产品，应完全依照本公司提供的图纸及相关标准制造，本公司将依照同一标准抽样检查，拒收未经技术管理中心确认的任何来货；\n                        ")])]),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("3、付款方式")]),t._v("\n                            "+t._s(t.info.payType)+"\n                        ")])]),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("4、付款条件")]),t._v("交货验收合格后，本公司于收到发票之日起60日内结清货款，每月25日以后交付货品拨归次月账项，\n                            "),a("br"),t._v("请于本月30日前将对账单快递至本公司采购部，逾期送单将延至次月对账；\n                        ")])]),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("5、")]),t._v("送货单须规范注明订单编号、产品名称、规格等，同时要注明欠货数量及补货日期；\n                        ")])]),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("6、送货时须附上相应的“机械性能报告”、“材质证明书”等相关证明；")]),t._v("2018-12-29\n                        ")])]),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("7、")]),t._v("如因来料品质不符或因交期延误，致使需方蒙受损失，责任全部由供方承担；\n                        ")])]),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("8、")]),t._v("以上计划价格仅供参考，如有疑义，则以合同金额为准。\n                        ")])]),a("tr",[a("td",{attrs:{colspan:"3"}},[t._v("供方确认:")]),a("td",{attrs:{colspan:"3"}},[t._v("批准：")]),a("td",{attrs:{colspan:"3"}},[t._v("审核：")]),a("td",{attrs:{colspan:"3"}},[t._v("经办：")])]),a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"3"}},[t._v("年    月    日")]),a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"3"}},[t._v("年    月    日")]),a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"3"}},[t._v("年    月    日")]),a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"3"}},[t._v("年    月    日")])])],2)])]),a("div",{staticClass:"layer-btns"},[a("btn",{attrs:{flat:"",color:"#008eff"},on:{click:function(s){t.layer=!1}}},[t._v("关闭")])],1)]):t._e()],1)},r=[],i=a("9b68"),n={name:"purchsemanage-entrust",components:{DataList:i["a"]},data:function(){return{natureList:["国有","三资","集体","联营","私营"],statusList:[{status:1,name:"待审批"},{status:2,name:"审批中"},{status:3,name:"采购中"},{status:4,name:"审批不通过"},{status:5,name:"采购完成"}],filter:{orderNo:"",status:0,createUserId:0},wreck:{orderNo:"",wreckAmount:0,wreckReason:""},completeLayer:!1,confirmLayer:!1,loading:!1,info:{},itemList:[],orderUrl:"",layer:!1}},created:function(){this.filter.createUserId=0},methods:{getInfo:function(t){var s=this;this.layer=!0,this.orderUrl="/haolifa/export/entrustOrder/"+t,this.info.id=t,this.$http.get("/haolifa/purchase-order/info/".concat(t)).then(function(t){s.info=t.order,s.itemList=t.items,s.info.operateTime=t.order.operateTime.substring(0,10),s.info.confirmTime=t.order.confirmTime.substring(0,10),s.info.createTime=t.order.createTime.substring(0,10),s.info.deliveryTime=t.order.deliveryTime.substring(0,10),s.info.updateTime=t.order.updateTime.substring(0,10),console.log("info",s.info),console.log("itemList",s.itemList)}).catch(function(t){s.$toast(t.msg)})},downloadOrder:function(t){var s=this;this.$http.get("/haolifa/export/purchaseOrder/".concat(t)).then(function(t){}).catch(function(t){s.$toast(t.msg)})},createInspect:function(t){var s=this;this.$http.get("/haolifa/purchase-order/createInspect/".concat(t)).then(function(t){console.log("报检单号",t),s.$confirm({title:"完善报检单",text:"现在去完善报检单？",color:"blue",btns:["稍后再说","现在完善"],yes:function(){s.$router.push("/applyBuy-material/edit?id=".concat(t))}})})},approveProgress:function(t){this.$router.push("/purchsemanage-entrust/approveProgress?formNo=".concat(t.purchaseOrderNo,"&formId=0"))},approve:function(t){var s=this;this.$confirm({title:"发起审批",text:"确定发起审批？",color:"blue",btns:["取消","确认"],yes:function(){s.$http.get("/haolifa/purchase-order/approve/".concat(t,"/1")).then(function(t){s.$toast("发起成功"),s.$refs.list.update()}).catch(function(t){s.$toast(t.msg||t.message)})}})},updatePurchase:function(t){this.$router.push("/purchsemanage-entrust/add?formId=".concat(t))},completePurchase:function(t){this.completeLayer=!0,this.wreck.orderNo=t},complete:function(){var t=this;this.$http.post("/haolifa/purchase-order/complete",this.wreck).then(function(s){t.completeLayer=!1,t.$refs.list.update(!0)}).catch(function(s){t.$toast(s.msg||s.message)})},deletePurchase:function(t){var s=this;this.$confirm({title:"删除确认",text:"您确定要删除该订单么？",color:"red",btns:["取消","删除"],yes:function(){s.$http.get("/haolifa/purchase-order/delete/".concat(t)).then(function(t){s.$toast("删除成功"),s.$refs.list.update()}).catch(function(t){s.$toast(t.msg)})}})}}},o=n,l=(a("aed2"),a("c46c")),c=Object(l["a"])(o,e,r,!1,null,null,null);c.options.__file="addList.vue";s["default"]=c.exports},"394a":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"abs scroll-y"},[a("div",{staticClass:"metalwork-info",staticStyle:{width:"100%",margin:"0 auto"}},[a("div",{staticClass:"b f-18 flex-v-center",staticStyle:{"margin-bottom":"20px"}},[a("icon-btn",{staticClass:"mr-15",on:{click:function(s){t.$router.back()}}},[t._v("arrow_back")]),a("div",{staticClass:"flex-item"},[t._v("审批进度")])],1),a("div",{staticStyle:{"min-width":"1200px"}},t._l(t.list,function(s,e){return a("div",{key:e,staticClass:"approve"},[a("p",[t._v(t._s(s.roleName))]),a("p",{class:4==s.auditResult?"button ccc":"button"},[t._v(t._s(s.stepName))]),e<t.list.length-1?a("span",[t._v("-----\x3e")]):t._e(),a("p",[t._v(t._s(t.status[s.auditResult]))]),s.child.length>0?a("div",{staticClass:"approve",staticStyle:{position:"absolute",top:"123px"}},[a("div",{staticClass:"height-line"}),a("div",{staticClass:"bottom-arrows"}),a("p",[t._v(t._s(s.child[0].roleName))]),a("p",{class:4==s.child[0].auditResult?"button ccc":"button"},[t._v(t._s(s.child[0].stepName))]),a("p",[t._v(t._s(t.status[s.child[0].auditResult]))]),a("div",{staticClass:"right-height-line"}),a("div",{staticClass:"top-arrows"})]):t._e()])}),0)])])},r=[],i={name:"purchsemanage-purchaseapproveProgress",data:function(){return{list:[],status:{0:"审核不通过",1:"审核通过",3:"流程初始化",4:"未审核"}}},created:function(){this.getInfo(this.$route.query.formNo,this.$route.query.formId)},methods:{getInfo:function(t,s){var a=this;console.log(t,s),this.$http.get("/haolifa/flowInstance/flow/progress?formNo=".concat(t,"&formId=").concat(s)).then(function(t){console.log(t),a.list=t}).catch(function(t){a.$toast(t.msg||t.message)})}}},n=i,o=(a("0c13"),a("c46c")),l=Object(o["a"])(n,e,r,!1,null,null,null);l.options.__file="approveProgress.vue";s["default"]=l.exports},4517:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"apply-buy-add"},[a("div",{staticClass:"content"},[a("div",{staticClass:"title b f-18 mb-10"},[t._v(t._s(t.isAdd?"编辑":"新增")+"采购订单")]),a("div",{staticClass:"flex"},[a("input-box",{staticClass:"flex-item",staticStyle:{"margin-right":"20px"},attrs:{label:"需方"},model:{value:t.form.demander,callback:function(s){t.$set(t.form,"demander",s)},expression:"form.demander"}}),a("input-box",{staticClass:"flex-item",staticStyle:{"margin-right":"20px"},attrs:{label:"需方地址"},model:{value:t.form.demanderAddr,callback:function(s){t.$set(t.form,"demanderAddr",s)},expression:"form.demanderAddr"}}),a("input-box",{staticClass:"flex-item",staticStyle:{"margin-right":"20px"},attrs:{label:"需方联系人"},model:{value:t.form.demanderLinkman,callback:function(s){t.$set(t.form,"demanderLinkman",s)},expression:"form.demanderLinkman"}}),a("input-box",{staticClass:"flex-item",staticStyle:{"margin-right":"20px"},attrs:{label:"需方联系电话"},model:{value:t.form.demanderPhone,callback:function(s){t.$set(t.form,"demanderPhone",s)},expression:"form.demanderPhone"}})],1),a("div",{staticClass:"flex"},[a("select-box",{staticStyle:{"margin-right":"20px",width:"240px"},attrs:{list:t.supplierList,label:"供应商"},on:{change:function(s){t.changeSupplier()}},model:{value:t.form.supplierNo,callback:function(s){t.$set(t.form,"supplierNo",s)},expression:"form.supplierNo"}}),a("input-box",{staticClass:"flex-item",staticStyle:{"margin-right":"20px"},attrs:{label:"供方地址"},model:{value:t.form.supplierAddr,callback:function(s){t.$set(t.form,"supplierAddr",s)},expression:"form.supplierAddr"}}),a("input-box",{staticClass:"flex-item",staticStyle:{"margin-right":"20px"},attrs:{label:"供方联系人"},model:{value:t.form.supplierLinkman,callback:function(s){t.$set(t.form,"supplierLinkman",s)},expression:"form.supplierLinkman"}}),a("input-box",{staticClass:"flex-item",staticStyle:{"margin-right":"20px"},attrs:{label:"供方联系电话"},model:{value:t.form.suppilerPhone,callback:function(s){t.$set(t.form,"suppilerPhone",s)},expression:"form.suppilerPhone"}}),a("input-box",{staticClass:"flex-item",staticStyle:{"margin-right":"20px"},attrs:{label:"供方确认人"},model:{value:t.form.supplierConfirmer,callback:function(s){t.$set(t.form,"supplierConfirmer",s)},expression:"form.supplierConfirmer"}})],1),a("div",{staticClass:"flex"},[a("date-picker",{staticClass:"flex-item",staticStyle:{"margin-right":"20px"},attrs:{label:"确认时间"},model:{value:t.form.confirmTime,callback:function(s){t.$set(t.form,"confirmTime",s)},expression:"form.confirmTime"}}),a("date-picker",{staticClass:"flex-item",staticStyle:{"margin-right":"20px"},attrs:{label:"交货时间"},model:{value:t.form.deliveryTime,callback:function(s){t.$set(t.form,"deliveryTime",s)},expression:"form.deliveryTime"}}),a("date-picker",{staticClass:"flex-item",staticStyle:{"margin-right":"20px"},attrs:{label:"经办时间"},model:{value:t.form.operateTime,callback:function(s){t.$set(t.form,"operateTime",s)},expression:"form.operateTime"}}),a("input-box",{staticClass:"flex-item",staticStyle:{"margin-right":"20px"},attrs:{label:"经办人"},model:{value:t.form.operatorUserName,callback:function(s){t.$set(t.form,"operatorUserName",s)},expression:"form.operatorUserName"}})],1),a("div",{staticClass:"flex"},[a("input-box",{staticClass:"flex-item",attrs:{label:"采购合同编号"},model:{value:t.form.orderNo,callback:function(s){t.$set(t.form,"orderNo",s)},expression:"form.orderNo"}}),a("input-box",{staticClass:"flex-item",attrs:{label:"付款方式"},model:{value:t.form.payType,callback:function(s){t.$set(t.form,"payType",s)},expression:"form.payType"}})],1),a("div",{staticClass:"b",staticStyle:{margin:"20px 0 10px"}},[t._v("采购物料项")]),t._l(t.form.itemList,function(s,e){return a("div",{key:e,staticClass:"card flex",staticStyle:{"margin-top":"0"}},[a("div",{staticClass:"flex-item"},[a("div",{staticClass:"flex"},[a("input-box",{staticClass:"flex-item mr-10",attrs:{label:"物料名称"},model:{value:s.materialName,callback:function(a){t.$set(s,"materialName",a)},expression:"item.materialName"}}),a("input-box",{staticClass:"flex-item mr-10",attrs:{label:"物料图号"},model:{value:s.materialGraphNo,callback:function(a){t.$set(s,"materialGraphNo",a)},expression:"item.materialGraphNo"}}),a("input-box",{staticClass:"mr-10",attrs:{type:"number",label:"数量"},model:{value:s.number,callback:function(a){t.$set(s,"number",a)},expression:"item.number"}}),a("input-box",{staticClass:"flex-item mr-10",attrs:{label:"单位"},model:{value:s.unit,callback:function(a){t.$set(s,"unit",a)},expression:"item.unit"}})],1),a("div",{staticClass:"flex"},[a("input-box",{staticClass:"flex-item mr-10",attrs:{label:"材质"},model:{value:s.material,callback:function(a){t.$set(s,"material",a)},expression:"item.material"}}),a("input-box",{staticClass:"flex-item mr-10",attrs:{label:"规格"},model:{value:s.specification,callback:function(a){t.$set(s,"specification",a)},expression:"item.specification"}}),a("input-box",{staticClass:"mr-10",attrs:{type:"number",label:"单价"},model:{value:s.unitPrice,callback:function(a){t.$set(s,"unitPrice",a)},expression:"item.unitPrice"}}),a("input-box",{staticClass:"mr-10",attrs:{type:"number",label:"单重"},model:{value:s.unitWeight,callback:function(a){t.$set(s,"unitWeight",a)},expression:"item.unitWeight"}})],1),a("div",{staticClass:"flex"},[a("input-box",{staticClass:"flex-item",attrs:{label:"备注"},model:{value:s.remark,callback:function(a){t.$set(s,"remark",a)},expression:"item.remark"}})],1)]),t.form.itemList.length>1?a("div",[a("icon-btn",{attrs:{small:""},on:{click:function(s){t.form.itemList.splice(e,1)}}},[t._v("close")])],1):t._e()])}),a("div",{staticClass:"card a flex-center",on:{click:function(s){t.addItem()}}},[t._m(0)]),a("div",{staticClass:"flex"},[a("btn",{staticClass:"mr-20",attrs:{big:""},on:{click:function(s){t.submit()}}},[t._v("提交")]),a("btn",{attrs:{big:"",flat:""},on:{click:function(s){t.$router.back()}}},[t._v("取消")])],1)],2)])},r=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"flex-v-center"},[a("i",{staticClass:"icon mr-10"},[t._v("add")]),a("span",[t._v("添加采购物料项")])])}],i=(a("3f87"),{name:"purchsemanage-purchaseadd",data:function(){return{supplierInfoList:[],supplierList:[],form:{id:null,confirmTime:"",deliveryTime:"",demander:"山西好利阀机械制造有限公司",demanderAddr:"山西省侯马经济开发区旺旺北支路东侧",demanderLinkman:"",demanderPhone:"",operateTime:"",operatorUserName:"",orderNo:"",suppilerPhone:"",supplierAddr:"",supplierConfirmer:"",supplierLinkman:"",supplierName:"",supplierNo:"",payType:"",itemList:[{id:"",material:"",materialGraphNo:"",materialName:"",number:0,remark:"",specification:"",unit:"",unitPrice:0,unitWeight:0}]},isAdd:!0}},mounted:function(){var t=this,s=this.$route.query.formId;this.form.id=s,this.$http.get("/haolifa/supplier/list-all/").then(function(s){t.supplierList=s.map(function(t){return{value:t.suppilerNo,text:t.suppilerName}}),t.supplierInfoList=s}),s&&(this.isAdd=!1,this.$http.get("/haolifa/purchase-order/info/"+s).then(function(s){t.form.id=s.order.id,t.form.demander=s.order.demander,t.form.demanderAddr=s.order.demanderAddr,t.form.demanderLinkman=s.order.demanderLinkman,t.form.demanderPhone=s.order.demanderPhone,t.form.operatorUserName=s.order.operatorUserName,t.form.suppilerPhone=s.order.suppilerPhone,t.form.supplierAddr=s.order.supplierAddr,t.form.supplierConfirmer=s.order.supplierConfirmer,t.form.supplierLinkman=s.order.supplierLinkman,t.form.supplierName=s.order.supplierName,t.form.supplierNo=s.order.supplierNo,t.form.payType=s.order.payType,t.form.orderNo=s.order.purchaseOrderNo,t.form.confirmTime=s.order.confirmTime.substring(0,10),t.form.deliveryTime=s.order.deliveryTime.substring(0,10),t.form.operateTime=s.order.operateTime.substring(0,10),t.form.itemList=s.items.map(function(t){return{id:t.id,material:t.material,materialGraphNo:t.materialGraphNo,materialName:t.materialName,number:t.number,remark:t.remark,specification:t.specification,unit:t.unit,unitPrice:t.unitPrice,unitWeight:t.unitWeight}})}))},methods:{changeSupplier:function(){var t=this;console.log(this.form.supplierNo),this.supplierInfoList.forEach(function(s,a){s.suppilerNo==t.form.supplierNo&&(t.form.suppilerPhone=s.phone,t.form.supplierAddr=s.address,t.form.supplierLinkman=s.responsiblePerson,t.form.supplierName=s.suppilerName)})},addItem:function(){this.form.itemList.push({id:"",material:"",materialGraphNo:"",materialName:"",number:0,remark:"",specification:"",unit:"",unitPrice:0,unitWeight:0}),this.$forceUpdate(),console.log(this.form.itemList)},submit:function(){var t=this,s={materialName:"物料名称",materialGraphNo:"物料图号",number:"数量",material:"材质",specification:"规格",unit:"单位",unitPrice:"单价",unitWeight:"单重"},a=!0;this.form.itemList.forEach(function(e,r){for(var i in e)s[i]&&!e[i]&&(t.$toast("请填写第 ".concat(r+1," 项 ").concat(s[i])),a=!1)}),a&&(console.log(this.form),this.$http.post(this.isAdd?"/haolifa/purchase-order/save/0":"/haolifa/purchase-order/update",this.form).then(function(s){t.$toast(t.isAdd?"创建成功":"更新成功"),t.$router.push("/purchsemanage-purchase/addList")}).catch(function(s){t.$toast(s.message||s.msg)}))}}}),n=i,o=(a("0324"),a("c46c")),l=Object(o["a"])(n,e,r,!1,null,null,null);l.options.__file="add.vue";s["default"]=l.exports},"4a2e":function(t,s,a){"use strict";var e=a("5716"),r=a.n(e);r.a},"4f0e":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"page-supplier-info abs scroll-y"},[a("div",{staticClass:"form-content"},[a("div",{staticClass:"b f-18 flex-v-center",staticStyle:{"margin-bottom":"20px"}},[a("icon-btn",{staticClass:"mr-15",on:{click:function(s){t.$router.back()}}},[t._v("arrow_back")]),a("div",{staticClass:"flex-item"},[t._v("订单详情")]),a("div",{staticClass:"flex-item ml-20"},[a("a",{staticClass:"a",staticStyle:{color:"#008eff"},attrs:{flat:"",href:t.orderUrl}},[t._v("合同下载")])])],1),a("table",{staticClass:"f-14"},[t._m(0),t._m(1),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("订单号："+t._s(t.info.purchaseOrderNo))]),a("td",{attrs:{colspan:"6"}},[t._v("下单日期："+t._s(t.info.createTime))])]),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("供方："+t._s(t.info.supplierName))]),a("td",{attrs:{colspan:"6"}},[t._v("需方："+t._s(t.info.demander))])]),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("联系人："+t._s(t.info.supplierLinkman))]),a("td",{attrs:{colspan:"6"}},[t._v("联系人："+t._s(t.info.demanderLinkman))])]),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("联系电话："+t._s(t.info.suppilerPhone))]),a("td",{attrs:{colspan:"6"}},[t._v("联系电话："+t._s(t.info.demanderPhone))])]),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("供方地址："+t._s(t.info.suppilerAddr))]),a("td",{attrs:{colspan:"6"}},[t._v("需方地址："+t._s(t.info.demanderAddr))])]),t._m(2),t._m(3),t._l(t.itemList,function(s,e){return a("tr",{key:s.id},[a("td",{attrs:{colspan:"1"}},[t._v(t._s(e))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.materialName))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.materialGraphNo))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.specification))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.material))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.unit))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.number))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.unitWeight))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.totalWeight))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.unitPrice))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.totalAmount))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.remark))])])}),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("总计")]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(t.info.orderNumber))]),a("td",{attrs:{colspan:"1"}}),a("td",{attrs:{colspan:"1"}},[t._v(t._s(t.info.totalWeight))]),a("td",{attrs:{colspan:"1"}}),a("td",{attrs:{colspan:"1"}},[t._v(t._s(t.info.totalAmount))]),a("td",{attrs:{colspan:"1"}})]),t._m(4),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("1、交货日期")]),t._v(t._s(t.info.deliveryTime)+"   供方须严格按交期交货，如需调整日期，须及时知会本公司并经本公司批准，否则延误交货须扣除该批货款10%。")])]),t._m(5),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("3、付款方式")]),t._v(t._s(t.info.payType))])]),t._m(6),t._m(7),t._m(8),t._m(9),t._m(10),t._m(11),t._m(12)],2)])])},r=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("tr",[a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("tr",[a("td",{staticClass:"b",attrs:{colspan:"12"}},[t._v("机加工订单")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("tr",[a("td",{attrs:{colspan:"12"}},[t._v("兹向贵公司订购以下货品（如下表所列），请于24小时内签字回传！")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("tr",[a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("序号")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("产品名称")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("图号")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("规格")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("材质")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("单位")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("数量")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("单重")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("总重")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("单价")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("金额")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("备注")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("人民币大写")]),a("td",{attrs:{colspan:"6"}})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("2、品质")]),t._v("供方所供产品，应完全依照本公司提供的图纸及相关标准制造，本公司将依照同一标准抽样检查，拒收未经技术管理中心确认的任何来货；")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("4、付款条件")]),t._v("交货验收合格后，本公司于收到发票之日起60日内结清货款，每月25日以后交付货品拨归次月账项，"),a("br"),t._v("请于本月30日前将对账单快递至本公司采购部，逾期送单将延至次月对账；")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("5、")]),t._v("送货单须规范注明订单编号、产品名称、规格等，同时要注明欠货数量及补货日期；")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("6、送货时须附上相应的“机械性能报告”、“材质证明书”等相关证明；")]),t._v("2018-12-29")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("7、")]),t._v("如因来料品质不符或因交期延误，致使需方蒙受损失，责任全部由供方承担；")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("8、")]),t._v("以上计划价格仅供参考，如有疑义，则以合同金额为准。")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("tr",[a("td",{attrs:{colspan:"3"}},[t._v("供方确认:")]),a("td",{attrs:{colspan:"3"}},[t._v("批准：")]),a("td",{attrs:{colspan:"3"}},[t._v("审核：")]),a("td",{attrs:{colspan:"3"}},[t._v("经办：")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"3"}},[t._v("年    月    日")]),a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"3"}},[t._v("年    月    日")]),a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"3"}},[t._v("年    月    日")]),a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"3"}},[t._v("年    月    日")])])}],i={name:"purchsemanage-purchaseinfo",data:function(){return{loading:!1,info:{},itemList:[],orderUrl:""}},created:function(){this.getInfo()},methods:{getInfo:function(){var t=this,s=this.$route.query.formId;this.orderUrl="/haolifa/export/entrustOrder/"+s,console.log(s),this.info.id=s,this.$http.get("/haolifa/purchase-order/info/".concat(s)).then(function(s){t.info=s.order,t.itemList=s.items,t.info.operateTime=s.order.operateTime.substring(0,10),t.info.confirmTime=s.order.confirmTime.substring(0,10),t.info.createTime=s.order.createTime.substring(0,10),t.info.deliveryTime=s.order.deliveryTime.substring(0,10),t.info.updateTime=s.order.updateTime.substring(0,10),console.log("info",t.info),console.log("itemList",t.itemList)}).catch(function(s){t.$toast(s.msg)})},downloadOrder:function(t){var s=this;this.$http.get("/haolifa/export/purchaseOrder/".concat(t)).then(function(t){}).catch(function(t){s.$toast(t.msg)})}}},n=i,o=(a("0d14"),a("c46c")),l=Object(o["a"])(n,e,r,!1,null,null,null);l.options.__file="info.vue";s["default"]=l.exports},5202:function(t,s,a){},5716:function(t,s,a){},"576b":function(t,s,a){"use strict";var e=a("d2cb"),r=a.n(e);r.a},6640:function(t,s,a){},"6a32":function(t,s,a){},7441:function(t,s,a){},7746:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"apply-buy-add"},[a("div",{staticClass:"content"},[a("div",{staticClass:"title b f-18 mb-10"},[t._v(t._s(t.isAdd?"编辑":"新增")+"机加工订单")]),a("div",{staticClass:"flex"},[a("input-box",{staticClass:"flex-item",staticStyle:{"margin-right":"20px"},attrs:{label:"需方"},model:{value:t.form.demander,callback:function(s){t.$set(t.form,"demander",s)},expression:"form.demander"}}),a("input-box",{staticClass:"flex-item",staticStyle:{"margin-right":"20px"},attrs:{label:"需方地址"},model:{value:t.form.demanderAddr,callback:function(s){t.$set(t.form,"demanderAddr",s)},expression:"form.demanderAddr"}}),a("input-box",{staticClass:"flex-item",staticStyle:{"margin-right":"20px"},attrs:{label:"需方联系人"},model:{value:t.form.demanderLinkman,callback:function(s){t.$set(t.form,"demanderLinkman",s)},expression:"form.demanderLinkman"}}),a("input-box",{staticClass:"flex-item",staticStyle:{"margin-right":"20px"},attrs:{label:"需方联系电话"},model:{value:t.form.demanderPhone,callback:function(s){t.$set(t.form,"demanderPhone",s)},expression:"form.demanderPhone"}})],1),a("div",{staticClass:"flex"},[a("select-box",{staticStyle:{"margin-right":"20px",width:"240px"},attrs:{list:t.supplierList,label:"供应商"},on:{change:function(s){t.changeSupplier()}},model:{value:t.form.supplierNo,callback:function(s){t.$set(t.form,"supplierNo",s)},expression:"form.supplierNo"}}),a("input-box",{staticClass:"flex-item",staticStyle:{"margin-right":"20px"},attrs:{label:"供方地址"},model:{value:t.form.supplierAddr,callback:function(s){t.$set(t.form,"supplierAddr",s)},expression:"form.supplierAddr"}}),a("input-box",{staticClass:"flex-item",staticStyle:{"margin-right":"20px"},attrs:{label:"供方联系人"},model:{value:t.form.supplierLinkman,callback:function(s){t.$set(t.form,"supplierLinkman",s)},expression:"form.supplierLinkman"}}),a("input-box",{staticClass:"flex-item",staticStyle:{"margin-right":"20px"},attrs:{label:"供方联系电话"},model:{value:t.form.suppilerPhone,callback:function(s){t.$set(t.form,"suppilerPhone",s)},expression:"form.suppilerPhone"}}),a("input-box",{staticClass:"flex-item",staticStyle:{"margin-right":"20px"},attrs:{label:"供方确认人"},model:{value:t.form.supplierConfirmer,callback:function(s){t.$set(t.form,"supplierConfirmer",s)},expression:"form.supplierConfirmer"}})],1),a("div",{staticClass:"flex"},[a("date-picker",{staticClass:"flex-item",staticStyle:{"margin-right":"20px"},attrs:{label:"确认时间"},model:{value:t.form.confirmTime,callback:function(s){t.$set(t.form,"confirmTime",s)},expression:"form.confirmTime"}}),a("date-picker",{staticClass:"flex-item",staticStyle:{"margin-right":"20px"},attrs:{label:"交货时间"},model:{value:t.form.deliveryTime,callback:function(s){t.$set(t.form,"deliveryTime",s)},expression:"form.deliveryTime"}}),a("date-picker",{staticClass:"flex-item",staticStyle:{"margin-right":"20px"},attrs:{label:"经办时间"},model:{value:t.form.operateTime,callback:function(s){t.$set(t.form,"operateTime",s)},expression:"form.operateTime"}}),a("input-box",{staticClass:"flex-item",staticStyle:{"margin-right":"20px"},attrs:{label:"经办人"},model:{value:t.form.operatorUserName,callback:function(s){t.$set(t.form,"operatorUserName",s)},expression:"form.operatorUserName"}})],1),a("div",{staticClass:"flex"},[a("input-box",{staticClass:"flex-item",attrs:{label:"加工合同编号"},model:{value:t.form.orderNo,callback:function(s){t.$set(t.form,"orderNo",s)},expression:"form.orderNo"}}),a("input-box",{staticClass:"flex-item",attrs:{label:"付款方式"},model:{value:t.form.payType,callback:function(s){t.$set(t.form,"payType",s)},expression:"form.payType"}})],1),a("div",{staticClass:"b",staticStyle:{margin:"20px 0 10px"}},[t._v("加工物料项")]),t._l(t.form.itemList,function(s,e){return a("div",{key:e,staticClass:"card flex",staticStyle:{"margin-top":"0"}},[a("div",{staticClass:"flex-item"},[a("div",{staticClass:"flex"},[a("input-box",{staticClass:"flex-item mr-10",attrs:{label:"物料名称"},model:{value:s.materialName,callback:function(a){t.$set(s,"materialName",a)},expression:"item.materialName"}}),a("input-box",{staticClass:"flex-item mr-10",attrs:{label:"物料图号"},model:{value:s.materialGraphNo,callback:function(a){t.$set(s,"materialGraphNo",a)},expression:"item.materialGraphNo"}}),a("input-box",{staticClass:"mr-10",attrs:{type:"number",label:"数量"},model:{value:s.number,callback:function(a){t.$set(s,"number",a)},expression:"item.number"}}),a("input-box",{staticClass:"flex-item mr-10",attrs:{label:"单位"},model:{value:s.unit,callback:function(a){t.$set(s,"unit",a)},expression:"item.unit"}})],1),a("div",{staticClass:"flex"},[a("input-box",{staticClass:"flex-item mr-10",attrs:{label:"材质"},model:{value:s.material,callback:function(a){t.$set(s,"material",a)},expression:"item.material"}}),a("input-box",{staticClass:"flex-item mr-10",attrs:{label:"规格"},model:{value:s.specification,callback:function(a){t.$set(s,"specification",a)},expression:"item.specification"}}),a("input-box",{staticClass:"mr-10",attrs:{type:"number",label:"单价"},model:{value:s.unitPrice,callback:function(a){t.$set(s,"unitPrice",a)},expression:"item.unitPrice"}}),a("input-box",{staticClass:"mr-10",attrs:{type:"number",label:"单重"},model:{value:s.unitWeight,callback:function(a){t.$set(s,"unitWeight",a)},expression:"item.unitWeight"}})],1),a("div",{staticClass:"flex"},[a("input-box",{staticClass:"flex-item",attrs:{label:"备注"},model:{value:s.remark,callback:function(a){t.$set(s,"remark",a)},expression:"item.remark"}})],1)]),t.form.itemList.length>1?a("div",[a("icon-btn",{attrs:{small:""},on:{click:function(s){t.form.itemList.splice(e,1)}}},[t._v("close")])],1):t._e()])}),a("div",{staticClass:"card a flex-center",on:{click:function(s){t.addItem()}}},[t._m(0)]),a("div",{staticClass:"flex"},[a("btn",{staticClass:"mr-20",attrs:{big:""},on:{click:function(s){t.submit()}}},[t._v("提交")]),a("btn",{attrs:{big:"",flat:""},on:{click:function(s){t.$router.back()}}},[t._v("取消")])],1)],2)])},r=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"flex-v-center"},[a("i",{staticClass:"icon mr-10"},[t._v("add")]),a("span",[t._v("添加机加工物料项")])])}],i=(a("3f87"),{name:"purchsemanage-entrustadd",data:function(){return{supplierInfoList:[],supplierList:[],form:{id:null,confirmTime:"",deliveryTime:"",demander:"山西好利阀机械制造有限公司",demanderAddr:"山西省侯马经济开发区旺旺北支路东侧",demanderLinkman:"",demanderPhone:"",operateTime:"",operatorUserName:"",orderNo:"",suppilerPhone:"",supplierAddr:"",supplierConfirmer:"",supplierLinkman:"",supplierName:"",supplierNo:"",payType:"",itemList:[{id:"",material:"",materialGraphNo:"",materialName:"",number:0,remark:"",specification:"",unit:"",unitPrice:0,unitWeight:0}]},isAdd:!0}},mounted:function(){var t=this,s=this.$route.query.formId;this.form.id=s,this.$http.get("/haolifa/supplier/list-all/").then(function(s){t.supplierList=s.map(function(t){return{value:t.suppilerNo,text:t.suppilerName}}),t.supplierInfoList=s}),s&&(this.isAdd=!1,this.$http.get("/haolifa/purchase-order/info/"+s).then(function(s){t.form.id=s.order.id,t.form.demander=s.order.demander,t.form.demanderAddr=s.order.demanderAddr,t.form.demanderLinkman=s.order.demanderLinkman,t.form.demanderPhone=s.order.demanderPhone,t.form.operatorUserName=s.order.operatorUserName,t.form.suppilerPhone=s.order.suppilerPhone,t.form.supplierAddr=s.order.supplierAddr,t.form.supplierConfirmer=s.order.supplierConfirmer,t.form.supplierLinkman=s.order.supplierLinkman,t.form.supplierName=s.order.supplierName,t.form.supplierNo=s.order.supplierNo,t.form.payType=s.order.payType,t.form.orderNo=s.order.purchaseOrderNo,t.form.confirmTime=s.order.confirmTime.substring(0,10),t.form.deliveryTime=s.order.deliveryTime.substring(0,10),t.form.operateTime=s.order.operateTime.substring(0,10),t.form.itemList=s.items.map(function(t){return{id:t.id,material:t.material,materialGraphNo:t.materialGraphNo,materialName:t.materialName,number:t.number,remark:t.remark,specification:t.specification,unit:t.unit,unitPrice:t.unitPrice,unitWeight:t.unitWeight}})}))},methods:{changeSupplier:function(){var t=this;console.log(this.form.supplierNo),this.supplierInfoList.forEach(function(s,a){s.suppilerNo==t.form.supplierNo&&(t.form.suppilerPhone=s.phone,t.form.supplierAddr=s.address,t.form.supplierLinkman=s.responsiblePerson,t.form.supplierName=s.suppilerName)})},addItem:function(){this.form.itemList.push({id:"",material:"",materialGraphNo:"",materialName:"",number:0,remark:"",specification:"",unit:"",unitPrice:0,unitWeight:0}),this.$forceUpdate(),console.log(this.form.itemList)},submit:function(){var t=this,s={materialName:"物料名称",materialGraphNo:"物料图号",number:"数量",material:"材质",specification:"规格",unit:"单位",unitPrice:"单价",unitWeight:"单重"},a=!0;this.form.itemList.forEach(function(e,r){for(var i in e)s[i]&&!e[i]&&(t.$toast("请填写第 ".concat(r+1," 项 ").concat(s[i])),a=!1)}),a&&(console.log(this.form),this.$http.post(this.isAdd?"/haolifa/purchase-order/save/1":"/haolifa/purchase-order/update",this.form).then(function(s){t.$toast(t.isAdd?"创建成功":"更新成功"),t.$router.push("/purchsemanage-entrust/addList")}).catch(function(s){t.$toast(s.message||s.msg)}))}}}),n=i,o=(a("576b"),a("c46c")),l=Object(o["a"])(n,e,r,!1,null,null,null);l.options.__file="add.vue";s["default"]=l.exports},"8a77":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"purchaseadd flex-col"},[a("div",{staticClass:"flex-v-center tool-bar"},[a("div",{staticClass:"flex-v-center search-bar",staticStyle:{"margin-right":"20px"}},[a("i",{staticClass:"icon f-20 c-8"},[t._v("search")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.orderNo,expression:"filter.orderNo"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"机加工合同号"},domProps:{value:t.filter.orderNo},on:{change:function(s){t.$refs.list.update(!0)},input:function(s){s.target.composing||t.$set(t.filter,"orderNo",s.target.value)}}}),a("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.status,expression:"filter.status"}],staticClass:"f-14",on:{change:[function(s){var a=Array.prototype.filter.call(s.target.options,function(t){return t.selected}).map(function(t){var s="_value"in t?t._value:t.value;return s});t.$set(t.filter,"status",s.target.multiple?a:a[0])},function(s){t.$refs.list.update(!0)}]}},[a("option",{attrs:{value:"0"}},[t._v("合同状态")]),t._l(t.statusList,function(s){return a("option",{key:s.id,domProps:{value:s.status}},[t._v(t._s(s.name))])})],2),a("i",{staticClass:"icon",staticStyle:{"margin-left":"-20px","pointer-events":"none"}},[t._v("arrow_drop_down")])]),a("div",{staticClass:"flex-item"})]),a("div",{staticClass:"flex-item scroll-y"},[a("data-list",{ref:"list",attrs:{method:"get","page-size":10,param:t.filter,url:"/haolifa/purchase-order/list/1"},scopedSlots:t._u([{key:"item",fn:function(s){var e=s.item,r=s.index;return[a("td",[t._v(t._s(r))]),a("td",[t._v(t._s(e.purchaseOrderNo))]),a("td",[t._v(t._s(e.supplierName))]),a("td",[t._v(t._s(e.deliveryTime))]),a("td",[t._v(t._s(t.statusList[e.status-1].name))]),a("td",[t._v(t._s(e.createUserId))]),a("td",[t._v(t._s(e.createTime))]),a("td",{staticClass:"t-right"},[a("a",{staticClass:"blue",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(s){t.getInfo(e.id)}}},[t._v("查看")])])]}}])},[a("tr",{attrs:{slot:"header"},slot:"header"},[a("th",{staticStyle:{width:"60px"}},[t._v("序号")]),a("th",[t._v("机加工合同号")]),a("th",[t._v("供方单位")]),a("th",[t._v("加工完成日期")]),a("th",[t._v("订单状态")]),a("th",[t._v("创建人")]),a("th",[t._v("创建日期")]),a("th",{staticClass:"t-right",staticStyle:{width:"80px"}},[t._v("操作")])])])],1),t.completeLayer?a("layer",{attrs:{title:"订单折损",width:"450px"}},[a("div",{staticClass:"flex"},[a("input-box",{staticClass:"flex-item mr-20",attrs:{label:"折损金额"},model:{value:t.wreck.wreckAmount,callback:function(s){t.$set(t.wreck,"wreckAmount",s)},expression:"wreck.wreckAmount"}}),a("input-box",{staticClass:"flex-item mr-20",attrs:{label:"折损原因"},model:{value:t.wreck.wreckReason,callback:function(s){t.$set(t.wreck,"wreckReason",s)},expression:"wreck.wreckReason"}})],1),a("div",{staticClass:"layer-btns"},[a("btn",{attrs:{flat:""},on:{click:function(s){t.completeLayer=!1}}},[t._v("取消")]),a("btn",{attrs:{flat:"",color:"#008eff"},on:{click:function(s){t.complete()}}},[t._v("保存")])],1)]):t._e(),t.layer?a("layer",{attrs:{title:"详情",width:"70%"}},[a("div",{staticClass:"layer-text",staticStyle:{"padding-bottom":"50px"}},[a("div",{staticClass:"form-content metalwork-info"},[a("table",{staticClass:"f-14"},[a("tr",[a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}})]),a("tr",[a("td",{staticClass:"b",attrs:{colspan:"6"}},[t._v("机加工订单")]),a("td",{staticClass:"b",attrs:{colspan:"6"}},[a("a",{staticClass:"a",staticStyle:{color:"#008eff"},attrs:{flat:"",href:t.orderUrl}},[t._v("合同下载")])])]),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("订单号："+t._s(t.info.purchaseOrderNo))]),a("td",{attrs:{colspan:"6"}},[t._v("下单日期："+t._s(t.info.createTime))])]),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("供方："+t._s(t.info.supplierName))]),a("td",{attrs:{colspan:"6"}},[t._v("需方："+t._s(t.info.demander))])]),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("联系人："+t._s(t.info.supplierLinkman))]),a("td",{attrs:{colspan:"6"}},[t._v("联系人："+t._s(t.info.demanderLinkman))])]),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("联系电话："+t._s(t.info.suppilerPhone))]),a("td",{attrs:{colspan:"6"}},[t._v("联系电话："+t._s(t.info.demanderPhone))])]),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("供方地址："+t._s(t.info.suppilerAddr))]),a("td",{attrs:{colspan:"6"}},[t._v("需方地址："+t._s(t.info.demanderAddr))])]),a("tr",[a("td",{attrs:{colspan:"12"}},[t._v("兹向贵公司订购以下货品（如下表所列），请于24小时内签字回传！")])]),a("tr",[a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("序号")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("产品名称")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("图号")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("规格")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("材质")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("单位")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("数量")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("单重")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("总重")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("单价")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("金额")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("备注")])]),t._l(t.itemList,function(s,e){return a("tr",{key:s.id},[a("td",{attrs:{colspan:"1"}},[t._v(t._s(e))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.materialName))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.materialGraphNo))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.specification))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.material))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.unit))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.number))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.unitWeight))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.totalWeight))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.unitPrice))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.totalAmount))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.remark))])])}),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("总计")]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(t.info.orderNumber))]),a("td",{attrs:{colspan:"1"}}),a("td",{attrs:{colspan:"1"}},[t._v(t._s(t.info.totalWeight))]),a("td",{attrs:{colspan:"1"}}),a("td",{attrs:{colspan:"1"}},[t._v(t._s(t.info.totalAmount))]),a("td",{attrs:{colspan:"1"}})]),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("人民币大写")]),a("td",{attrs:{colspan:"6"}})]),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("1、交货日期")]),t._v("\n                            "+t._s(t.info.deliveryTime)+"   供方须严格按交期交货，如需调整日期，须及时知会本公司并经本公司批准，否则延误交货须扣除该批货款10%。\n                        ")])]),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("2、品质")]),t._v("供方所供产品，应完全依照本公司提供的图纸及相关标准制造，本公司将依照同一标准抽样检查，拒收未经技术管理中心确认的任何来货；\n                        ")])]),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("3、付款方式")]),t._v("\n                            "+t._s(t.info.payType)+"\n                        ")])]),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("4、付款条件")]),t._v("交货验收合格后，本公司于收到发票之日起60日内结清货款，每月25日以后交付货品拨归次月账项，\n                            "),a("br"),t._v("请于本月30日前将对账单快递至本公司采购部，逾期送单将延至次月对账；\n                        ")])]),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("5、")]),t._v("送货单须规范注明订单编号、产品名称、规格等，同时要注明欠货数量及补货日期；\n                        ")])]),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("6、送货时须附上相应的“机械性能报告”、“材质证明书”等相关证明；")]),t._v("2018-12-29\n                        ")])]),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("7、")]),t._v("如因来料品质不符或因交期延误，致使需方蒙受损失，责任全部由供方承担；\n                        ")])]),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("8、")]),t._v("以上计划价格仅供参考，如有疑义，则以合同金额为准。\n                        ")])]),a("tr",[a("td",{attrs:{colspan:"3"}},[t._v("供方确认:")]),a("td",{attrs:{colspan:"3"}},[t._v("批准：")]),a("td",{attrs:{colspan:"3"}},[t._v("审核：")]),a("td",{attrs:{colspan:"3"}},[t._v("经办：")])]),a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"3"}},[t._v("年    月    日")]),a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"3"}},[t._v("年    月    日")]),a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"3"}},[t._v("年    月    日")]),a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"3"}},[t._v("年    月    日")])])],2)])]),a("div",{staticClass:"layer-btns"},[a("btn",{attrs:{flat:"",color:"#008eff"},on:{click:function(s){t.layer=!1}}},[t._v("关闭")])],1)]):t._e()],1)},r=[],i=(a("ff66"),a("ea23"),a("dbff"),a("9b68")),n={name:"purchsemanage-entrust",components:{DataList:i["a"]},data:function(){return{natureList:["国有","三资","集体","联营","私营"],statusList:[{status:1,name:"待审批"},{status:2,name:"审批中"},{status:3,name:"采购中"},{status:4,name:"审批不通过"},{status:5,name:"采购完成"}],filter:{orderNo:"",status:0,createUserId:0},wreck:{orderNo:"",wreckAmount:0,wreckReason:""},completeLayer:!1,confirmLayer:!1,loading:!1,info:{},itemList:[],orderUrl:"",layer:!1}},created:function(){this.filter.createUserId=0},methods:{getInfo:function(t){var s=this;this.layer=!0,this.orderUrl="/haolifa/export/entrustOrder/"+t,this.info.id=t,this.$http.get("/haolifa/purchase-order/info/".concat(t)).then(function(t){s.info=t.order,s.itemList=t.items,s.info.operateTime=t.order.operateTime.substring(0,10),s.info.confirmTime=t.order.confirmTime.substring(0,10),s.info.createTime=t.order.createTime.substring(0,10),s.info.deliveryTime=t.order.deliveryTime.substring(0,10),s.info.updateTime=t.order.updateTime.substring(0,10),console.log("info",s.info),console.log("itemList",s.itemList)}).catch(function(t){s.$toast(t.msg)})},downloadOrder:function(t){var s=this;this.$http.get("/haolifa/export/purchaseOrder/".concat(t)).then(function(t){}).catch(function(t){s.$toast(t.msg)})},createInspect:function(t){var s=this;this.$http.get("/haolifa/purchase-order/createInspect/".concat(t)).then(function(t){console.log("报检单号",t),s.$confirm({title:"完善报检单",text:"现在去完善报检单？",color:"blue",btns:["稍后再说","现在完善"],yes:function(){s.$router.push("/applyBuy-material/edit?id=".concat(t))}})})},approveProgress:function(t){this.$router.push("/purchsemanage-entrust/approveProgress?formNo=".concat(t.purchaseOrderNo,"&formId=0"))},approve:function(t){var s=this;this.$confirm({title:"发起审批",text:"确定发起审批？",color:"blue",btns:["取消","确认"],yes:function(){s.$http.get("/haolifa/purchase-order/approve/".concat(t,"/1")).then(function(t){s.$toast("发起成功"),s.$refs.list.update()}).catch(function(t){s.$toast(t.msg||t.message)})}})},updatePurchase:function(t){this.$router.push("/purchsemanage-entrust/add?formId=".concat(t))},completePurchase:function(t){this.completeLayer=!0,this.wreck.orderNo=t},complete:function(){var t=this;this.$http.post("/haolifa/purchase-order/complete",this.wreck).then(function(s){t.completeLayer=!1,t.$refs.list.update(!0)}).catch(function(s){t.$toast(s.msg||s.message)})},deletePurchase:function(t){var s=this;this.$confirm({title:"删除确认",text:"您确定要删除该订单么？",color:"red",btns:["取消","删除"],yes:function(){s.$http.get("/haolifa/purchase-order/delete/".concat(t)).then(function(t){s.$toast("删除成功"),s.$refs.list.update()}).catch(function(t){s.$toast(t.msg)})}})}}},o=n,l=(a("a05c"),a("c46c")),c=Object(l["a"])(o,e,r,!1,null,null,null);c.options.__file="index.vue";s["default"]=c.exports},"8aaf":function(t,s,a){},9086:function(t,s,a){"use strict";var e=a("bc26"),r=a.n(e);r.a},"916a":function(t,s,a){},"9b68":function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"data-list relative f-12"},[a("transition",{attrs:{name:"slide-y"}},[t.list.length?a("table",{staticClass:"data-table"},[t._t("header",[a("tr",[a("th",[t._v("表头1")]),a("th",[t._v("表头2")])])]),t._l(t.list,function(s,e){return a("tr",{key:s.id},[t._t("item",[a("td",[t._v("数据1")]),a("td",[t._v("数据2")])],{item:s,index:(t.pageNum-1)*t.pageSize+e+1})],2)})],2):t._e()]),a("div",{staticClass:"flex-v-center",staticStyle:{"margin-top":"10px"}},[t.list.length?a("pagination",{staticClass:"mr-20",attrs:{page:t.pageNum,size:t.pageSize,total:t.total},on:{change:t.getList}}):t._e(),t.total?a("span",{staticClass:"f-12 c-6"},[t._v("共 "+t._s(t.total)+" 条数据")]):t._e()],1),t.list.length||t.loading?t._e():a("div",{staticStyle:{"margin-top":"100px"}},[a("no-data")],1)],1)},r=[],i=a("f360"),n=a.n(i),o=(a("7378"),a("e862")),l=a.n(o);function c(t){return"?"+l()(t).map(function(s){return encodeURIComponent(s)+"="+encodeURIComponent(t[s])}).join("&")}var p={name:"data-list",props:{method:{type:String,default:"get"},url:{type:String,default:""},pageSize:{type:Number,default:20},param:{type:Object,default:function(){}},pageNumStr:{type:String,default:"pageNum"}},data:function(){return{pageNum:1,total:0,loading:!1,list:[]}},watch:{url:function(){this.update()},mehtod:function(){this.update()},pageSize:function(){this.update()},param:function(){this.update()}},created:function(){this.pageNum=this.$route.query.page||1,this.getList(this.pageNum)},methods:{getList:function(t){var s=this,a=this.method,e=this.url,r=this.pageSize,i=this.param;if(e){this.loading=!0;var o={pageSize:r};o[this.pageNumStr]=t;var l=n()(o,i),p="get"===a?e+c(l):e;this.$http[a](p,l).then(function(t){s.list=t.list||[],s.pageNum=t.pageNum;var a=s.$route.query;a.page=t.pageNum,s.$router.push({path:s.$route.path,query:a}),s.total=t.total,s.loading=!1}).catch(function(t){s.loading=!1,s.$toast(t.message||t.msg||t)})}},update:function(t){this.getList(t?1:this.pageNum)}}},d=p,u=(a("c8ea"),a("c46c")),m=Object(u["a"])(d,e,r,!1,null,null,null);m.options.__file="index.vue";s["a"]=m.exports},a05c:function(t,s,a){"use strict";var e=a("eaf4"),r=a.n(e);r.a},aed2:function(t,s,a){"use strict";var e=a("5202"),r=a.n(e);r.a},b3ad:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"abs scroll-y"},[a("div",{staticClass:"metalwork-info",staticStyle:{width:"100%",margin:"0 auto"}},[a("div",{staticClass:"b f-18 flex-v-center",staticStyle:{"margin-bottom":"20px"}},[a("icon-btn",{staticClass:"mr-15",on:{click:function(s){t.$router.back()}}},[t._v("arrow_back")]),a("div",{staticClass:"flex-item"},[t._v("审批进度")])],1),a("div",{staticStyle:{"min-width":"1200px"}},t._l(t.list,function(s,e){return a("div",{key:e,staticClass:"approve"},[a("p",[t._v(t._s(s.roleName))]),a("p",{class:4==s.auditResult?"button ccc":"button"},[t._v(t._s(s.stepName))]),e<t.list.length-1?a("span",[t._v("-----\x3e")]):t._e(),a("p",[t._v(t._s(t.status[s.auditResult]))]),s.child.length>0?a("div",{staticClass:"approve",staticStyle:{position:"absolute",top:"123px"}},[a("div",{staticClass:"height-line"}),a("div",{staticClass:"bottom-arrows"}),a("p",[t._v(t._s(s.child[0].roleName))]),a("p",{class:4==s.child[0].auditResult?"button ccc":"button"},[t._v(t._s(s.child[0].stepName))]),a("p",[t._v(t._s(t.status[s.child[0].auditResult]))]),a("div",{staticClass:"right-height-line"}),a("div",{staticClass:"top-arrows"})]):t._e()])}),0)])])},r=[],i=(a("ff66"),a("ea23"),a("dbff"),{name:"purchsemanage-entrustapproveProgress",data:function(){return{list:[],status:{0:"审核不通过",1:"审核通过",3:"流程初始化",4:"未审核"}}},created:function(){this.getInfo(this.$route.query.formNo,this.$route.query.formId)},methods:{getInfo:function(t,s){var a=this;console.log(t,s),this.$http.get("/haolifa/flowInstance/flow/progress?formNo=".concat(t,"&formId=").concat(s)).then(function(t){console.log(t),a.list=t}).catch(function(t){a.$toast(t.msg||t.message)})}}}),n=i,o=(a("4a2e"),a("c46c")),l=Object(o["a"])(n,e,r,!1,null,null,null);l.options.__file="approveProgress.vue";s["default"]=l.exports},b560:function(t,s,a){var e=a("3427"),r=a("7f8a"),i=a("f988");t.exports=function(t,s){var a=(r.Object||{})[t]||Object[t],n={};n[t]=s(a),e(e.S+e.F*i(function(){a(1)}),"Object",n)}},bc26:function(t,s,a){},bc4a:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"page-supplier-manage flex-col"},[t._m(0),a("div",{staticClass:"flex-item scroll-y"},[a("data-list",{ref:"list",attrs:{method:"post",pageSize:10,url:"/haolifa/supplier/list"},scopedSlots:t._u([{key:"item",fn:function(s){var e=s.item,r=s.index;return[a("td",[t._v(t._s(r))]),a("td",[a("router-link",{staticClass:"c-4",attrs:{to:"/supplier/"+e.id}},[t._v(t._s(e.suppilerName))])],1),a("td",[t._v(t._s(e.suppilerNo))]),a("td",[t._v(t._s(e.website))]),a("td",[t._v(t._s(t.natureList[e.nature]))]),a("td",[t._v(t._s(e.legalPerson))]),a("td",[t._v(t._s(e.phone))]),a("td",[t._v(t._s(t.isQualifiedStatusList[e.isQualified].text))]),a("td",{staticClass:"t-right"},[1==e.isQualified||2==e.isQualified?a("a",{staticClass:"blue",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(s){t.auditAccessoryInfo(e.suppilerNo)}}},[t._v("审批附件")]):t._e(),3==e.isQualified?a("a",{staticClass:"red",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(s){t.approving(e.suppilerNo)}}},[t._v("审批进度")]):t._e()])]}}])},[a("tr",{attrs:{slot:"header"},slot:"header"},[a("th",{staticStyle:{width:"60px"}},[t._v("序号")]),a("th",[t._v("企业名称")]),a("th",[t._v("编号")]),a("th",[t._v("网址")]),a("th",[t._v("企业性质")]),a("th",[t._v("法人")]),a("th",[t._v("电话")]),a("th",[t._v("是否合格")]),a("th",{staticClass:"t-right",staticStyle:{width:"80px"}},[t._v("操作")])])])],1)])},r=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"flex-v-center tool-bar"},[a("div",{staticClass:"flex-v-center search-bar",staticStyle:{"margin-right":"20px"}},[a("i",{staticClass:"icon f-20 c-8"},[t._v("search")]),a("input",{staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"供应商名称"}})]),a("div",{staticClass:"flex-item"})])}],i=(a("ff66"),a("ea23"),a("dbff"),a("9b68")),n={name:"page-supplier-manage",components:{DataList:i["a"]},data:function(){return{natureList:["国有","三资","集体","联营","私营"],isQualifiedStatusList:[{value:0,text:"待评定"},{value:1,text:"合格"},{value:2,text:"不合格"},{value:3,text:"评定中"}]}},methods:{auditAccessoryInfo:function(t){console.log("accessory-info",t),this.$router.push("/supplier/accessory-info?formNo=".concat(t))},approving:function(t){this.$router.push("/supplier/approveProgress?formNo=".concat(t,"&formId=0"))},approveSupplier:function(t){var s=this;this.$http.post("/haolifa/supplier/approve/".concat(t)).then(function(t){s.$refs.list.update(),s.$toast("成功发起")}).catch(function(t){s.$toast(t.msg||t.message)})},edit:function(t){this.$router.push("/supplier/edit?id=".concat(t.id))},remove:function(t){var s=this;this.$confirm({title:"删除确认",text:"您确定要删除以下供应商吗？<br><b>".concat(t.suppilerName,"</b>"),color:"red",btns:["取消","删除"],yes:function(){s.$http.get("/haolifa/supplier/delete?id=".concat(t.id)).then(function(t){s.$toast("删除成功"),s.$refs.list.update()}).catch(function(t){s.$toast(t.msg||t.message)})}})}}},o=n,l=(a("c8b8"),a("c46c")),c=Object(l["a"])(o,e,r,!1,null,null,null);c.options.__file="index.vue";s["default"]=c.exports},c17f:function(t,s,a){},c8b8:function(t,s,a){"use strict";var e=a("147b"),r=a.n(e);r.a},c8ea:function(t,s,a){"use strict";var e=a("6a32"),r=a.n(e);r.a},d2cb:function(t,s,a){},d651:function(t,s,a){"use strict";var e=a("6640"),r=a.n(e);r.a},e862:function(t,s,a){t.exports=a("f521")},eaf4:function(t,s,a){},ef03:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"purchaseadd flex-col"},[a("div",{staticClass:"flex-v-center tool-bar"},[a("div",{staticClass:"flex-v-center search-bar",staticStyle:{"margin-right":"20px"}},[a("i",{staticClass:"icon f-20 c-8"},[t._v("search")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.orderNo,expression:"filter.orderNo"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"采购合同号"},domProps:{value:t.filter.orderNo},on:{change:function(s){t.$refs.list.update(!0)},input:function(s){s.target.composing||t.$set(t.filter,"orderNo",s.target.value)}}}),a("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.status,expression:"filter.status"}],staticClass:"f-14",on:{change:[function(s){var a=Array.prototype.filter.call(s.target.options,function(t){return t.selected}).map(function(t){var s="_value"in t?t._value:t.value;return s});t.$set(t.filter,"status",s.target.multiple?a:a[0])},function(s){t.$refs.list.update(!0)}]}},[a("option",{attrs:{value:"0"}},[t._v("合同状态")]),t._l(t.statusList,function(s){return a("option",{key:s.id,domProps:{value:s.status}},[t._v(t._s(s.name))])})],2),a("i",{staticClass:"icon",staticStyle:{"margin-left":"-20px","pointer-events":"none"}},[t._v("arrow_drop_down")])]),a("div",{staticClass:"flex-item"})]),a("div",{staticClass:"flex-item scroll-y"},[a("data-list",{ref:"list",attrs:{method:"get","page-size":10,param:t.filter,url:"/haolifa/purchase-order/list/0"},scopedSlots:t._u([{key:"item",fn:function(s){var e=s.item,r=s.index;return[a("td",[t._v(t._s(r))]),a("td",[t._v(t._s(e.purchaseOrderNo))]),a("td",[t._v(t._s(e.supplierName))]),a("td",[t._v(t._s(e.deliveryTime))]),a("td",[t._v(t._s(t.statusList[e.status-1].name))]),a("td",[t._v(t._s(e.createUserId))]),a("td",[t._v(t._s(e.createTime))]),a("td",{staticClass:"t-right"},[a("a",{staticClass:"blue",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(s){t.getInfo(e.id)}}},[t._v("查看")]),2==e.status?a("a",{staticClass:"blue",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(s){t.approveProgress(e)}}},[t._v("审批进度")]):t._e()])]}}])},[a("tr",{attrs:{slot:"header"},slot:"header"},[a("th",{staticStyle:{width:"60px"}},[t._v("序号")]),a("th",[t._v("采购合同号")]),a("th",[t._v("供方单位")]),a("th",[t._v("采购完成日期")]),a("th",[t._v("订单状态")]),a("th",[t._v("创建人")]),a("th",[t._v("创建日期")]),a("th",{staticClass:"t-right",staticStyle:{width:"80px"}},[t._v("操作")])])])],1),t.completeLayer?a("layer",{attrs:{title:"订单折损",width:"450px"}},[a("div",{staticClass:"flex"},[a("input-box",{staticClass:"flex-item mr-20",attrs:{label:"折损金额"},model:{value:t.wreck.wreckAmount,callback:function(s){t.$set(t.wreck,"wreckAmount",s)},expression:"wreck.wreckAmount"}}),a("input-box",{staticClass:"flex-item mr-20",attrs:{label:"折损原因"},model:{value:t.wreck.wreckReason,callback:function(s){t.$set(t.wreck,"wreckReason",s)},expression:"wreck.wreckReason"}})],1),a("div",{staticClass:"layer-btns"},[a("btn",{attrs:{flat:""},on:{click:function(s){t.completeLayer=!1}}},[t._v("取消")]),a("btn",{attrs:{flat:"",color:"#008eff"},on:{click:function(s){t.complete()}}},[t._v("保存")])],1)]):t._e(),t.layer?a("layer",{attrs:{title:"详情",width:"70%"}},[a("div",{staticClass:"layer-text",staticStyle:{"padding-bottom":"50px"}},[a("div",{staticClass:"form-content metalwork-info"},[a("table",{staticClass:"f-14"},[a("tr",[a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}})]),a("tr",[a("td",{staticClass:"b",attrs:{colspan:"6"}},[t._v("采购订单")]),a("td",{staticClass:"b",attrs:{colspan:"6"}},[a("a",{staticClass:"a",staticStyle:{color:"#008eff","margin-right":"10px"},attrs:{flat:"",href:t.orderUrl}},[t._v("合同下载")])])]),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("订单号："+t._s(t.info.purchaseOrderNo))]),a("td",{attrs:{colspan:"6"}},[t._v("下单日期："+t._s(t.info.createTime))])]),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("供方："+t._s(t.info.supplierName))]),a("td",{attrs:{colspan:"6"}},[t._v("需方："+t._s(t.info.demander))])]),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("联系人："+t._s(t.info.supplierLinkman))]),a("td",{attrs:{colspan:"6"}},[t._v("联系人："+t._s(t.info.demanderLinkman))])]),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("联系电话："+t._s(t.info.suppilerPhone))]),a("td",{attrs:{colspan:"6"}},[t._v("联系电话："+t._s(t.info.demanderPhone))])]),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("供方地址："+t._s(t.info.suppilerAddr))]),a("td",{attrs:{colspan:"6"}},[t._v("需方地址："+t._s(t.info.demanderAddr))])]),a("tr",[a("td",{attrs:{colspan:"12"}},[t._v("兹向贵公司订购以下货品（如下表所列），请于24小时内签字回传！")])]),a("tr",[a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("序号")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("产品名称")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("图号")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("规格")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("材质")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("单位")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("数量")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("单重")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("总重")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("单价")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("金额")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("备注")])]),t._l(t.itemList,function(s,e){return a("tr",{key:s.id},[a("td",{attrs:{colspan:"1"}},[t._v(t._s(e))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.materialName))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.materialGraphNo))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.specification))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.material))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.unit))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.number))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.unitWeight))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.totalWeight))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.unitPrice))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.totalAmount))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.remark))])])}),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("总计")]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(t.info.orderNumber))]),a("td",{attrs:{colspan:"1"}}),a("td",{attrs:{colspan:"1"}},[t._v(t._s(t.info.totalWeight))]),a("td",{attrs:{colspan:"1"}}),a("td",{attrs:{colspan:"1"}},[t._v(t._s(t.info.totalAmount))]),a("td",{attrs:{colspan:"1"}})]),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("人民币大写")]),a("td",{attrs:{colspan:"6"}})]),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("1、交货日期")]),t._v("\n                            "+t._s(t.info.deliveryTime)+"   供方须严格按交期交货，如需调整日期，须及时知会本公司并经本公司批准，否则延误交货须扣除该批货款10%。\n                        ")])]),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("2、品质")]),t._v("供方所供产品，应完全依照本公司提供的图纸及相关标准制造，本公司将依照同一标准抽样检查，拒收未经技术管理中心确认的任何来货；\n                        ")])]),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("3、付款方式")]),t._v("\n                            "+t._s(t.info.payType)+"\n                        ")])]),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("4、付款条件")]),t._v("交货验收合格后，本公司于收到发票之日起60日内结清货款，每月25日以后交付货品拨归次月账项，\n                            "),a("br"),t._v("请于本月30日前将对账单快递至本公司采购部，逾期送单将延至次月对账；\n                        ")])]),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("5、")]),t._v("送货单须规范注明订单编号、产品名称、规格等，同时要注明欠货数量及补货日期；\n                        ")])]),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("6、送货时须附上相应的“机械性能报告”、“材质证明书”等相关证明；")]),t._v("2018-12-29\n                        ")])]),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("7、")]),t._v("如因来料品质不符或因交期延误，致使需方蒙受损失，责任全部由供方承担；\n                        ")])]),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("8、")]),t._v("以上计划价格仅供参考，如有疑义，则以合同金额为准。\n                        ")])]),a("tr",[a("td",{attrs:{colspan:"3"}},[t._v("供方确认:")]),a("td",{attrs:{colspan:"3"}},[t._v("批准：")]),a("td",{attrs:{colspan:"3"}},[t._v("审核：")]),a("td",{attrs:{colspan:"3"}},[t._v("经办：")])]),a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"3"}},[t._v("年    月    日")]),a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"3"}},[t._v("年    月    日")]),a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"3"}},[t._v("年    月    日")]),a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"3"}},[t._v("年    月    日")])])],2)])]),a("div",{staticClass:"layer-btns"},[a("btn",{attrs:{flat:"",color:"#008eff"},on:{click:function(s){t.layer=!1}}},[t._v("关闭")])],1)]):t._e()],1)},r=[],i=a("9b68"),n={name:"purchsemanage-purchase",components:{DataList:i["a"]},data:function(){return{natureList:["国有","三资","集体","联营","私营"],statusList:[{status:1,name:"待审批"},{status:2,name:"审批中"},{status:3,name:"采购中"},{status:4,name:"审批不通过"},{status:5,name:"采购完成"}],filter:{orderNo:"",status:0,createUserId:0},wreck:{orderNo:"",wreckAmount:0,wreckReason:""},completeLayer:!1,confirmLayer:!1,loading:!1,info:{},itemList:[],orderUrl:"",layer:!1}},created:function(){this.filter.createUserId=0},methods:{getInfo:function(t){var s=this;this.layer=!0,this.orderUrl="/haolifa/export/purchaseOrder/"+t,this.info.id=t,this.$http.get("/haolifa/purchase-order/info/".concat(t)).then(function(t){s.info=t.order,s.itemList=t.items,s.info.operateTime=t.order.operateTime.substring(0,10),s.info.confirmTime=t.order.confirmTime.substring(0,10),s.info.createTime=t.order.createTime.substring(0,10),s.info.deliveryTime=t.order.deliveryTime.substring(0,10),s.info.updateTime=t.order.updateTime.substring(0,10),console.log("info",s.info),console.log("itemList",s.itemList)}).catch(function(t){s.$toast(t.msg)})},downloadOrder:function(t){var s=this;this.$http.get("/haolifa/export/purchaseOrder/".concat(t)).then(function(t){}).catch(function(t){s.$toast(t.msg)})},createInspect:function(t){var s=this;this.$http.get("/haolifa/purchase-order/createInspect/".concat(t)).then(function(t){console.log("报检单号",t),s.$confirm({title:"完善报检单",text:"现在去完善报检单？",color:"blue",btns:["稍后再说","现在完善"],yes:function(){s.$router.push("/applyBuy-material/edit?id=".concat(t))}})})},approveProgress:function(t){this.$router.push({path:"/purchsemanage-purchase/approveProgress?",query:{formNo:t.purchaseOrderNo,formId:0}})},approve:function(t){var s=this;this.$confirm({title:"发起审批",text:"确定发起审批？",color:"blue",btns:["取消","确认"],yes:function(){s.$http.get("/haolifa/purchase-order/approve/".concat(t,"/0")).then(function(t){s.$toast("发起成功"),s.$refs.list.update()}).catch(function(t){s.$toast(t.msg||t.message)})}})},updatePurchase:function(t){this.$router.push("/purchsemanage-purchase/add?formId=".concat(t))},completePurchase:function(t){this.completeLayer=!0,this.wreck.orderNo=t},complete:function(){var t=this;this.$http.post("/haolifa/purchase-order/complete",this.wreck).then(function(s){t.completeLayer=!1,t.$refs.list.update(!0)}).catch(function(s){t.$toast(s.msg||s.message)})},deletePurchase:function(t){var s=this;this.$confirm({title:"删除确认",text:"您确定要删除该订单么？",color:"red",btns:["取消","删除"],yes:function(){s.$http.get("/haolifa/purchase-order/delete/".concat(t)).then(function(t){s.$toast("删除成功"),s.$refs.list.update()}).catch(function(t){s.$toast(t.msg)})}})}}},o=n,l=(a("12b1"),a("c46c")),c=Object(l["a"])(o,e,r,!1,null,null,null);c.options.__file="index.vue";s["default"]=c.exports},f2dee:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"purchaseadd flex-col"},[a("div",{staticClass:"flex-v-center tool-bar"},[a("div",{staticClass:"flex-v-center search-bar",staticStyle:{"margin-right":"20px"}},[a("i",{staticClass:"icon f-20 c-8"},[t._v("search")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.orderNo,expression:"filter.orderNo"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"采购合同号"},domProps:{value:t.filter.orderNo},on:{change:function(s){t.$refs.list.update(!0)},input:function(s){s.target.composing||t.$set(t.filter,"orderNo",s.target.value)}}}),a("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.status,expression:"filter.status"}],staticClass:"f-14",on:{change:[function(s){var a=Array.prototype.filter.call(s.target.options,function(t){return t.selected}).map(function(t){var s="_value"in t?t._value:t.value;return s});t.$set(t.filter,"status",s.target.multiple?a:a[0])},function(s){t.$refs.list.update(!0)}]}},[a("option",{attrs:{value:"0"}},[t._v("合同状态")]),t._l(t.statusList,function(s){return a("option",{key:s.id,domProps:{value:s.status}},[t._v(t._s(s.name))])})],2),a("i",{staticClass:"icon",staticStyle:{"margin-left":"-20px","pointer-events":"none"}},[t._v("arrow_drop_down")])]),a("div",{staticClass:"flex-item"}),a("router-link",{attrs:{to:"/purchsemanage-purchase/add"}},[a("btn",{staticClass:"b",attrs:{flat:"",color:"#008eff"}},[t._v("新增采购")])],1)],1),a("div",{staticClass:"flex-item scroll-y"},[a("data-list",{ref:"list",attrs:{method:"get","page-size":10,param:t.filter,url:"/haolifa/purchase-order/list/0"},scopedSlots:t._u([{key:"item",fn:function(s){var e=s.item,r=s.index;return[a("td",[t._v(t._s(r))]),a("td",[t._v(t._s(e.purchaseOrderNo))]),a("td",[t._v(t._s(e.supplierName))]),a("td",[t._v(t._s(e.deliveryTime))]),a("td",[t._v(t._s(t.statusList[e.status-1].name))]),a("td",[t._v(t._s(e.createUserId))]),a("td",[t._v(t._s(e.createTime))]),a("td",{staticClass:"t-right"},[a("a",{staticClass:"blue",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(s){t.getInfo(e.id)}}},[t._v("查看")]),1==e.status?a("a",{staticClass:"blue",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(s){t.approve(e.purchaseOrderNo)}}},[t._v("发起审批")]):t._e(),3==e.status?a("a",{staticClass:"blue",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(s){t.createInspect(e.id)}}},[t._v("生成报检单")]):t._e(),1==e.status?a("a",{staticClass:"blue",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(s){t.updatePurchase(e.id)}}},[t._v("编辑")]):t._e(),2==e.status?a("a",{staticClass:"blue",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(s){t.approveProgress(e)}}},[t._v("审批进度")]):t._e(),1==e.status||4==e.status?a("a",{staticClass:"blue",attrs:{href:"javascript:;"},on:{click:function(s){t.deletePurchase(e.purchaseOrderNo)}}},[t._v("删除")]):t._e(),3==e.status?a("a",{staticClass:"blue",attrs:{href:"javascript:;"},on:{click:function(s){t.completePurchase(e.purchaseOrderNo)}}},[t._v("采购完成")]):t._e()])]}}])},[a("tr",{attrs:{slot:"header"},slot:"header"},[a("th",{staticStyle:{width:"60px"}},[t._v("序号")]),a("th",[t._v("采购合同号")]),a("th",[t._v("供方单位")]),a("th",[t._v("采购完成日期")]),a("th",[t._v("订单状态")]),a("th",[t._v("创建人")]),a("th",[t._v("创建日期")]),a("th",{staticClass:"t-right",staticStyle:{width:"80px"}},[t._v("操作")])])])],1),t.completeLayer?a("layer",{attrs:{title:"订单折损",width:"450px"}},[a("div",{staticClass:"flex"},[a("input-box",{staticClass:"flex-item mr-20",attrs:{label:"折损金额"},model:{value:t.wreck.wreckAmount,callback:function(s){t.$set(t.wreck,"wreckAmount",s)},expression:"wreck.wreckAmount"}}),a("input-box",{staticClass:"flex-item mr-20",attrs:{label:"折损原因"},model:{value:t.wreck.wreckReason,callback:function(s){t.$set(t.wreck,"wreckReason",s)},expression:"wreck.wreckReason"}})],1),a("div",{staticClass:"layer-btns"},[a("btn",{attrs:{flat:""},on:{click:function(s){t.completeLayer=!1}}},[t._v("取消")]),a("btn",{attrs:{flat:"",color:"#008eff"},on:{click:function(s){t.complete()}}},[t._v("保存")])],1)]):t._e(),t.layer?a("layer",{attrs:{title:"详情",width:"70%"}},[a("div",{staticClass:"layer-text",staticStyle:{"padding-bottom":"50px"}},[a("div",{staticClass:"form-content metalwork-info"},[a("table",{staticClass:"f-14"},[a("tr",[a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}})]),a("tr",[a("td",{staticClass:"b",attrs:{colspan:"6"}},[t._v("采购订单")]),a("td",{staticClass:"b",attrs:{colspan:"6"}},[a("a",{staticClass:"a",staticStyle:{color:"#008eff","margin-right":"10px"},attrs:{flat:"",href:t.orderUrl}},[t._v("合同下载")])])]),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("订单号："+t._s(t.info.purchaseOrderNo))]),a("td",{attrs:{colspan:"6"}},[t._v("下单日期："+t._s(t.info.createTime))])]),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("供方："+t._s(t.info.supplierName))]),a("td",{attrs:{colspan:"6"}},[t._v("需方："+t._s(t.info.demander))])]),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("联系人："+t._s(t.info.supplierLinkman))]),a("td",{attrs:{colspan:"6"}},[t._v("联系人："+t._s(t.info.demanderLinkman))])]),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("联系电话："+t._s(t.info.suppilerPhone))]),a("td",{attrs:{colspan:"6"}},[t._v("联系电话："+t._s(t.info.demanderPhone))])]),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("供方地址："+t._s(t.info.suppilerAddr))]),a("td",{attrs:{colspan:"6"}},[t._v("需方地址："+t._s(t.info.demanderAddr))])]),a("tr",[a("td",{attrs:{colspan:"12"}},[t._v("兹向贵公司订购以下货品（如下表所列），请于24小时内签字回传！")])]),a("tr",[a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("序号")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("产品名称")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("图号")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("规格")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("材质")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("单位")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("数量")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("单重")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("总重")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("单价")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("金额")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("备注")])]),t._l(t.itemList,function(s,e){return a("tr",{key:s.id},[a("td",{attrs:{colspan:"1"}},[t._v(t._s(e))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.materialName))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.materialGraphNo))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.specification))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.material))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.unit))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.number))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.unitWeight))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.totalWeight))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.unitPrice))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.totalAmount))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.remark))])])}),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("总计")]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(t.info.orderNumber))]),a("td",{attrs:{colspan:"1"}}),a("td",{attrs:{colspan:"1"}},[t._v(t._s(t.info.totalWeight))]),a("td",{attrs:{colspan:"1"}}),a("td",{attrs:{colspan:"1"}},[t._v(t._s(t.info.totalAmount))]),a("td",{attrs:{colspan:"1"}})]),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("人民币大写")]),a("td",{attrs:{colspan:"6"}})]),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("1、交货日期")]),t._v("\n                            "+t._s(t.info.deliveryTime)+"   供方须严格按交期交货，如需调整日期，须及时知会本公司并经本公司批准，否则延误交货须扣除该批货款10%。\n                        ")])]),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("2、品质")]),t._v("供方所供产品，应完全依照本公司提供的图纸及相关标准制造，本公司将依照同一标准抽样检查，拒收未经技术管理中心确认的任何来货；\n                        ")])]),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("3、付款方式")]),t._v("\n                            "+t._s(t.info.payType)+"\n                        ")])]),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("4、付款条件")]),t._v("交货验收合格后，本公司于收到发票之日起60日内结清货款，每月25日以后交付货品拨归次月账项，\n                            "),a("br"),t._v("请于本月30日前将对账单快递至本公司采购部，逾期送单将延至次月对账；\n                        ")])]),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("5、")]),t._v("送货单须规范注明订单编号、产品名称、规格等，同时要注明欠货数量及补货日期；\n                        ")])]),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("6、送货时须附上相应的“机械性能报告”、“材质证明书”等相关证明；")]),t._v("2018-12-29\n                        ")])]),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("7、")]),t._v("如因来料品质不符或因交期延误，致使需方蒙受损失，责任全部由供方承担；\n                        ")])]),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("8、")]),t._v("以上计划价格仅供参考，如有疑义，则以合同金额为准。\n                        ")])]),a("tr",[a("td",{attrs:{colspan:"3"}},[t._v("供方确认:")]),a("td",{attrs:{colspan:"3"}},[t._v("批准：")]),a("td",{attrs:{colspan:"3"}},[t._v("审核：")]),a("td",{attrs:{colspan:"3"}},[t._v("经办：")])]),a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"3"}},[t._v("年    月    日")]),a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"3"}},[t._v("年    月    日")]),a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"3"}},[t._v("年    月    日")]),a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"3"}},[t._v("年    月    日")])])],2)])]),a("div",{staticClass:"layer-btns"},[a("btn",{attrs:{flat:"",color:"#008eff"},on:{click:function(s){t.layer=!1}}},[t._v("关闭")])],1)]):t._e()],1)},r=[],i=a("9b68"),n={name:"purchsemanage-purchase",components:{DataList:i["a"]},data:function(){return{natureList:["国有","三资","集体","联营","私营"],statusList:[{status:1,name:"待审批"},{status:2,name:"审批中"},{status:3,name:"采购中"},{status:4,name:"审批不通过"},{status:5,name:"采购完成"}],filter:{orderNo:"",status:0,createUserId:0},wreck:{orderNo:"",wreckAmount:0,wreckReason:""},completeLayer:!1,confirmLayer:!1,loading:!1,info:{},itemList:[],orderUrl:"",layer:!1}},created:function(){this.filter.createUserId=0},methods:{getInfo:function(t){var s=this;this.layer=!0,this.orderUrl="/haolifa/export/purchaseOrder/"+t,this.info.id=t,this.$http.get("/haolifa/purchase-order/info/".concat(t)).then(function(t){s.info=t.order,s.itemList=t.items,s.info.operateTime=t.order.operateTime.substring(0,10),s.info.confirmTime=t.order.confirmTime.substring(0,10),s.info.createTime=t.order.createTime.substring(0,10),s.info.deliveryTime=t.order.deliveryTime.substring(0,10),s.info.updateTime=t.order.updateTime.substring(0,10),console.log("info",s.info),console.log("itemList",s.itemList)}).catch(function(t){s.$toast(t.msg)})},downloadOrder:function(t){var s=this;this.$http.get("/haolifa/export/purchaseOrder/".concat(t)).then(function(t){}).catch(function(t){s.$toast(t.msg)})},createInspect:function(t){var s=this;this.$http.get("/haolifa/purchase-order/createInspect/".concat(t)).then(function(t){console.log("报检单号",t),s.$confirm({title:"完善报检单",text:"现在去完善报检单？",color:"blue",btns:["稍后再说","现在完善"],yes:function(){s.$router.push("/applyBuy-material/edit?id=".concat(t))}})})},approveProgress:function(t){this.$router.push({path:"/purchsemanage-purchase/approveProgress?",query:{formNo:t.purchaseOrderNo,formId:0}})},approve:function(t){var s=this;this.$confirm({title:"发起审批",text:"确定发起审批？",color:"blue",btns:["取消","确认"],yes:function(){s.$http.get("/haolifa/purchase-order/approve/".concat(t,"/0")).then(function(t){s.$toast("发起成功"),s.$refs.list.update()}).catch(function(t){s.$toast(t.msg||t.message)})}})},updatePurchase:function(t){this.$router.push("/purchsemanage-purchase/add?formId=".concat(t))},completePurchase:function(t){this.completeLayer=!0,this.wreck.orderNo=t},complete:function(){var t=this;this.$http.post("/haolifa/purchase-order/complete",this.wreck).then(function(s){t.completeLayer=!1,t.$refs.list.update(!0)}).catch(function(s){t.$toast(s.msg||s.message)})},deletePurchase:function(t){var s=this;this.$confirm({title:"删除确认",text:"您确定要删除该订单么？",color:"red",btns:["取消","删除"],yes:function(){s.$http.get("/haolifa/purchase-order/delete/".concat(t)).then(function(t){s.$toast("删除成功"),s.$refs.list.update()}).catch(function(t){s.$toast(t.msg)})}})}}},o=n,l=(a("d651"),a("c46c")),c=Object(l["a"])(o,e,r,!1,null,null,null);c.options.__file="addList.vue";s["default"]=c.exports},f48a:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"page-supplier-info abs scroll-y"},[a("div",{staticClass:"form-content"},[a("div",{staticClass:"b f-18 flex-v-center",staticStyle:{"margin-bottom":"20px"}},[a("icon-btn",{staticClass:"mr-15",on:{click:function(s){t.$router.back()}}},[t._v("arrow_back")]),a("div",{staticClass:"flex-item"},[t._v("订单详情")]),a("div",{staticClass:"flex-item ml-20"},[a("a",{staticClass:"a",staticStyle:{color:"#008eff"},attrs:{flat:"",href:t.orderUrl}},[t._v("合同下载")])])],1),a("table",{staticClass:"f-14"},[t._m(0),t._m(1),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("订单号："+t._s(t.info.purchaseOrderNo))]),a("td",{attrs:{colspan:"6"}},[t._v("下单日期："+t._s(t.info.createTime))])]),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("供方："+t._s(t.info.supplierName))]),a("td",{attrs:{colspan:"6"}},[t._v("需方："+t._s(t.info.demander))])]),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("联系人："+t._s(t.info.supplierLinkman))]),a("td",{attrs:{colspan:"6"}},[t._v("联系人："+t._s(t.info.demanderLinkman))])]),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("联系电话："+t._s(t.info.suppilerPhone))]),a("td",{attrs:{colspan:"6"}},[t._v("联系电话："+t._s(t.info.demanderPhone))])]),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("供方地址："+t._s(t.info.suppilerAddr))]),a("td",{attrs:{colspan:"6"}},[t._v("需方地址："+t._s(t.info.demanderAddr))])]),t._m(2),t._m(3),t._l(t.itemList,function(s,e){return a("tr",{key:s.id},[a("td",{attrs:{colspan:"1"}},[t._v(t._s(e))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.materialName))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.materialGraphNo))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.specification))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.material))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.unit))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.number))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.unitWeight))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.totalWeight))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.unitPrice))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.totalAmount))]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(s.remark))])])}),a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("总计")]),a("td",{attrs:{colspan:"1"}},[t._v(t._s(t.info.orderNumber))]),a("td",{attrs:{colspan:"1"}}),a("td",{attrs:{colspan:"1"}},[t._v(t._s(t.info.totalWeight))]),a("td",{attrs:{colspan:"1"}}),a("td",{attrs:{colspan:"1"}},[t._v(t._s(t.info.totalAmount))]),a("td",{attrs:{colspan:"1"}})]),t._m(4),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("1、交货日期")]),t._v(t._s(t.info.deliveryTime)+"   供方须严格按交期交货，如需调整日期，须及时知会本公司并经本公司批准，否则延误交货须扣除该批货款10%。")])]),t._m(5),a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("3、付款方式")]),t._v(t._s(t.info.payType))])]),t._m(6),t._m(7),t._m(8),t._m(9),t._m(10),t._m(11),t._m(12)],2)])])},r=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("tr",[a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}}),a("td",{staticStyle:{width:"10%"}})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("tr",[a("td",{staticClass:"b",attrs:{colspan:"12"}},[t._v("采购订单")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("tr",[a("td",{attrs:{colspan:"12"}},[t._v("兹向贵公司订购以下货品（如下表所列），请于24小时内签字回传！")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("tr",[a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("序号")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("产品名称")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("图号")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("规格")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("材质")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("单位")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("数量")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("单重")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("总重")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("单价")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("金额")]),a("td",{staticClass:"b",attrs:{colspan:"1"}},[t._v("备注")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("tr",[a("th",{attrs:{colspan:"6"}},[t._v("人民币大写")]),a("td",{attrs:{colspan:"6"}})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("2、品质")]),t._v("供方所供产品，应完全依照本公司提供的图纸及相关标准制造，本公司将依照同一标准抽样检查，拒收未经技术管理中心确认的任何来货；")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("4、付款条件")]),t._v("交货验收合格后，本公司于收到发票之日起60日内结清货款，每月25日以后交付货品拨归次月账项，"),a("br"),t._v("请于本月30日前将对账单快递至本公司采购部，逾期送单将延至次月对账；")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("5、")]),t._v("送货单须规范注明订单编号、产品名称、规格等，同时要注明欠货数量及补货日期；")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("6、送货时须附上相应的“机械性能报告”、“材质证明书”等相关证明；")]),t._v("2018-12-29")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("7、")]),t._v("如因来料品质不符或因交期延误，致使需方蒙受损失，责任全部由供方承担；")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("tr",[a("td",{attrs:{colspan:"12"}},[a("span",{staticClass:"b"},[t._v("8、")]),t._v("以上计划价格仅供参考，如有疑义，则以合同金额为准。")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("tr",[a("td",{attrs:{colspan:"3"}},[t._v("供方确认:")]),a("td",{attrs:{colspan:"3"}},[t._v("批准：")]),a("td",{attrs:{colspan:"3"}},[t._v("审核：")]),a("td",{attrs:{colspan:"3"}},[t._v("经办：")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"3"}},[t._v("年    月    日")]),a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"3"}},[t._v("年    月    日")]),a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"3"}},[t._v("年    月    日")]),a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"3"}},[t._v("年    月    日")])])}],i={name:"purchsemanage-purchaseinfo",data:function(){return{loading:!1,info:{},itemList:[],orderUrl:""}},created:function(){this.getInfo()},methods:{getInfo:function(){var t=this,s=this.$route.query.formId;this.orderUrl="/haolifa/export/purchaseOrder/"+s,console.log(s),this.info.id=s,this.$http.get("/haolifa/purchase-order/info/".concat(s)).then(function(s){t.info=s.order,t.itemList=s.items,t.info.operateTime=s.order.operateTime.substring(0,10),t.info.confirmTime=s.order.confirmTime.substring(0,10),t.info.createTime=s.order.createTime.substring(0,10),t.info.deliveryTime=s.order.deliveryTime.substring(0,10),t.info.updateTime=s.order.updateTime.substring(0,10),console.log("info",t.info),console.log("itemList",t.itemList)}).catch(function(s){t.$toast(s.msg)})},downloadOrder:function(t){var s=this;this.$http.get("/haolifa/export/purchaseOrder/".concat(t)).then(function(t){}).catch(function(t){s.$toast(t.msg)})}}},n=i,o=(a("9086"),a("c46c")),l=Object(o["a"])(n,e,r,!1,null,null,null);l.options.__file="info.vue";s["default"]=l.exports},f521:function(t,s,a){a("289a"),t.exports=a("7f8a").Object.keys}}]);
//# sourceMappingURL=suppliermanage.387a4fce.js.map