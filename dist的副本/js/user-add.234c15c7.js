(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user-add"],{"2e63":function(e,t,s){"use strict";var a=s("509e"),r=s.n(a);r.a},"509e":function(e,t,s){},"9de0":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page-user-add"},[s("div",{staticClass:"form-content"},[s("div",{staticClass:"title b f-18 mb-20"},[e._v("新增用户")]),s("input-box",{staticClass:"flex-item",attrs:{label:"姓名"},model:{value:e.form.realName,callback:function(t){e.$set(e.form,"realName",t)},expression:"form.realName"}}),s("div",{staticClass:"flex-v-center mt-10 mb-10"},[s("span",{staticClass:"mr-20"},[e._v("性别: ")]),s("radio-box",{attrs:{label:"0",text:"未知"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}}),s("radio-box",{attrs:{label:"1",text:"男"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}}),s("radio-box",{attrs:{label:"2",text:"女"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}})],1),s("div",{staticClass:"flex-v-center"},[s("input-box",{staticClass:"flex-item mr-10",attrs:{label:"用户名"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}}),e.editPwd?s("input-box",{staticClass:"flex-item",attrs:{label:"密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}):s("div",{staticClass:"flex-item"},[s("btn",{on:{click:function(t){e.editPwd=!0}}},[e._v("点击修改密码")])],1)],1),s("div",{staticClass:"flex-v-center"},[s("input-box",{staticClass:"flex-item mr-10",attrs:{label:"籍贯"},model:{value:e.form.nativePlace,callback:function(t){e.$set(e.form,"nativePlace",t)},expression:"form.nativePlace"}}),s("input-box",{staticClass:"flex-item",attrs:{label:"身份证号"},model:{value:e.form.idCard,callback:function(t){e.$set(e.form,"idCard",t)},expression:"form.idCard"}})],1),s("div",{staticClass:"flex-v-center"},[s("input-box",{staticClass:"flex-item mr-10",attrs:{label:"员工编号"},model:{value:e.form.userNo,callback:function(t){e.$set(e.form,"userNo",t)},expression:"form.userNo"}}),s("input-box",{staticClass:"flex-item",attrs:{label:"手机号码"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),s("date-picker",{staticStyle:{width:"50%"},attrs:{label:"入职时间"},model:{value:e.form.entryTime,callback:function(t){e.$set(e.form,"entryTime",t)},expression:"form.entryTime"}}),s("div",{staticClass:"flex-v-center",staticStyle:{margin:"20px 0"}},[s("btn",{staticClass:"mr-20",attrs:{big:""},on:{click:e.submit}},[e._v("提交")]),s("btn",{staticClass:"mr-20",attrs:{big:"",flat:"",bg:""},on:{click:e.cancel}},[e._v("取消")]),s("btn",{attrs:{big:"",flat:""},on:{click:e.clear}},[e._v("清空")])],1)],1)])},r=[],i=(s("c839"),s("a6b57")),o=s.n(i),n={id:"",username:"",password:"",realName:"",userNo:"",sex:0,nativePlace:"",phone:"",idCard:"",entryTime:""},l=s("ba8f"),c=s.n(l),f={name:"page-user-add",data:function(){return{editPwd:!0,form:JSON.parse(o()(n))}},created:function(){this.$route.query.id&&"user-edit"===this.$route.name&&(this.editPwd=!1,this.getUser())},methods:{getUser:function(){var e=this,t=this.$route.query.id;this.$http.get("/haolifa/user/"+t).then(function(t){for(var s in e.form)e.form[s]=t[s];e.form.entryTime=c()(t.entryTime).format("YYYY-MM-DD"),e.form.password=""})},clear:function(){this.form=JSON.parse(o()(n))},cancel:function(){this.$router.back()},verify:function(){var e=this.form,t=!0;for(var s in e)""===e[s]&&"id"!==s&&"password"!==s&&(this.$toast("请输入 ".concat(s)),t=!1);return this.editPwd&&!e.password&&(t=!1),t},submit:function(){var e=this;if(this.verify()){var t=JSON.parse(o()(this.form));this.editPwd||delete t.password;var s=t.id?"put":"post";this.$http[s]("/haolifa/user",t).then(function(t){e.$router.push("/user"),e.$toast("保存成功")}).catch(function(t){e.$toast(t.message||t.msg)})}}}},m=f,u=(s("2e63"),s("c46c")),d=Object(u["a"])(m,a,r,!1,null,null,null);d.options.__file="add.vue";t["default"]=d.exports},a6b57:function(e,t,s){e.exports=s("ebd3")},ebd3:function(e,t,s){var a=s("7f8a"),r=a.JSON||(a.JSON={stringify:JSON.stringify});e.exports=function(e){return r.stringify.apply(r,arguments)}}}]);
//# sourceMappingURL=user-add.234c15c7.js.map